\begin{tikzpicture}[DP]
    \draw[rounded corners=2, dotted] (-1,-5.5) rectangle (1,3)node[above]{$\Tr_{\funposA,\resposB}^{\resposC}(\adpa)$};
    \node[dp={2}{2}] (f) {$\adpa$};
    \draw[\dpred,dashed,shorten <=1.0pt, shorten >=0.1] (f_res1) to node[pos=1,right]{$\resposB$}($(f_res1.east)+(0.9,0)$){};
    \draw[\dpgreen,shorten <=1.0pt, shorten >=0.1] (f_fun1) to node[pos=1,left]{$\funposA$}($(f_fun1.west)+(-0.9,0)$){};
    %\draw[funconn, funame={$\funposA$}] (f_fun1){};
    \draw[rconn,rcname={$\resposC$},fcname={$\funposC$},feedback=1,loos=3, posfun=0.5, posres=0.5] (f_res2) -- ($(f)-(0,5)$) |- (f_fun2);
\end{tikzpicture}
