% !TEX program = latexmk
\documentclass[paper=8.125in:10.250in,pagesize=pdftex,
    headinclude=false,footinclude=false,oneside,egregdoesnotlikesansseriftitles]{kaobook}

\input{utils/preamble}
\input{utils/body-init}

\title{ACT4E -- Draft of Exam 1}

\begin{document}
    \setboolean{bookversion}{true}
    \setboolean{statuscolors}{false}
    \setboolean{debugimages}{true}
    \setboolean{cachepdf}{true}
    \setboolean{devel}{true}
    \setboolean{showslides}{false}
    \setboolean{instructors}{true}
    \setboolean{codeexercises}{true}

\maketitle

%\section*{Meta}
%
%\noindent
%Exam date: 27.08.2021 \\
%Exam time: 10:00 -- 11:30  (1.5 hours) \\ 
%Exam place: HG E 7 \\
%Allowed materials: open book (laptops, phones, internet?)
%
%\
%
%\noindent
%Aims of the exam: 
%\begin{enumerate}
%\item Test familiarity with and understanding of basic definitions from the course
%\item Test proficiency in basic mathematical skills relating to proving statements, reasoning, and problem-solving
%\item Test the understanding of interconnections between various concepts introduced in the course, and the ability to transfer knowledge
%\item Test the understanding of the "compositional way of thinking" and the use of category theory concepts in connection with applied examples
%\end{enumerate}
%
%\
%
%\noindent
%Desired properties of the exam: 
%\begin{enumerate}
%\item Have more questions than are expected by any average or slightly above average student to be solved in the given 1.5 hours (we can then grade on a curve), in order to account for uncertainty in how difficult we judge the exam to be. 
%\item On the other hand we should not have too too many questions, because otherwise the grading work will be disproportionally large in proportion to the number of students. 
%\item Include some multiple choice questions as a way to provide students with a quick means to gain points and to reduce correction work. 
%\item Include some problems that ask for mathematical proofs. 
%\item Include some problems that have an applied flavor. 
%\item Include at least one problem that is challenging and requires some creative problem solving. 
%\end{enumerate}
%

%\newpage
%
%\section*{Miscellaneous exam question ideas}
%
%\begin{exercise}
%Let $(\posA, \leq)$ be a poset. Explain how $(\posA, \leq)$ can be viewed as a category, and prove that, in this interpretation, it satisfies the definition of a category. 
%\end{exercise}
%
%
%\begin{exercise}
%Let $\tup{\monA, \then, \id}$ be a monoid. Explain how $\tup{\monA, \then, \id}$ can be viewed as a category, and prove that, in this interpretation, it satisfies the definition of a category. 
%\end{exercise}
%
%
%\begin{exercise}
%Something about monoid or group actions... maybe proving that the ``traditional definition'' is equivalent to one that involves the concept of ``functor'' ?
%\end{exercise}
%
%
%\begin{exercise}
%Check that the Kleisli category of a monad is indeed a category... (do this generically or using a concrete example?)
%\end{exercise}
%
%\begin{exercise}
%Check that the Eilenberg-Moore category of a monad is indeed a category...  (do this generically or using a concrete example?)
%\end{exercise}
%
%
%\begin{exercise}
%A problem about interpreting string diagrams for monoidal categories. 
%\end{exercise}
%
%
%\begin{exercise}
%More stuff using $Vect_R$ !
%\end{exercise}
%
%\newpage


\section*{Exam information}


Welcome to the exam for the course Applied Compositional Thinking! 

\

\emph{Please do not look at the exam questions until instructed to begin the exam.}

\

Exam information: 
\begin{enumerate}
\item The exam will last 1.5 hours. We will tell you when you may begin, and we will signal when the time is up. 
\item Please write in blue or black pen. 
\item All pages with your answers on them must be labeled with your name!
\item Turn in all relevant sheets of paper at the end (including calculations, partial proofs, etc.) so that we consider as much of your work as possible when grading the exam. 
\item This is an ``open book'' exam. This means you can consult any books or other materials during the exam, including electronic PDFs and searching in the internet. However it is * NOT * allowed to communicate with anyone during the exam, electronically or otherwise. 
\end{enumerate}

\newpage

\section*{Draft Exam 1}


\begin{gradedexercise}[\exname{AlgebraicGadgets}]\label{ex:AlgebraicGadgets}
(6 points) 
\

True or false? 
\begin{enumerate}
\item $\tup{\mathbb{N}, +}$ is a group. 
\item $\tup{\mathbb{Z}, \cdot, 0}$ is a monoid. 
\item $\tup{\mathbb{N}, \leq}$ is a poset. 
\item $\tup{\reals, +, 1}$ is a group.
\item $\tup{\reals_{>0}, \cdot, 1}$ is a group. 
\item $\tup{\mathbb{N}, \text{gcd}}$ is a semigroup.
\end{enumerate}
Note: "gcd" stands for the binary operation "greatest common divisor". 
\end{gradedexercise}

\solutionof{AlgebraicGadgets}

\newpage


\begin{gradedexercise}[\exname{MonotoneMaps}]\label{ex:MonotoneMaps}
 (6 points) 
 
Consider the posets~$\tup{\posA, \posleq_\posA}$ and~$\tup{\posB, \posleq_\posB}$, described respectively by the following Hasse diagrams.
 
\begin{equation}
%\includegraphics[width=0.5\linewidth]{pics/ExamPosets.png}
    \includesag{exam_posets}
\end{equation}

The following is a list of diagrams of functions~$\posA \mto \posB$.
We will refer to them by~$\mapa_1$,~$\mapa_2$,~$\mapa_3$ and~$\mapa_4$, respectively.

\begin{center}
\setlength{\tabcolsep}{30pt}
\begin{tabular}{cc}
    $\mapa_1$&
%\includegraphics[width=0.5\linewidth]{pics/ExamPosetMap1.png}
    \includesag{exam_f1}\\[+50pt]
    $\mapa_2$&
    %\includegraphics[width=0.5\linewidth]{pics/ExamPosetMap2.png}
    \includesag{exam_f2}\\[+50pt]
    $\mapa_3$&
    %\includegraphics[width=0.5\linewidth]{pics/ExamPosetMap3.png}
    \includesag{exam_f3}\\[+50pt]
    $\mapa_4$&
    %\includegraphics[width=0.5\linewidth]{pics/ExamPosetMap4.png}
    \includesag{exam_f4}
\end{tabular}
\end{center}


\begin{enumerate}
\item (4 points) Which of the functions~$\mapa_1$,~$\mapa_2$,~$\mapa_3$ and~$\mapa_4$ are monotone functions?
\item (4 points) Consider the set of all monotone maps from~$\tup{\posA, \posleq_\posA}$ to~$\tup{\posB, \posleq_\posB}$. Define two different partial orders on this set. (You do not need to prove that they are indeed partial orders, you only need to specify your definitions.)
%\item (2 points) We can think of any poset as a special kind of category. If we think of posets as categories, then functors between them correspond to monotone functions. Natural transformations relate one functor to another; in the world of posets and monotone functions, what do natural transformations correspond to?
\end{enumerate}
 
\end{gradedexercise}

\solutionof{MonotoneMaps}

\newpage

\begin{gradedexercise}[\exname{UpperLowerPreimage}]\label{ex:UpperLowerPreimage}
(2 points) 

Let~$\tup{\posA, \posleq_\posA}$ be a poset and let~$\Bool$ denote the set~$\{ \false, \true \}$ equipped with the partial order such that~$\false \posleq \true$.
Let~$\mapa \colon \posA \mto \Bool$ be a monotone map and consider the set
\begin{equation}
    \label{eq:preimage-of-false}
\mapa^{-1}(\false) = \{ \ela \in \posA \mid \mapa(\ela) = \false \}.
\end{equation}
Is the set $\cref{eq:preimage-of-false}$ an upper set, a lower set, or neither? 
\end{gradedexercise}

\solutionof{UpperLowerPreimage}

\newpage


\begin{gradedexercise}[\exname{StringDiagrams}]\label{ex:StringDiagrams} (6 points) 

The following is a string diagram which can be interpreted to represent a composition of morphisms (having certain types) in any given monoidal category~$\tup{\CatC,\mtimescat,\idmoncat}$.
The resulting morphism is one of the type~$\Obja \mto \Objc$.

\begin{center}
    \label{eq:ExamStringDiagram1}
%\includegraphics[width=0.5\linewidth]{pics/ExamStringDiagram1.png}
    \includesag{exam_string_diag}
\end{center}

In this exercise, we will specify three different monoidal categories, and in each case we will also specific objects and morphisms to plug into the variables~$\Obja, \Objb, \Objc$ and~$\mora, \morb$ in this diagram.
Your task is to then compute the morphism that results from composing the morphisms as dictated by the diagram.

\begin{enumerate}
\item (2 points) In this part of the exercise, let~$\tup{\CatC,\mtimescat,\idmoncat}$ be the monoidal category where~$\CatC$ is the category~$\Set$ of sets and functions,~$\mtimescat$ is the cartesian product of sets and functions, and~$\idmoncat$ is a chosen~$1$-element set that we denote by~$\{ * \}$.
In the string diagram \cref{ExamStringDiagram1} above, let~$\Obja = \mathbb{Z}$,~$\Objb = \mathbb{N}$, and~$\Objc = \mathbb{Z}$.
Furthermore, let~$\mapa\colon \{ * \} \mto \Objb$ be the function with~$\mapa(*) = 5$, and let~$\mapb \colon \mathbb{N} \times \mathbb{Z} \mto \mathbb{Z}, \tup{y, x} \mapsto x + y$.
Compute the composite morphism described by the string diagram in this case.

\

\item (2 points) In this part, now let~$\tup{\CatC,\mtimescat,\idmoncat}$ be the monoidal category where~$\CatC$ is the category~$\Rel$ of sets and relations,~$\mtimescat$ is the cartesian product of sets and relations, and~$\idmoncat$ is a chosen~$1$-element set that we again denote by~$\{ * \}$.
In the string diagram \cref{ExamStringDiagram1}, let~$\Obja = \mathbb{Z}$,~$\Objb = \mathbb{Z}$, and~$\Objc = \mathbb{Z}$.
Furthermore, let~$\mapa\colon \{ * \} \mto \mathbb{Z}$ be the relation
\begin{equation*}
\mapa = \{ \tup{*, \elb} \in \{ *\} \times \mathbb{Z} \mid \elb \text{ is an even number.} \}
\end{equation*}
and let~$\mapb \colon \mathbb{Z} \times \mathbb{Z} \mto \mathbb{Z}$ be the relation
\begin{equation*}
\mapb = \{ \tup{\tup{\elb, \ela}, \elc} \in (\mathbb{Z} \times \mathbb{Z}) \times \mathbb{Z} \mid \ela = \elb = \elc \}.
\end{equation*}

Compute the composite morphism described by the string diagram in this case.

\

\item (2 points) In this part, let~$\tup{\CatC,\mtimescat,\idmoncat}$ be the monoidal category where~$\CatC$ is the category of real vector spaces and real linear maps,~$\mtimescat$ is the direct sum, and~$\idmoncat$ is the~$0$-dimensional real vector space~$\{ 0 \}$.
In the string diagram \cref{ExamStringDiagram1}, let~$\Obja = \Objb = \Objc = \reals^3$.
Furthermore, let~$\mapa\colon \{ 0 \} \mto \reals^3$ be the linear function with~$\mapa(0) = 0$, and let~$\mapb \colon \reals^3 \oplus \reals^3 \mto \reals^3, \tup{y, x} \mapsto x + y$.
Compute the composite morphism described by the string diagram in this case.

\

\item[$\star$ 4.] (2 points) Let~$\tup{\CatC,\mtimescat,\idmoncat}$ be the monoidal category where~$\CatC$ is the category of real vector spaces and real linear maps,~$\mtimescat$ is the tensor product, and~$\idmoncat$ is the~$1$-dimensional real vector space~$\reals$.
In the string diagram \cref{ExamStringDiagram1}, let~$\Obja = \Objb =  \reals^3$ and~$\Objc = \reals$.
Let $\mapa\colon \reals \mto \reals^3$ be the linear function with~$\mapa(1) = \tup{1,1,1}$, and let~$\mapb \colon \reals^3 \otimes \reals^3 \mto \reals$ be the linear map with~$\mapb (v \otimes w) = v\cdot w$, where the latter expression denotes the dot product (inner prodcut) of the vectors~$v$ and~$w$.
Compute the composite morphism described by the string diagram in this case.
\end{enumerate}
\end{gradedexercise}

\solutionof{StringDiagrams}

\newpage


\begin{gradedexercise}[\exname{DirectSumCopr}]\label{ex:DirectSumCopr} (7 points) 


Let~$\CatC$ denote the category of real vector spaces.
Given real vector spaces~$\Obja = (V_1, +_1, \cdot_1)$ and~$\Objb = (V_2, +_2, \cdot_2)$, we define their \emph{direct sum} $\Obja \oplus \Objb$ as follows.
The underlying set of~$\Obja \oplus \Objb$ is the cartesian product of the underlying sets of~$\Obja$ and~$\Objb$, namely~$V_1 \times V_2$.
For~$\Obja \oplus \Objb$, vector addition is defined (using infix notation) by
\begin{equation*}
(\ela_1, \ela_2) + (\elb_1, \elb_2) \coloneqq (\ela_1 +_1 \elb_1, \ela_2 +_2 \elb_2) \quad \quad \ela_1, \elb_1 \in V_1; \ \ela_2, \elb_2 \in V_2;
\end{equation*}
and scalar multiplication is defined (using infix notation) by
\begin{equation*}
\lambda \cdot (\ela_1, \ela_2) \coloneqq (\lambda \cdot_1 \ela_1, \lambda \cdot_2 \ela_2), \quad \quad \lambda \in \reals; \ \ela_1 \in V_1; \ \ela_2 \in V_2.
\end{equation*}
Prove that the direct sum of real vector spaces -- together with inclusion morphisms which you should specify -- is ``the'' categorical coproduct in the category $\CatC$. 
\end{gradedexercise}

\solutionof{DirectSumCopr}

\newpage


\begin{gradedexercise}[\exname{ComposingDesignProblems}]\label{ex:ComposingDesignProblems} (5 points) 


\newcommand{\fast}{\text{fast}}
\newcommand{\slow}{\text{slow}}
\newcommand{\llarge}{\text{large}}
\newcommand{\ssmall}{\text{small}}
\newcommand{\llong}{\text{long}}
\newcommand{\sshort}{\text{short}}
\newcommand{\speed}{\text{speed}}
\newcommand{\size}{\text{size}}
\newcommand{\money}{\text{money}}
\newcommand{\ttime}{\text{time}}
\newcommand{\cheap}{\text{cheap}}
\newcommand{\midprice}{\text{mid-price}}
\newcommand{\expensive}{\text{expensive}}
Consider the following posets, given in terms of Hasse diagrams:
\begin{itemize}
\item $\speed$:

\begin{center}
%\includegraphics[width=0.2\linewidth]{pics/ExamDPPoset1.png}
\includesag{exam_pos_speed}
\end{center}

\item $\size$:

\begin{center}
%\includegraphics[width=0.2\linewidth]{pics/ExamDPPoset2.png}
\includesag{exam_pos_size}
\end{center}

\item $\money$:

\begin{center}
%\includegraphics[width=0.2\linewidth]{pics/ExamDPPoset3.png}
\includesag{exam_pos_money}
\end{center}

\item $\ttime$:

\begin{center}
%\includegraphics[width=0.2\linewidth]{pics/ExamDPPoset4.png}
\includesag{exam_pos_time}
\end{center}
\end{itemize}
Furthermore let the poset~$\speed \times \size$ be equipped with the standard product partial ordering.

Consider the design problem given by the monotone function 
\begin{equation}
\mapa\colon \F{\speed \times \size}\profto \R{\money}
\end{equation}
\begin{center}
\includesag{exam_dp_veh}
\end{center}
with 
\begin{align*}
&\mapa(\tup{ \F{\slow}, \F{\ssmall}}^*, \R{\cheap}) = \true, \\
&\mapa(\tup{ \F{\slow}, \F{\llarge}}^*, \R{\midprice}) = \true \\
&\mapa(\tup{ \F{\fast}, \F{\ssmall}}^*, \R{\expensive}) =  \true, \\
&\mapa \text{ evaluates to } \false \text{ in all other cases},
\end{align*}
as well as the design problem given by the monotone function 
\begin{equation}
\mapb\colon \F{\money} \profto \R{\ttime}
\end{equation}
\begin{center}
\includesag{exam_dp_saving}
\end{center}
with 
\begin{align*}
&\mapb( \F{\cheap}^*, \R{\sshort}) = \true \\
&\mapb(\F{\midprice}^*, \R{\llong}) = \true, \\
&\mapb \text{ evaluates to } \false \text{ in all other cases}.
\end{align*}

\begin{enumerate} 
\item (3 points) Compute the series composition~$\mapa \mthen_\DP \mapb$ in the category of design problems.
The result should be a design problem described in terms of a monotone function~$\F{\speed \times \size} \profto \R{\ttime}$.
\item (2 points) We interpret the elements of~$\speed \times \size$ as properties of cars that someone named Alice is considering buying.
The elements of~$\money$ we interpret as different amounts of money that she might need to buy said cars, and the elements of~$\ttime$ are amounts of time Alice might need in order to save different amounts of money.
We interpret~$\mapa$ and~$\mapb$, respectively, as the feasibility relations the describe what is possible for Alice.
According to the feasibility relation~$\mapa \mthen_\DP \mapb$, is it feasible for Alice to buy a fast small car?
If yes, how long will she have to work, at minimum, to save enough money to buy it?
\end{enumerate}
\end{gradedexercise}

\solutionof{ComposingDesignProblems}

\newpage


\begin{gradedexercise}[\exname{BatteryDP}]\label{ex:BatteryDP} (X points)

\newcommand{\energy}{\text{energy}}
\newcommand{\mass}{\text{mass}}
\newcommand{\money}{\text{money}}

Define the design problem of a battery as
    \begin{equation}
        \adp \colon \F{\energy}\profto (\R{\mass}\times \R{\money})
    \end{equation}
    \begin{center}
            \begin{tikzpicture}[DP, dp port sep=3pt]
  \node[dp={1}{2}, dp port sep=6pt] (car) {$\adp$};

  \draw[funconn, funame={\energy}] (car_fun1){};
  \draw[runconn, runame={\mass}] (car_res1){};
  \draw[runconn, runame={\money}] (car_res2){};
\end{tikzpicture}
    \end{center}
Let~$\energy,\mass,\money\coloneqq \bar{\nonNegReals}=\nonNegReals \cup \{\top\}$. Furthermore, let~$C$ be a \emph{catalogue} of batteries.

A recipe for creating a new battery given two batteries~$\adp_1,\adp_2$ is given by:
    \begin{equation*}
        \sigma\colon \tup{\adp_1,\adp_2}\mapsto \adpb,
    \end{equation*}
where~$\adpb$ is given by:

    \begin{center}
        \begin{tikzpicture}[DP, dp port sep=2pt, background rectangle/.style={fill=white}, show background rectangle]
            \node[dp={1}{2}] (b1) at (0,0) {$\adp_1$};
            \node[dp={1}{2}] (sum1)  at (-2,-3) {$+$};
            \node[dp={1}{2}] (b2)  at (0,-5) {$\adp_2$};
            \node[dp={3}{1}] (sum2)  at (3,-1) {$+$};
            \node[dp={3}{1}] (sum3)  at (3,-9.5) {$+$};
            \node[dp={0}{2}, dp port sep=6pt] (b3)  at (0,-10) {$\adp_3$};
            \draw[rconn, rcname={},relres=above, relfun=above] (sum1_res1) to[in=180,out=0] (b1_fun1);
            \draw[rconn, rcname={},relres=above, relfun=above] (sum1_res2) to[in=180,out=0] (b2_fun1);
            \draw[rconn, rcname={},relres=above, relfun=above] (b1_res1) to (sum2_fun1);
            \draw[rconn, rcname={},relres=above, relfun=above] (b2_res1) to (sum2_fun2);
            \draw[rconn, rcname={},relres=above, relfun=above] (b2_res1) to (sum2_fun2);
            \draw[rconn, rcname={10 g},relres=above, relfun=above, posres=0.1] (b3_res1) to (sum2_fun3);
            \draw[rconn, rcname={},relres=above, relfun=above] (b1_res2) to(sum3_fun1);
            \draw[rconn, rcname={},fcname={},relres=above, relfun=above] (b2_res2) to (sum3_fun2);
            \draw[rconn, rcname={5 CHF},relres=above, relfun=above, posres=0.2] (b3_res2) to (sum3_fun3);
            \draw[runconn, runame={\mass}, relres=above] (sum2_res1);
            \draw[runconn, runame={\money},relres=above] (sum3_res1);
            \draw[funconn, funame={\energy},relfun=above] (sum1_fun1);

        \end{tikzpicture}

    \end{center}
    What are all the batteries that you can construct? We would write:
    \begin{equation*}
        ...
    \end{equation*}

\end{gradedexercise}

\solutionof{BatteryDP}

\clearpage

\begin{gradedexercise}[\exname{SpringMonoid}] (X points)

    In this exercise you will work on elasticity properties of materials.
    As you have learned in your engineering studies, materials react to the application of specific forces.
    The force applied per unit area is usually referred to as \emph{stress}, and the compression produced in the material is called \emph{strain}.
    When stress is applied, each material experiences a specific strain, which depends on the chemical bonds creating the material.
    Whether the material returns to its original shape when stress is removed, depends on the entity of the deformation and on the material's properties.

    One usually differentiates between \emph{elastic} deformation (when removing the applied stress makes the material return to its original shape), and \emph{plastic} deformation (when the material deforms irreversibly).

    In this exercise, we will focus on elastic deformations. In this domain, the force required to deform an elastic material is directly proportional to its deformation.
    This is commonly known as the Hooke's law, due to the physicist Robert Hooke:
    \begin{equation*}
        F=-k\Delta x,
    \end{equation*}
    where~$F$ represents the applied force,~$\Delta x$ the deformation of the material, and~$k$ the so-called \emph{spring constant}, which is specific to each material.

    Now, it is interesting to see what happens when one combines multiple materials with different properties.
    Consider two springs, with spring constants~$k_1,k_2$, respectively.


    When you combine them in \emph{series}

     \begin{center}
            \includesag{30_spring_series}
        \end{center}
    they form a new spring with spring constant~$k_{1,2}$ satisfying:
    \begin{equation*}
        \frac{1}{k_{1,2}}=\frac{1}{k_1}+\frac{1}{k_2}.
    \end{equation*}

    \textbf{Task:} Characterize materials based on their elastic properties. In particular, take into account their length at rest (when no stress is applied), their spring constants (one for extension, and one for compression), their maximum compression, and their maximum extension.
    Explicitly construct the monoid characterizing this model, thoroughly showing all the needed properties.
    (Note: If you drop the length at rest from the model, you actually get a material which is very hard, and maybe monoid would be ok?)
    .... finish
\end{gradedexercise}

    \solutionof{SpringMonoid}



\end{document}
