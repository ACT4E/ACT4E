% !TEX root = ../ACT4E-jonathan.tex

\section{An example}

\JL{An example of a Galois connection between functionalities and resources could be treated here to motivate the adjunction discussion}





\section{Adjunctions: hom-set definition}

In this section we give a definition of adjunction which can be viewed as an analogy with the following situation in linear algebra. Suppose $V$ and $W$ are finite-dimensional real vector spaces, equipped with inner products $(-, -)_V$ and $(-, -)_W$, respectively. The adjoint of a linear map $F: V \rightarrow W$ is a linear map $F^*: W \rightarrow V$ such that 
$$
(Fv, w)_W = (v, F^*w)_V \quad \quad \quad \forall \ v \in V, \ w \in W. 
$$




\begin{ctdefinition}[Adjunction, Version 1]\label{def-adj-iso}
  \label{def:cat-adjunction}
  Let \CatC and \CatD be categories. An \emph{\iindex{adjunction}} from \CatC to \CatD is given by the following data:
  \begin{compactenum}
    \item A functor~$F\colon \CatC \to \CatD$ (the \emph{left adjoint});
    \item A functor~$G\colon \CatD \to \CatC$ (the \emph{right adjoint});
    \item A natural isomorphism~$\tau : \Hom_{\CatD}(F - , - ) \Longrightarrow \Hom_{\CatC}(- , G - )$
  \end{compactenum}
  We use the notation $F \dashv G$ to indicate that $F$ and $G$ form an adjunction, with $F$ the left adjoint and $G$ the right adjoint. 
\end{ctdefinition}

\begin{remark}
Note that $\tau$ is a natural isomorphism between functors of the form
$$
\CatC^{op} \times \CatD \longrightarrow \Cat{Set}
$$
\end{remark}



\section{Adjunctions: (co)unit definition}

Recall: in a category \CatC, a morphism~$\mora \colon \obja \to \objb$ is an isomorphism if there exists a morphism~$\morb \colon \obja \rightarrow \objb$ such that
\begin{equation*}
  f \then g = \id_\obja \text{ and } g \then f = \id_\objb
 \end{equation*}

Now let's think about this definition in the case where \CatC is the category \Category of categories. We will consider weakenings of the notion of isomorphism in this setting, and this will lead to a second (but equivalent) definition of adjunction. The precisely relationship between the two definitions will be spelled out \cref{relate-adj-defs}. 

The idea of ``weakening'' the notion of isomorphism of categories is as follows. Given functors
\begin{center}
\includesag{091_functors_adjunctions}
\end{center}
instead of requiring the equations
\begin{equation*}
  F \then G = \id_\CatC  \text{ and } G \then F = \id_\CatD
\end{equation*}
we can replace the equality symbols with 2-morphisms! We'll do it like this: 

\begin{equation*}
  F \then G \overset{\eta}{\Longleftarrow} \id_\CatC, \quad  G \then F \overset{\epsilon}{\Longrightarrow} \id_\CatD
\end{equation*}
The last two relationships can also be depicted in the following more geometric manner:
\begin{center}
\includesag{091_2_mor_a}
  \hspace{1cm}
\includesag{091_2_mor_b}
\end{center}

\begin{ctdefinition}[Equivalence of categories]
  \label{def:cat-equivalence}
  Let \CatC and \CatD be categories. An \emph{equivalence} between \CatC and \CatD is the following data:
  \begin{compactenum}
    \item A functor~$F\colon  \CatC \to \CatD$;
    \item A functor~$G\colon \CatD \to \CatC$;
    \item Natural isomorphisms~$\eta \colon \id_\CatC \Rightarrow F \then G$ and~$\epsilon\colon  G \then F \Rightarrow \id_\CatD$.
  \end{compactenum}
\end{ctdefinition}


\begin{ctdefinition}[Adjunction, Version 2]\label{def-adj-counit}
  \label{def:cat-adjunction}
 Let \CatC and \CatD be categories. An \emph{\iindex{adjunction}} from \CatC to \CatD is given by the following data, satisfying the following conditions.

  \underline{Data:}
  \begin{compactenum}
    \item A functor~$F\colon \CatC \to \CatD$ (the \emph{left adjoint});
    \item A functor~$G\colon \CatD \to \CatC$ (the \emph{right adjoint});
    \item Natural transformations~$\eta \colon \id_\CatC \Rightarrow F \then G$ and~$\epsilon \colon G \then F \Rightarrow \id_\CatD$
  \end{compactenum}

  \underline{Conditions:}
  \begin{compactenum}
    \item For all objects~$\obja$ of \CatC, it holds that
    \begin{equation*}
      F\eta_\obja \then \epsilon_{F\obja} = \id_{F\obja} \text{ and }  \eta_{G\objb} \then G\epsilon_\objb = \id_{G\objb}
    \end{equation*}
    \text{i.e.} that the following diagrams commute:

\begin{center}
\includesag{091_adjunction_def}
\end{center}
  \end{compactenum}
  
  The 2-morphisms~$\eta$ and~$\epsilon$ are called the \emph{unit} and \emph{counit} of the adjunction.
  An adjunction is called an \emph{adjoint equivalence} if the unit and counit are natural isomorphisms.
\end{ctdefinition}

\begin{remark}
The conditions (triangle identities) from \cref{def-adj-counit} are ``hidden'' in \cref{def-adj-iso} in the condition that $\tau$ be an natural isomorphism. In \cref{relate-adj-defs} we spell out how the two definitions are related. 
\end{remark}

\section{Example of a ``Product-Hom'' adjunction}

We'll consider an adjunction between the category \Cat{Set} and itself which is a basic representative of a certain ``type'' of adjunction that appears all over mathematics. This type of adjunction might be called a ``Product-Hom'' adjunction. 


Fix a set $Y$ and consider the functors $F $ and $G $ which act as follows. Given a set $X$, 
$$F(X) = Y \times X$$ 
and 
$$G(X) = \text{Hom}_{\Cat{Set}}(Y, X) =: X^Y.$$ 

Given a morphism $f : X \rightarrow X'$, 
$$F(f) = f \times \text{id}_Y$$
and 
$$G(f): X^Y \rightarrow X'^Y, g \mapsto g \then f.$$ 

These functors are part of an adjunction
% https://q.uiver.app/?q=WzAsMixbMCwwLCJcXG1hdGhzZntTZXR9Il0sWzQsMCwie1xcYmYgXFxtYXRoc2Z7U2V0fX0iXSxbMCwxLCJZIFxcdGltZXMgLSIsMCx7ImN1cnZlIjotNH1dLFsxLDAsIigtKV5ZIiwwLHsiY3VydmUiOi00fV0sWzIsMywiIiwwLHsibGV2ZWwiOjEsInN0eWxlIjp7Im5hbWUiOiJhZGp1bmN0aW9uIn19XV0=
\[\begin{tikzcd}
	{\Cat{Set}} &&&& {{\Cat{Set}}}
	\arrow[""{name=0, anchor=center, inner sep=0}, "{Y \times -}", bend left=30, from=1-1, to=1-5]
	\arrow[""{name=1, anchor=center, inner sep=0}, "{(-)^Y}", bend left=30, from=1-5, to=1-1]
	\arrow["\dashv"{anchor=center, rotate=-90}, draw=none, from=0, to=1]
\end{tikzcd}\]
In terms of \cref{def-adj-iso}, there is a natural isomorphism 
$$\tau: \Hom_{\Cat{Set}}(F(- ), - ) \ \Longrightarrow\  \Hom_{\Cat{Set}}(- , G( - ))$$ 
whose component at $\tup{X,Z}$ is the isomorphism 
$$
\tau_{X,Z} : \Hom_{\Cat{Set}}(Y \times X, Z) \rightarrow \Hom_{\Cat{Set}}(X, Z^Y)
$$
given by ``partial evaluation''. Namely, given $f: Y \times X \rightarrow Z$,  this is mapped by $\tau_{X,Z}$ to the function $\hat f: X \rightarrow Z^Y, \ x \mapsto f( -, x)$. 

In terms of \cref{def-adj-counit}, the component at $X$ of the counit and unit, respectively, are
$$
\eta_X : X \longrightarrow  (Y \times X)^Y, \ x \longmapsto (y \mapsto \tup{y,x})
$$
and 
$$
\epsilon_X : Y \times (X^Y) \longrightarrow X, \ \tup{y,f} \longmapsto f(y).
$$


\section{Example of a ``Free-Forgetful'' adjunction}

Another ``type'' of adjunction that appears frequently might be called ``Free-Forgetful'' adjunction. Such adjunctions are composed of a ``free functor'' and a ``forgetful functor''. These terms are informal, but the idea is this.  A free functor $\CatC \rightarrow \CatD$ typically takes an object of $c$ of $\CatC$ and ``freely'' adds some structure to it. ``Free'' means that only those structures and conditions are added that are absolutely necessary to make $c$ an object of $\CatD$, and otherwise the functor does not impose any constraints or relations. Conversely, a ``forgetful functor'' usually starts from an object $d$ on \CatD which has some structure, and ``forgets'' some of this structure, which results in us being able to view $d$ as an object in $\CatC$. 

For example: any real vector space is built from an underlying set, together with extra structure given by operations (vector addition and scalar multiplication). There is a forgetful functor from the category $\Cat{Vect}_{\mathbb{R}}$ of real vector spaces to $\Cat{Set}$ which maps any vector space to its underlying set of vectors. On the other hand, there is a ``free'' construction going the other way: given a set $X$, we can build the ``free real vector space generated by $X$''. To do this, we think of the elements of $X$ as basis vectors, and we build a vector space by taking formal finite $\mathbb{R}$-linear combinations of them. 

In the following we will consider an example in detail where we ``freely'' generate a category from a directed graph. 


Let  $\Cat{Graph}$ be the category of directed graphs and $\Cat{Cat}$ the category  of (small) categories. 
There is a functor $F : \Cat{Graph} \rightarrow \Cat{Cat}$ which turns any directed graph $D = (V,E, s,t)$ into a category whose objects are the vertices $V$ and whose morphisms are finite directed paths between vertices. This is called the \emph{free category generated by the graph $D$}. There is also a functor $G : \Cat{Cat} \rightarrow \Cat{Graph}$ which turns a category $\Cat{C}$ into a graph where the set of vertices is $\text{Ob}_{\Cat{C}}$ and there is a directed edge between vertices for every morphism in \CatC between the corresponding vertices. 

Let's first describe this adjunction via \cref{def-adj-iso}. The natural isomorphism 
$$\tau: \Hom_{\Cat{Cat}}(F(- ), - ) \ \Longrightarrow\  \Hom_{\Cat{Graph}}(- , G( - ))$$ 
is the one whose component at $\tup{D,\CatC}$ is the isomorphism 
$$
\tau_{D,\CatC} : \Hom_{\Cat{Cat}}(F(D), \CatC) \rightarrow \Hom_{\Cat{Graph}}(D, G(\CatC))
$$
which assigns to any functor $F: F(D) \rightarrow \CatC$ the morphism of graphs $D \rightarrow G(\CatC)$ given by restricting $F$ to $D$ and only keeping track of its action on vertices and edges (\text{i.e.} we ignore it's compositional properties and think of it just as a graph morphism).  

Now let's considert this adjunction from the perspective of \cref{def-adj-counit}. The component at $D$ of the counit is the morphism of graphs 
$$
\eta_D : D \longrightarrow  G(F(D))
$$
which includes $D$ into the graph $G(F(D))$. The latter has an edge from the source to the target of every finite path in $D$. The paths of length zero are what corresponded to identity morphisms in $F(D)$, and the paths of length one constitute a copy of $D$ inside $G(F(D))$. 

What does the unit look like? It's component at $\CatC$ is a functor
$$
\epsilon_{\CatC} : F(G(\CatC)) \longrightarrow \CatC. 
$$
The category $F(G(\CatC))$ is larger than $\CatC$: starting with \CatC, the graph $G(\CatC)$ will contain edges for all the morphisms in $\CatC$, but it will forget their compositional interlinking. In particular, for example, it will forget which loops denote identity morphisms (\text{i.e. which morphisms act neutrally}) and, more generally, it will forget when different compositions of morphism give the same result. In $F(G(\CatC))$, then, morphism compositions that might have given the same result in $\CatC$ will now be distinct. 
The functor $\epsilon_{\CatC}$ in a sense ``remembers'' those relations that were true in \CatC and it ``implements'' them by ``projecting'' $F(G(\CatC))$ back to  $\CatC$. 
 



\section{Relating the two definitions}\label{relate-adj-defs}

Let's start first with the ``hom-set definition'' of adjunction, and show how to obtain the ``(co)unit definition''. 
Given an adjunction $F \dashv G$ from a category \CatC to a category \CatD, we have, by \cref{def-adj-iso} a natural isomorphism $\tau$ with components
$$\tau_{X,Y} : \Hom_{\CatD}(F(X) ,Y ) \longrightarrow \Hom_{\CatC}(X , G(Y) ).$$
From this data we can construct the unit and counit of the adjunction as follows. 

Given an object $A$ of $\CatC$, we define 
$$
\eta_C : A \rightarrow G(F(A)) 
$$
to be the image under $\tau_{A, F(A)}$ of $\id_{F(A)} \in \Hom_{\CatD}(F (A) , F(A) )$. 

And given an object $B$ of $\CatD$, we define 
$$
\epsilon_B : F(G(B)) \rightarrow B
$$
to the the image under $\tau_{G(B), B}^{-1}$ of $\id_{G(B)} \in \Hom_{\CatD}(G(B), G(B))$. 

\begin{exercise}
Show that if we define $\eta$ and $\epsilon$ in terms of their components as above, then they do indeed define natural transformations 
$$
\eta: \id_{\CatC} \Rightarrow G\then F
$$
and
$$
\epsilon: G \then F \Rightarrow \id_{\CatD}
$$
respectively. In other words, check the naturality conditions for $\eta$ and $\epsilon$. 
\end{exercise}

\begin{exercise}
Show that $\eta$ and $\epsilon$, as defined above, satisfy the triangle identites stated in \cref{def-adj-counit}.
 \end{exercise}


Now let's start with the ``(co)unit definition'' of adjunction and see how to obtain the ``hom-set definition''. 

Given the unit $\eta$ and counit $\epsilon$, we can construct the components $\tau_{X,Y}$ of the natural transformation $\tau$ as follows. Given $f \in \Hom_{\CatD}(F(X),Y)$, we define
$$
\tau_{X,Y}(f) = \eta_X \then G(f).
$$
Similarly, given $g \in \Hom_{\CatC}(X,G(Y))$, the inverse component is given by 
$$
\tau_{X,Y}^{-1}(g) = F(g) \then \epsilon_Y. 
$$

\begin{exercise}
Show that $\tau_{X,Y}$ and $\tau_{X,Y}^{-1}$ are indeed functions which are inverses of each other. 
\end{exercise}

\begin{exercise}
Show that the functions $\tau_{X,Y}$ do assemble to a natural transformation 
$$\tau  : \Hom_{\CatD}(F(-) ,- ) \Longrightarrow \Hom_{\CatC}(-  , G(- ) )$$
between functors $\CatC^{op} \times D \rightarrow \Cat{Set}$. 
\end{exercise}



