% !TEX root = ../ACT4E-ready.tex
% \section{Thinking about tradeoffs}

\subsection{Trade-offs}

\todo{Add the examples from session 6:}


\todo{Good, fast, cheap: pick 2}


\todo{Functionality, requirements, 3 types of achievable accuracy plots}


\todo{example: Trade-offs for the human body}


\todo{example: Masks}

\todo{example: Hats and headphones}


\subsection{Ordered sets}

So far, the discussion has been purely qualitative. While we discussed how
categories can describe the way in which one resource can be turned into another,
this kind of modelling did not allow for quantitative statements. For example, it
is good to know that we can obtain motion from electric power, but, how fast can
we go with a certain amount of power?

To achieve a quantitative theory, we need to specify various degrees of resources and functionality.
One way of doing this, is through the idea of partial orders.


Such orderings arise naturally in engineering as criteria for judging whether one design is better or worse than another. As an example, suppose you need to prepare some pizza, i.e., you have to buy specific ingredients and cook them, using a recipe you decide to follow. In this simple example, you can think of having two resources: time and money. A quicker recipe might include more expensive ingredients, and a slower recipe could feature more affordable ones. How to choose among recipes, if you do not prefer one resource over the other? How to model this? In this section, we will assume that functionality and resources
are \emph{partially-ordered sets} (\emph{posets}).

Davey and Priestley~\cite{davey02}
and Roman~\cite{roman08} are possible reference texts.

\todo{Introduce at the same time pre-order, poset, total order, like in slides.}


\todo{Remark: add remark about more general preference functions (Semiorder etc.)}
\begin{definition}[Partially ordered set]
\label{def:poset}
A \emph{partially-ordered set} (poset) is a tuple~$\tup{P, \ordleq}$,
where~$P$ is a set (also called the \emph{carrier set}), together with a
relation~$\ordleq$ on $P$ that is
\begin{compactenum}
    \item \emph{Reflexive}: For all~$\obja\in P$,~$\obja \ordleq \obja$.
    \item \emph{Antisymmetric}: For all~$\obja,\objb\in P$, if~$\obja\ordleq \objb$ and~$\objb\ordleq \obja$, then~$\obja=\objb$.
    \item \emph{Transitive}: For all~$\obja,\objb,\objc\in P$, if~$\obja\ordleq \objb$ and~$\objb\ordleq \objc$, then~$\obja\ordleq \objc$.
\end{compactenum}
\end{definition}

A \emph{Hasse diagram} is an economical (in terms of arrows) way to visualize a poset. In a Hasse diagram elements are points, and if~$\obja \ordleq \objb$ then~$\obja$ is drawn lower than~$\objb$ and with an ege connected to it, if no other point is in between. Hasse diagrams are directed graphs.

In the example of the pizza recipes, both time and money can be thought of as partially ordered sets~$\tup{\mathbb{R}_{\geq 0},\ordleq}$. Imagine that you have recipes costing \unit[1]{USD}, \unit[2]{USD}, and \unit[3]{USD}. This can be represented as in~\cref{fig:hassepizza}.

\begin{figure}[h!]
    \begin{center}
    \includesag{70_hasse_pizza}
    \caption{The cost of pizza ingredients can be represented as a poset.\label{fig:hassepizza}}
    \end{center}
\end{figure}


\begin{example}
Consider a poset~$P=\{a,b,c,d,e\}$ with~$a\ordleq b$,~$a\ordleq c$,~$d\ordleq c$, and~$d\ordleq e$. This can be represented with a Hasse diagram as in~\cref{fig:hasse}.
\end{example}

\begin{figure}[h!]
   \centering
   \includesag{40_dpcatfig_hasse}
   \caption{Example of Hasse diagram of $P$. \label{fig:hasse}}
\end{figure}

\begin{example}[Singleton poset]
\label{ex:singleton}
If a set has only one element, say~$\singleton$, then there is a unique order relation on it (\cref{fig:singleton}). We denote the resulting poset again by~$\singleton$.
\end{example}
\begin{figure}[h!]
   \centering
   \includesag{40_dpcatfig_singleton}
   \caption{The singleton poset.\label{fig:singleton}}
\end{figure}

\begin{example}
In this example, we represent all posets up to isomorphisms on up to 4 elements. For one element, one has only the singleton poset (\cref{fig:singleton}). On 2-elements sets, one has the posets reported in~\cref{fig:twoelementspos}.
\begin{figure}[tbh]
\begin{center}
    \setlength{\tabcolsep}{20pt}
    \begin{tabular}{cc}
         \includesag{70_pos_2_1}&\includesag{70_pos_2_2}
    \end{tabular}
\end{center}
\caption{All posets on 2-elements sets, up to isomorphisms. \label{fig:twoelementspos}}
\end{figure}
On 3-elements sets, one has the posets reported in~\cref{fig:threeelementspos}.
\begin{figure}[tbh]
\begin{center}
    \setlength{\tabcolsep}{20pt}
    \begin{tabular}{ccc}
         \includesag{70_pos_3_1}&\includesag{70_pos_3_2}&\includesag{70_pos_3_3}
    \end{tabular}\\
    \begin{tabular}{cc}
    \includesag{70_pos_3_4}&\includesag{70_pos_3_5}
    \end{tabular}
\end{center}
\caption{All posets on 3-elements sets, up to isomorphisms. \label{fig:threeelementspos}}
\end{figure}
On 4-elements sets, one has the posets reported in~\cref{fig:fourelementspos}.
\begin{figure}[tbh]
\begin{center}
\adjustbox{max width=\textwidth}{
\setlength{\tabcolsep}{20pt}
    \begin{tabular}{cccc}
        \includesag{70_pos_1}&\includesag{70_pos_2}&\includesag{70_pos_3}&\includesag{70_pos_4}  \\[+30pt]
        \includesag{70_pos_5}&\includesag{70_pos_6}&\includesag{70_pos_7}&\includesag{70_pos_8}\\[+30pt]
        \includesag{70_pos_9}&\includesag{70_pos_10}&\includesag{70_pos_11}&\includesag{70_pos_12}\\[+30pt]
        \includesag{70_pos_13}&\includesag{70_pos_14}&\includesag{70_pos_15}&\includesag{70_pos_16}
    \end{tabular}
}
\end{center}
\caption{All posets on 4-elements sets, up to isomorphisms. \label{fig:fourelementspos}}
\end{figure}
\end{example}

\begin{example}[Booleans]\label{ex:bool}
The booleans $\Bool$ is a poset with carrier set $\{\true,\false\}$ and the order relation given by $b_1 \ordleq_\Bool b_2$ iff $b_1 \Imp b_2$, that is, $\false \ordleq_\Bool \true$ (\cref{fig:boolean}).

\begin{figure}[h!]
   \centering
   \includesag{40_dpcatfig_boolean}
   \caption{\label{fig:boolean}}
\end{figure}

This relation should be familiar from~\cref{tab:boolposet}.

\begin{table}[h!]
\begin{center}
\begin{tabular}{cc|ccc}
$a$ & $b$ & $a \leq_\Bool b$ & $a \wedge b$ & $a \vee b$ \\ \hline
$\true$&$\true$&$\true$&$\true$&$\true$\\
$\true$&$\false$&$\false$&$\false$&$\true$\\
$\false$&$\true$&$\true$&$\false$&$\true$\\
$\false$&$\false$&$\true$&$\false$&$\false$
\end{tabular}
\end{center}
\caption{Properties of the $\Bool$ poset. \label{tab:boolposet}}
\end{table}

In addition to the operation 
\begin{equation*}
    \Imp\colon\Bool\times \Bool\to\Bool,
\end{equation*}
called \emph{implies}, there are also the familiar \emph{and} ($\wedge$) and \emph{or} ($\vee$) operations. Note that~$\wedge$ and~$\vee$ are commutative ($b\wedge c = c\wedge b$, $b\vee c = c\vee b$ ), whereas~$\Imp$ is not.
\end{example}




\begin{example}[Reals]
The real numbers~$\mathbb{R}$ form a poset with carrier~$\mathbb{R}$ and order relation given by the usual ordering~$r_1 \leq r_2$.
\end{example}

\begin{example}[Discrete partially ordered sets]
\label{ex:discreteposet}
Every set~$X$ can be considered as a \emph{discrete poset}~$\tup{X,=}$. Discrete posets are represented as collection of points (\cref{fig:discretepos}).

\begin{figure}[tbh]
   \centering
   \includesag{40_discrete}
   \caption{Example of a discrete poset. \label{fig:discretepos}}
\end{figure}

\begin{example}
\label{ex:hasseinclusion}
Given a set~$X=\{a,b,c\}$, consider its power set~$\powerset(X)$. Define sets as the objects of this new category and define the morphisms to be inclusions (\cref{fig:powersetcat}).

\begin{figure}[h!]
\begin{center}
\includesag{40_dpcatfig_power}
\end{center}
\caption{Power set as a category. \label{fig:powersetcat}}
\end{figure}

The identity morphism of each set is the inclusion with itself (every set is a subset of itself). Composition is given by composition of inclusions, i.e., if~$X\subseteq Y \subseteq Z$, then~$X\subseteq Z$. 
\end{example}
\end{example}

\paragraph{A note on preorders}
\begin{definition}[Preorder]
\label{def:preorder}
A \emph{preorder} is a tuple~$\tup{P, \leq}$,
where~$P$ is a set (also called the \emph{carrier set}), together with a
relation~$\leq$ on~$P$ that is
\begin{compactenum}
    \item \emph{Reflexive}: For all~$\obja\in P$,~$\obja\ordleq \obja$.
    \item \emph{Transitive}: For all~$\obja,\objb,\objc\in P$, if $\obja\ordleq \objb$ and~$\objb\ordleq \objc$, then~$\obja\ordleq \objc$.
\end{compactenum}
\end{definition}
The theory of design problems can be easily generalized to preorders. This means that there could be two elements~$\obja$ and~$\objb$ such that~$\obja\ordleq \objb$ and~$\obja \ordgeq \objb$ but~$\obja \neq \objb$ (\cref{fig:preorder}).

\begin{figure}[tbh]
\begin{center}
    \includesag{80_preorder}
\end{center}
\caption{Example of a preorder. \label{fig:preorder}}
\end{figure}

This is actually common in practice. For example, if the order relation comes from human judgement, such as customer preference, all bets are off regarding the consistency of the relation. We will only refer to posets for two reasons:
\begin{compactenum}
        \item The exposition is smoother.
        \item Given a preorder, computation will always involve passing to the poset representation.
\end{compactenum}
This means that, given a preorder, we can consider the poset of its isomorphism classes, by means of the following equivalence relation:
\begin{equation}
        \obja \simeq \objb \quad \equiv \quad (\obja \ordleq \objb) \wedge (\objb \ordleq \obja).
\end{equation}

\subsection{A poset as a category}
\label{sec:posetsarecats}
A single poset~$\tup{P, \ordleq}$ can be described as a category, in which each point~$\obja\in P$ is an object, and there is a morphism between~$\obja$ and~$\objb$ if and only if~$\obja \ordleq \objb$. This is a ``thin'' category, wich means that there is at most one morphism
between two objects: For any~$\obja,\objb\in P$, there exist only one relation~$\obja\ordleq \objb$ in~$P$ (\cref{def:poset}). The identity morphism is given by the reflexivity property of posets, i.e. for any~$\obja\in P$, we have~$\obja \ordleq \obja$. Furthermore, composition is given by the transitivity property of posets, i.e. for~$\obja,\objb,\objc \in P$,~$\obja\ordleq \objb$ and~$\objb\ordleq \objc$ implies~$\obja\ordleq \objc$.

\begin{example}
Let's revisit \cref{ex:hasseinclusion}, in which we had a poset~$\powerset\left(\{a,b,c\}\right)$ with order given by inclusion (\cref{fig:posetascat}).
\begin{figure}[h!]
\begin{center}
\includesag{40_dpcatfig_power}
\end{center}
\caption{Power set~$\powerset{\{a,b,c\}}$ as a category. \label{fig:posetascat}}
\end{figure}
This is a category~$\CatC$, with~$\ObC=\powerset\left(\{a,b,c\}\right)$, and morphisms given by the inclusions. Note that we omit to draw self-arrows for the identity morphisms. Composition is given by the transitivity law of posets. For instance, since~$\{a\}\subseteq \{a,b\}$ and~$\{a,b\} \subseteq \{a,b,c\}$, we can say that~$\{a\}\subseteq \{a,b,c\}$.
\end{example}

\subsection{Constructing posets}
We can think of the product of posets.

\begin{definition}[Product of posets]
\label{def:productposet}
Given two posets~$\tup{\Obja, \ordleq_{\Obja}}$
and~$\tup{\Objb, \ordleq_{\Objb}}$, the \emph{product poset} is~$\tup{\Obja \times \Objb, \ordleq_{\Obja\times \Objb}}$, where~$\Obja \times \Objb$ is the Cartesian product of two sets (\cref{def:cartesian-product}) and the order~$\ordleq_{\Obja \times \Objb}$ is given by:
\begin{equation}
        \tup{\obja_1, \objb_1}
        \ordleq_{A\times B}
        \tup{\obja_2, \objb_2}
        \quad
        \Leftrightarrow
        \quad
        (\obja_1 \ordleq_\Obja \obja_2) \wedge
        (\objb_1 \ordleq_\Objb \objb_2).
    \end{equation}
\end{definition}
Recalling the pizza recipes example, we have the two posets representing time and money. Given that we want to minimize both time and costs, by considering the money poset containing elements \unit[1]{USD}, \unit[2]{USD}, and \unit[3]{USD}, and the time poset containing elements \unit[1]{h}, and \unit[2]{h}, one can represent the product as in~\cref{fig:productpizza}.

\begin{figure}[h!]
\begin{center}
\includesag{70_hasse_pizza_product}
\end{center}
\caption{Product poset of time and cost for pizza recipes.\label{fig:productpizza}}
\end{figure}


\begin{example}
Consider now the two posets given in~\cref{fig:composing_posets_1}.
\begin{figure}[h!]
\begin{center}
\includesag{40_exposet_1}
\end{center}
\caption{Two posets. \label{fig:composing_posets_1}}
\end{figure}
Their product is depicted in~\cref{fig:composing_posets_2}.
\begin{figure}[h!]
\begin{center}
\includesag{40_exposet_2}
\end{center}
\caption{Product of two posets. \label{fig:composing_posets_2}}
\end{figure}
\end{example}

\subsubsection{Disjoint union of posets}

Similarly to what we have done for sets in \cref{sec:coproductset}, we can think of alternatives in the poset case through their disjoint union.

\begin{definition}[Disjoint union of posets]
Given two posets~$\tup{\Obja, \ordleq_\Obja} $ and~$\tup{\Objb, \ordleq_\Objb}$, we can define their \emph{disjoint union}~$\tup{\Obja + \Objb, \ordleq_{\Obja + \Objb}}$, where~$\Obja + \Objb$
is the disjoint union of the sets~$\Obja$ and~$\Objb$ (\cref{def:disjoint-union}), and the
order~$\ordleq_{\Obja + \Objb}$ is given by:
\begin{equation}
    \obja \ordleq_{\Obja + \Obja} \objb \quad\equiv\quad
    \begin{cases}
        \obja \ordleq_A \objb, & \obja,\objb \in \Obja, \\
        \obja \ordleq_B \objb, & \obja,\objb \in \Objb.
        %\false,  & \text{otherwise}.
    \end{cases}
\end{equation}
\begin{equation}
\begin{aligned}
\ordleq_{\Obja+\Objb}\colon (\Obja+\Objb)\times (\Obja+\Objb)&\to \Bool\\
\tup{1,\obja_1},\tup{1,\obja_2}&\mapsto (\obja_1\ordleq_{\Obja} \obja_2)\\
\tup{2,\objb},\tup{1,\obja}&\mapsto \bot\\
\tup{1,\obja},\tup{2,\objb}&\mapsto \bot\\
\tup{2,\objb_1},\tup{2,\objb_2}&\mapsto (\objb_1\ordleq_\Objb \objb_2).
\end{aligned}
\end{equation}
\end{definition}


\begin{example}
Consider the posets~$\Obja=\tup{\diamond, \star}$ with~$\diamond \ordleq_\Obja \star$, and~$\Objb=\tup{\dagger,\ast}$, with~$\ast \ordleq_\Objb \dagger$. Their disjoint union can be represented as in \cref{fig:poset-coproduct}.

\begin{figure}[h!]
    \centering
    \includesag{40_disjoint_union}
    \caption{Disjoint union of posets. \label{fig:poset-coproduct}}
\end{figure}
\end{example}