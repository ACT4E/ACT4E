% !TEX root = chapter-standalone.tex

\section{Monoidal categories}
\label{sec:parallelism-mon-cat}

We now generalize from monoidal posets to monoidal categories.

So far, we have described a single way to compose morphisms of a category: the~$\mthen$ operation.
However, category theory allows to define other ways of composing morphisms, adding structure to the basic category defined in~\cref{def:categorymain}.

\linkvideo{spring2021-par-feedback:mon-cat:mon-cat-def} % Definition of monoidal categories
\begin{ctdefinition}[\iindex{Monoidal category}]
	\label{def:monoidal-cat}
	A \emph{monoidal structure} on a category~\CatC is specified by:

	\constit
	\begin{enumerate}
		\item A functor~$\mtimescat \colon \CatC \Ctimes \CatC\fto \CatC$, called the \emph{monoidal product}.
		\item An object~$\idmoncat \in \ObC$, called the \emph{monoidal unit}.
		\item A natural isomorphism, called the \emph{associator}, whose components are of the type
		      \begin{equation*}
			      \associator_{\Obja,\Objb,\Objc}\colon (\Obja \mtimescat \Objb )\mtimescat \Objc \mtoiso \Obja\mtimescat (\Objb \mtimescat \Objc) \quad \quad \Obja,\Objb,\Objc\in \ObC.
		      \end{equation*}
		\item A natural isomorphism, called the \emph{left unitor}, whose components are of the type
		      \begin{equation*}
			      \leftunitor_\Obja \colon \idmoncat\mtimescat \Obja \mtoiso \Obja \quad \quad \Obja\in \ObC.
		      \end{equation*}
		\item A natural isomorphism, called the \emph{right unitor}, whose components are of the type
		      \begin{equation*}
			      \rightunitor_\Obja \colon \Obja \mtimescat \idmoncat \mtoiso \Obja \quad \quad \Obja\in \ObC.
		      \end{equation*}
	\end{enumerate}

	\condit\\
	For all~$\Obja,\Objb,\Objc,\Objd\in \ObC$, the following diagrams must commute:
	\begin{enumerate}
		\item Triangle identities.
		      \begin{center}
			      \includesag{30_triangle_identity}
		      \end{center}
		\item Pentagon identities.\\
	\end{enumerate}
	\begin{center}
		\includesag{30_pentagon_identity}
	\end{center}
	A category equipped with a monoidal structure is called a \emph{monoidal category}.
	If the components of the associator, left unitor, and right unitor are all equalities, one calls the category \emph{strict} monoidal.
\end{ctdefinition}

\begin{remark}
	Note that in the constituents listed in \cref{def:monoidal-cat} we specified natural isomorphisms $\associator$, $\leftunitor$, and $\rightunitor$ simply in terms of their components.
	You may be wondering: which functors are the respective source and target of these natural transformations?
	Since it is a mouthful to write, this information is often left to be inferred from the components given.
	Let us quickly illustrate how to see, from the components, which functors are involved.
	Take, for example, the left unitor.
	Its components are
	%
	\begin{equation*}
		\leftunitor_\Obja \colon \idmoncat\mtimescat \Obja \mtoiso \Obja \quad \quad \Obja\in \ObC,
	\end{equation*}
	%
	so, if $\funa$ and $\funb$ denote the functors which are the source and target of $\leftunitor$, the functor $\funa$ must act on objects by $\funa(\Obja) = \idmoncat \mtimescat \Obja$ and $\funb$ must act by $\funb(\Obja) = \funa(\Obja)$.
	The ``obvious'' or ``canonical'' choice then (given that we are considering \emph{any} monoidal category) is that $\funb$ is the identity functor and that $\funa$ is the functor which acts on morphisms by mapping $\mora : \Obja \mto \Objb$ to
	%
	\begin{equation}
		\catid_\idmoncat \mtimescat \mora:   \idmoncat\mtimescat \Obja \mto  \idmoncat\mtimescat \Objb.
	\end{equation}
	%
	Note that the components of the left unitor $\leftunitor$ are indexed by one variable $\Obja \in \ObC$, while the associator $\associator$ is indexed by \emph{three} variables!
	The associator is therefore a natural transformation between two functors of the type
	%
	\begin{equation}
		\CatC \Ctimes \CatC \Ctimes \CatC \fto \CatC.
	\end{equation}
	%
	Can you guess which functors of this type are meant in \cref{def:monoidal-cat} to be the source and target of $\associator$?
\end{remark}

\showslides{
	\begin{forslides}
		\begin{equation*}
			\label{eq:set_mon_prod_0}
			\tup{\Set,\cartprod,\singleton}
		\end{equation*}
		\begin{equation*}
			\label{eq:set_mon_prod_1}
			\mapa\colon \setA\mto \stylesets{A'}, \quad \mapb\colon \setB\mto \stylesets{B'}
		\end{equation*}
	\end{forslides}
}

\begin{example}
	Let's digest the definition of monoidal category with an explanatory example.
	We consider the structure~$\tup{\Set,\cartprod,\singleton}$ and show that it indeed forms a monoidal category.
	First of all, we specify how the monoidal product (cartesian product here) acts on objects and morphisms in \Set (it is a functor).
	Given~$\setA,\setB\in \Ob_{\Set}$,~$\setA\cartprod \setB$ is the cartesian product of sets, and given~$\mapa\colon \setA\mto \stylesets{A'}$,~$\mapb\colon \setB\mto \stylesets{B'}$, we have:
	\begin{equation*}
		\label{eq:set_mon_prod_2}
		\begin{aligned}
			(\mora \cartprod \morb)
			\colon \setA\cartprod \setB & \mtoiso \stylesets{A'}\cartprod \stylesets{B'} \\
			\tup{\setAel,\setBel}       & \mapsto \tup{\mapa(\setAel),\mapb(\setBel)}.
		\end{aligned}
	\end{equation*}
	Furthermore, given any~$\setA,\setB,\setC\in \Ob_{\Set}$, we specify the associator~$\associator_{\setA,\setB,\setC}$:
	\begin{equation*}
		\label{eq:set_mon_prod_3}
		\begin{aligned}
			\associator_{\setA,\setB,\setC}\colon (\setA\cartprod \setB)\cartprod \setC & \mto \setA\cartprod (\setB\cartprod \setC)  \\
			\tup{\tup{\setAel,\setBel},\setCel}                                         & \mapsto \tup{\setAel,\tup{\setBel,\setCel}}
		\end{aligned}
	\end{equation*}
	This defines an isomorphism (I can go ``back and forth'', by switching the tuple separation).
	We now need to check whether~$\associator$ is natural.
	We check this graphically, using the commutative diagram in \cref{fig:monoidal_set_ass_nat}.

	\begin{figure}[h!]
		\centering
		\includesag{115_set_mon_ass}
		\caption{}
		\label{fig:monoidal_set_ass_nat}
	\end{figure}

	Given an object~$\setA\in \Ob_\Set$, the unitor~$\leftunitor_\setA$ is given by:
	\begin{equation*}
		\label{eq:set_mon_prod_4}
		\begin{aligned}
			\leftunitor_\setA\colon \singleton \cartprod \setA & \mtoiso \setA    \\
			\tup{\singletonel,\setAel}                         & \mapsto \setAel.
		\end{aligned}
	\end{equation*}

	Again, this defines an isomorphism.
	Consider a morphism~$\mapa\colon \setA\mto \stylesets{A'}$.
	We now prove naturality graphically (\cref{fig:monoidal_set_unit_nat}).

	\begin{figure}[h!]
		\centering
		\includesag{115_set_mon_unit_nat}
		\caption{}
		\label{fig:monoidal_set_unit_nat}
	\end{figure}

	Analogously, given an object~$\setA\in \Ob_{\Set}$, the unitor isomorphism~$\rightunitor_\setA$ is given by:
	\begin{equation*}
		\label{eq:set_mon_prod_5}
		\begin{aligned}
			\rightunitor_\setA\colon \setA\cartprod \singleton & \mtoiso \setA    \\
			\tup{\setAel,\singletonel}                         & \mapsto \setAel.
		\end{aligned}
	\end{equation*}
	The proof for naturality is analogous to the one of~$\leftunitor_\setA$.
	We now need to check whether the triangle and pentagon identites are satisfied.
	We start by the triangle.
	Given~$\setA,\setB\in \Ob_{\Set}$, the proof is displayed in \cref{fig:set_mon_triangle}.

	\begin{figure}[h]
		\centering
		\includesag{115_set_mon_tri}
		\caption{}
		\label{fig:set_mon_triangle}
	\end{figure}

	We now prove the pentagon identity.
	Given~$\setA,\setB,\setC,\setD\in \Ob_\Set$, the proof is reported in \cref{fig:set_mon_pent}.

	\begin{figure*}[h]
		\centering
		\includesag{115_set_mon_pentagon}
		\caption{}
		\label{fig:set_mon_pent}
	\end{figure*}
\end{example}

\begin{remark}[We cannot define monoidal \emph{semi}-categories]
	Note that in \cref{def:monoidal-cat} we used the category's identities in the diagrams.
	It is not possible to ``patch'' the definition to work with semicategories.
\end{remark}

\section{Examples of monoidal categories}

\todotextjira{358}{@J: Introduce string diagrams}

\todotextjira{270}{@Gioele: Add example of monoidal categories connected to dynamical systems.}

\begin{example}
	\label{ex:Vect-symmetric-monoidal}
	The category $\Vect_\reals$ is can be equipped with a monoidal structure where the monoidal product is the tensor product of real vector spaces.
	It can also be equipped with a different monoidal structure where the monoidal product is the direct sum of real vector spaces.
\end{example}

\todojira{188}{@Gioele: Review/revisit example \cref{ex:robot}.}
\begin{example}[Robot configurations]
	\label{ex:robot}
	Consider~$\reals^2$, discretized as a two-dim\-ensional grid, representing locations (cells) which a robot can reach.
	The configuration space of the robot is $\reals^2\cartprod \Theta$, where $\Theta=[0,2\pi)$.
	A specific configuration $\tup{x,y,\theta}$ is characterized at each time by the position of the robot $x,y\in \reals$ and its orientation $\theta \in \Theta$.
	The action space of the robot is $\mathcal{A}=\{\mathsf{stay},\leftarrow, \rightarrow, \uparrow, \downarrow\}$.
	This is a category, where each configuration of the robot is an object, and morphisms are robot actions which change configurations.
	Each configuration has the identity morphism which does not change it ($\mathsf{stay}$).
	Composition of morphisms is given by concatenation of actions (\cref{fig:robotcategory}).
	Assuming the existence of multiple robots $r_i=\tup{x_i,y_i,\theta_i}$, it is possible to define a product $r_i\mtimescat r_j$, which is to be intended as ``we have a robot at configuration $r_i$ and another one at configuration $r_j$''.
	However, this cannot be a proper monoidal product, because two robots cannot have the same configuration (physically, they cannot lie on each other), and hence $r_i\mtimescat r_i$ does not exist.
	By assuming that two robots could share the same configuration, this would be a valid monoidal product.
	\begin{figure}[tbh]
		\centering
		\includesag{120_robotcategory}
		\caption{Example of the robot category. }
		\label{fig:robotcategory}
	\end{figure}
\end{example}

\begin{publictodo}
	We will provide more examples of monoidal structures on the previous categories that we have seen.
\end{publictodo}

\begin{gradedexercise}[\exname{VectTensorMonStructure}]
	\label{ex:VectTensorMonStructure}
	What are straightforward choices of monoidal unit, associator, and left/right unitors which, together with the tensor product as monoidal product, equip $\Vect_\reals$ with a monoidal structure?

	In this exercise, simply write down how you think each of these pieces of data would be defined -- it is not asked that you prove that they do indeed form a monoidal structure (that would be much more involved).
\end{gradedexercise}

\todojira{187}{@Gioele: Style of solutions is wrong, adjust}

\solutionof{VectTensorMonStructure}

\section{Braided monoidal categories}

\linkvideo{spring2021-par-feedback:braided-moncat} % Braided monoidal categories

\begin{ctdefinition}[\iindex{Braided monoidal category}]
	\label{def:braided_moncat}
	A \emph{braided monoidal category} is a monoidal category~$\tup{\CatC,\mtimescat,\idmoncat}$ (\cref{def:monoidal-cat}), equipped with a \emph{braiding}, which is specified By

	\constit
	\begin{enumerate}
		\item A natural isomorphism~$\braiding$, called the braiding, whose components are of the type
		      \begin{equation}
			      \label{eq:braiding_symmetry}
			      \braiding_{\Obja,\Objb}\colon (\Obja\mtimescat \Objb)\mtoiso (\Objb\mtimescat \Obja), \quad \Obja,\Objb \in \ObC.
		      \end{equation}
		      Explicitly, this means that for any~$\mora_1\colon \Obja_1\mto \Objb_1$ and~$\mora_2\colon \Obja_2\mto \Objb_2$, the following diagram
		      \begin{center}
			      \includesag{50_sym_1}
		      \end{center}
	\end{enumerate}

	\condit
	\begin{enumerate}
		\item \emph{Hexagon identites:} Given any objects~$\Obja,\Objb,\Objc\in \ObC$, the following diagrams must commute.
	\end{enumerate}
	\begin{center}
		\includesag{50_hex_1}
	\end{center}
	\begin{center}
		\includesag{50_hex_2}
	\end{center}
\end{ctdefinition}

\begin{remark}
	If $\tup{\CatC,\mtimescat,\idmoncat, \braiding}$ is a braided monoidal category, one can show that the following diagram commutes for all~$\Obja \in \ObC$.
	\begin{center}
		\includesag{50_sym_2}
	\end{center}
\end{remark}

\section{Symmetric monoidal categories}

\linkvideo{spring2021-par-feedback:symmetric-moncat} % Symmetric monoidal categories
\begin{ctdefinition}[\iindex{Symmetric monoidal category}]
	\label{def:sym-mon-cat}
	A \emph{symmetric monoidal category} is a braided monoidal category~$\tup{\CatC,\mtimescat,\idmoncat, \braiding}$ for which the braiding satisifies the symmetry condition
	\begin{equation}
		\label{eq:braiding-symmetry}
		\braiding_{\Obja,\Objb} \mthen \braiding_{\Objb,\Obja} = \catid_{\Obja \mtimescat \Objb}
	\end{equation}
	for all~$\Obja, \Objb \in \ObC$.
\end{ctdefinition}

\begin{remark}
	If~$\braiding$ is a natural isomorphism such that it is a candidate to be a braiding on a given monoidal category, and if, additionally, it satisfies \cref{eq:braiding_symmetry}, then the two hexagon identities are equivalent, and so only one of them needs to be checked.
\end{remark}
