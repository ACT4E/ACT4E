% !TEX root = chapter-standalone.tex


\section{Monoidal categories}
\label{sec:parallelism-mon-cat}


\begin{ctdefinition}[\iindex{Monoidal poset}]
  \label{def:monoidal_poset}
  A \emph{monoidal structure} on a poset~$\Cat{P} = \tup{\posA, \leq}$ is specified by:
  
  \constit
  \begin{compactenum}
    \item A monotone map~$\mtimescat \colon \Cat{P} \Ctimes \Cat{P} \fto \Cat{P}$, called the \emph{monoidal product}. 
    
    \
    
    \noindent
    Note that here we are implicitly assuming $\Cat{P} \Ctimes \Cat{P}$ as having the product order. In detail, monotonicity means that, for all $\posela_1, \posela_2, \poselb_1, \poselb_2 \in \posA$, 
        $$
    \posela_1 \leq \poselb_1 \text{ and } \posela_2 \leq \poselb_2 \ \Rightarrow \ (\posela_1 \mtimescat  \posela_2) \leq  (\poselb_1 \mtimescat  \poselb_2).
    $$
    
    \item An element~$\idmoncat \in \posA$, called the \emph{monoidal unit}.
  \end{compactenum}
  
   \condit
    \begin{compactenum}
    \item Associativity: for all $\posela, \poselb, \poselc \in \posA$, 
    $$ (\posela \mtimescat \poselb) \mtimescat \poselc =  \posela ( \mtimescat \poselb \mtimescat \poselc).$$
    \item Left and right unitality: for all $\posela \in \posA$, 
    $$\idmoncat \mtimescat \posela = \posela \quad \quad \text{ and } \quad \quad \posela \mtimescat \idmoncat = \posela.$$
  \end{compactenum}
  
  \noindent A poset equipped with a monoidal structure is called a \emph{monoidal poset}.
\end{ctdefinition}

\begin{ctdefinition}[\iindex{Symmetric monoidal poset}]
  \label{def:sym_monoidal_poset}
A \emph{symmetric monoidal poset} is a monoidal poset $\tup{\posA, \leq, \mtimescat, \idmoncat}$ such that
$$
\posela \mtimescat \poselb = \poselb \mtimescat \posela
$$
for all $\posela, \poselb \in \posA$. 
\end{ctdefinition}


So far, we have described a single way to compose morphisms of a category: the~$\mthen$ operation. However, category theory allows to define other ways of composing morphisms, adding structure to the basic category defined in~\cref{def:categorymain}.


\begin{ctdefinition}[\iindex{Monoidal category}]
  \label{def:monoidal_cat}
  A \emph{monoidal structure} on a category~\CatC is specified by:
  
  \constit
  \begin{compactenum}
    \item A functor~$\mtimescat \colon \CatC \Ctimes \CatC\fto \CatC$, called the \emph{monoidal product}.
    \item An object~$\idmoncat \in \ObC$, called the \emph{monoidal unit}.
    \item A natural isomorphism, called the \emph{associator}, whose components are of the type
    $$\associator_{\Obja,\Objb,\Objc}\colon (\Obja \mtimescat \Objb )\mtimescat \Objc \mtoiso \Obja\mtimescat (\Objb \mtimescat \Objc) \quad \quad \Obja,\Objb,\Objc\in \ObC.$$
     \item A natural isomorphism, called the \emph{left unitor}, whose components are of the type
     $$\leftunitor_\Obja \colon \idmoncat\mtimescat \Obja \mtoiso \Obja \quad \quad \Obja\in \ObC.$$
      \item A natural isomorphism, called the \emph{right unitor}, whose components are of the type
      $$\rightunitor_\Obja \colon \Obja \mtimescat \idmoncat \mtoiso \Obja \quad \quad \Obja\in \ObC.$$
  \end{compactenum}
  
   \condit
   
   For all $\Obja,\Objb,\Objc,\Objd\in \ObC$, the following diagrams must commute:
    \begin{compactenum}
    \item Triangle identities. 
  \begin{center}
    \includesag{30_triangle_identity}
  \end{center}
  \item Pentagon identities.  
  \begin{center}
    \includesag{30_pentagon_identity}
  \end{center}
  
  \end{compactenum}
  
  \noindent A category equipped with a monoidal structure is called a \emph{monoidal category}.
  If the components of the associator, left unitor, and right unitor are all equalities, one calls the category \emph{strict} monoidal.
\end{ctdefinition}

\begin{example}
  Let's digest the definition of monoidal category with an explanatory example. We consider the structure~$\tup{\Set,\times,\singleton}$ and show that it indeed forms a monoidal category. First of all, we specify how the monoidal product (cartesian product here) acts on objects and morphisms in \Set (it is a functor). Given~$A,B\in \Ob_{\Set}$,~$A\times B$ is the cartesian product of sets, and given~$f\colon A\to A'$,~$g\colon B\to B'$, we have:
  \begin{equation*}
    \begin{aligned}
    (f\times g)
      \colon A\times B&\toiso A'\times B'\\
      \tup{a,b}&\mapsto \tup{f(a),g(b)}.
    \end{aligned}
  \end{equation*}
  Furthermore, given any~$A,B,C\in \Ob_{\Set}$, we specify the associator~$\associator_{A,B,C}$:
  \begin{equation*}
    \begin{aligned}
      \associator_{A,B,C}\colon (A\times B)\times C&\to A\times (B\times C)\\
      \tup{\tup{a,b},c}&\mapsto \tup{a,\tup{b,c}}
    \end{aligned}
  \end{equation*}
  This defines an isomorphism (I can go ``back and forth'', by switching the tuple separation). We now need to check whether~$\associator$ is natural. We check this graphically, using the commutative diagram in \cref{fig:monoidal_set_ass_nat}.

  \begin{figure}[h!]
    \begin{center}
      \includesag{115_set_mon_ass}
    \end{center}
    \caption{\label{fig:monoidal_set_ass_nat}}
  \end{figure}

  Given an object~$A\in \Ob_\Set$, the unitor~$\leftunitor_A$ is given by:
  \begin{equation*}
    \begin{aligned}
      \leftunitor_A\colon \singleton \times A &\toiso A\\
      \tup{\singletonel,a}&\mapsto a.
    \end{aligned}
  \end{equation*}

  Again, this defines an isomorphism. Consider a morphism~$f\colon A\to A'$. We now prove naturality graphically (\cref{fig:monoidal_set_unit_nat}).

  \begin{figure}[h!]
    \begin{center}
      \includesag{115_set_mon_unit_nat}
    \end{center}
    \caption{\label{fig:monoidal_set_unit_nat}}
  \end{figure}

  Analogously, given an object~$A\in \Ob_{\Set}$, the unitor isomorphism~$\rightunitor_A$ is given by:
  \begin{equation*}
    \begin{aligned}
      \rightunitor_A\colon A\times \singleton &\toiso A\\
      \tup{a,\singletonel}&\mapsto a.
    \end{aligned}
  \end{equation*}
  The proof for naturality is analogous to the one of~$\leftunitor_A$. We now need to check whether the triangle and pentagon identites are satisfied. We start by the triangle. Given~$A,B\in \Ob_{\Set}$, the proof is displayed in \cref{fig:set_mon_triangle}.

  \begin{figure}[h]
    \begin{center}
      \includesag{115_set_mon_tri}
    \end{center}
    \caption{\label{fig:set_mon_triangle}}
  \end{figure}

  We now prove the pentagon identity. Given $A,B,C,D\in \Ob_\Set$, the proof is reported in \cref{fig:set_mon_pent}.


  \begin{figure}[h]
    \begin{center}
      \includesag{115_set_mon_pentagon}
    \end{center}
    \caption{\label{fig:set_mon_pent}}
  \end{figure}
\end{example}



\begin{example}
  \label{ex:robot}
  Consider $\reals^2$, discretized as a two-dimensional grid, representing locations (cells) which a robot can reach. The configuration space of the robot is $\reals^2\times \Theta$, where $\Theta=[0,2\pi)$. A specific configuration $\tup{x,y,\theta}$ is characterized at each time by the position of the robot $x,y\in \reals$ and its orientation $\theta \in \Theta$. The action space of the robot is $\mathcal{A}=\{\mathsf{stay},\leftarrow, \rightarrow, \uparrow, \downarrow\}$. This is a category, where each configuration of the robot is an object, and morphisms are robot actions which change configurations. Each configuration has the identity morphism which does not change it ($\mathsf{stay}$). Composition of morphisms is given by concatenation of actions (\cref{fig:robotcategory}). Assuming the existence of multiple robots $r_i=\tup{x_i,y_i,\theta_i}$, it is possible to define a product $r_i\mtimescat r_j$, which is to be intended as ``we have a robot at configuration $r_i$ and another one at configuration $r_j$''. However, this cannot be a proper monoidal product, because two robots cannot have the same configuration (physically, they cannot lie on each other), and hence $r_i\mtimescat r_i$ does not exist. By assuming that two robots could share the same configuration, this would be a valid monoidal product.
  \begin{figure}[tbh]
    \begin{center}
      \includesag{120_robotcategory}
    \end{center}
    \caption{Example of the robot category. \label{fig:robotcategory}}
  \end{figure}
\end{example}

\todotext{The definition of symmetric monoidal category (below) needs to be corrected.}

\begin{ctdefinition}[\iindex{Symmetric monoidal category}]
  Let~$\tup{\CatC,\mtimescat,\idmoncat}$ be a monoidal category (\cref{def:monoidal_cat}). A \emph{symmetric structure} on it consists of one component: For any objects~$c,d\in\ObC$ an isomorphism~$\braiding_{c,d}\colon (c\mtimescat d)\mtoiso (d\mtimescat c)$, called the \emph{braiding}. The braiding must satisfy:
  \begin{compactenum}
    \item \emph{Naturality:} Given any morphisms~$f_1\colon c_1\to d_1$ and~$f_2\colon c_2\to d_2$, the following diagram must commute:
    \begin{center}
      \includesag{50_sym_1}
    \end{center}
    \item \emph{Triangle identities:} Given any objects~$c,d\in\ObC$, the following diagrams must commute:
    \begin{center}
      \includesag{50_sym_2}
    \end{center}
    \item \emph{Hexagon identity:} Given any objects~$c,d,e\in \ObC$, the following diagram must commute:
    \begin{center}
      \includesag{50_sym_3}
    \end{center}
  \end{compactenum}
\end{ctdefinition}
