% !TEX root = chapter-standalone.tex
\section{Feedback axiomatically}
\todo{fill this section}

\begin{ctdefinition}[Semitraced symmetric stacking semicategory]
    \label{def:semitraced-assoc-stack-scat}
    We say that a symmetric stacking \SY{semicategory}~$\tup{\CatC, \mtimescat }$ is \emph{semitraced} if it is equipped with a family of \emph{semitrace functions}
    \begin{equation}
        \Tr_{\Obja,\Objb}^\Objc\colon \HomSet{\CatC}{\Obja \mtimescatob \Objc}{\Objb\mtimescatob \Objc}\to \HomSet{\CatC}{\Obja}{\Objb},
    \end{equation}
    satisfying the following axioms:
    \begin{enumerate}

        \item \emph{Compatibility with object stacking:}

              For any morphism~$\mora \colon \Obja\mtimescatob \Objc \mtimescatob \Objd \mto \Objb\mtimescatob \Objc \mtimescatob \Objd$ in \CatC,
              \begin{equation}
                  \label{eq:semicat-semitrace-vanishing_2}
                  \Tr_{\Obja,\Objb}^{\Objc\mtimescatob \Objd}(\mora)=\Tr_{\Obja,\Objb}^\Objc\pars{
                      \Tr_{\Obja \mtimescatob \Objc, \Objb \mtimescatob \Objc}^\Objd(\mora)}.
              \end{equation}

        \item \emph{Compatibility with morphism stacking:}

              For any morphisms~$\mora\colon \Obja\mtimescatob \Objc \mto \Objb\mtimescatob \Objc$ and $\morb \colon \Obje \mto \Objf$ in \CatC,
              \begin{equation}
                  \label{eq:semicat-semitrace-superposing}
                  \Tr_{\Obje\mtimescatob \Obja,\Objf\mtimescatob \Objb}^{\Objc}(\morb \mtimescatmor \mora)=\morb \mtimescatmor \Tr_{\Obja,\Objb}^\Objc(\mora).
              \end{equation}

        \item \emph{Compatibility with permutations:}

              \todotext{J: we need an extra axiom here I think in order to not have to define left and right traces}

    \end{enumerate}
\end{ctdefinition}

\todotext{J: @J: see if compatibility with permutations can be formulated without mentioning permuations}

\begin{figure}[h!]
    \centering
    \includesag{feedback_axiomatic-semicat-trace-superposing}
    %\includegraphics[scale=0.2]{feedback_axiomatic-semicat-trace-superposing}
    \caption{Compatibility with morphism stacking.}
    \label{fig:axiomatic-semicat-semitrace-superposing}
\end{figure}

\begin{ctdefinition}[Semitraced strict monoidal semicategory]
    \label{def:semitraced-strict-mon-scat}
    A symmetric strict monoidal stacking \SY{semicategory}~$\tup{\CatC, \mtimescat, \idmoncat }$ is called \emph{semitraced} if it is equipped with a family of semitrace functions
    \begin{equation}
        \Tr_{\Obja,\Objb}^\Objc\colon \HomSet{\CatC}{\Obja \mtimescatob \Objc}{\Objb\mtimescatob \Objc}\to \HomSet{\CatC}{\Obja}{\Objb},
    \end{equation}
    satisfying the axioms for a symmetric stacking semicategory, plus the following axiom:
    \begin{enumerate}

        \item \emph{Compatibility with the monoidal unit:}

              For any morphism~$\mora \colon \Obja\mto \Objb$ in \CatC,
              \begin{equation}
                  \label{eq:semicat-semitrace-vanishing_1}
                  \Tr_{\Obja,\Objb}^\idmoncat (\mora)=\mora.
              \end{equation}

    \end{enumerate}
\end{ctdefinition}

\begin{figure}[h!]
    \centering
    \includesag{feedback_axiomatic-semicat-trace-vanishing-I}
    %\includegraphics[scale=0.15]{feedback_axiomatic-semicat-trace-vanishing-I}
    \caption{Compatibility with the monoidal unit.}
    \label{fig:axiomatic-semicat-semitrace-vanishing-I}
\end{figure}

