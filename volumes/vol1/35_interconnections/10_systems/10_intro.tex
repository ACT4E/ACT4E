% !TEX root = chapter-standalone.tex

\section{Introduction to systems}
\todojira{624}{fill the whole part}

\section{Specification verses behavior}

\todotext{Talk about the distinction between formal specifications or parametrizations of systems versus behaviors of systems}

\section{System behaviors}

Let $\Time = \tup{\Time, \leq}$ be a totally ordered set (a model of time).
Given a set $\Obja$, we will think here of the set $\Obja^\Time$ of functions $\Time \to \Obja$ as the set of time-dependent signals taking values in the signal space $\Obja$.

When want to talk about discrete-time signals, natural choices for $\Time$ might be $\Time = \natnumbers$ or $\Time = \wnumbers$.
When we want to talk about continuous time systems, we might choose $\Time = \reals$.
And when we want to talk about event-based systems, we can choose $\Time$ to consist of a set of possible events, ordered by their sequence of occurence.

The externally observable behavior of an input-output system is nothing else than a relation between input signals and output signals.

\begin{definition}
    Let $\Obja$ and $\Objb$ be sets.
    An \emph{input-output behavior}, with input signal space $\Obja$ and output signal space $\Objb$, is a relation
    \begin{equation}
        \relA \subseteq \Obja^\Time \times \Objb^\Time.
    \end{equation}
\end{definition}

\begin{definition}
    Fix a totally ordered set $\Time = \tup{\Time, \leq}$.
    The category $\textbf{Bh}_\Time$ of input-output behaviors is the category where:
    \begin{enumerate}
        \item Objects consist of all sets of the form $\Obja^\Time$, ranging over all sets $\Obja$.
        \item Morphisms from $\Obja^\Time$ to $\Objb^\Time$ are relations from $\Obja^\Time$ to $\Objb^\Time$:
              \begin{equation}
                  \HomSet{\textbf{Bh}_\Time}{\Obja^\Time}{\Objb^\Time} = \powerset (\Obja^\Time \times \Objb^\Time).
              \end{equation}
        \item The identity morphism at an object $\Obja^\Time$ is the usual identity relation from $\Obja^\Time$ to itself.
        \item Composition is the usual composition of relations.
    \end{enumerate}
\end{definition}

Sometimes we will wish to consider signal spaces $\Obja$ which are vector spaces over some field $\field$.
Then the set $\Obja^\Time$ naturally inherits a $\field$-vector space structure from $\Obja$, and we may consider input-output behaviors
\begin{equation*}
    \relA \subseteq \Obja^\Time \oplus \Objb^\Time
\end{equation*}
which are $\field$-linear relations.

\begin{definition}
    Fix a totally ordered set $\Time = \tup{\Time, \leq}$.
    The category $\textbf{LBh}_\Time$ of $\field$-linear input-output behaviors is the category where:
    \begin{enumerate}
        \item Objects consist of all $\field$-vector spaces of the form $\Obja^\Time$, ranging over all $\field$-vector spaces $\Obja$.
        \item Morphisms from $\Obja^\Time$ to $\Objb^\Time$ are linear subspaces of  $\Obja^\Time \oplus \Objb^\Time$.
        \item The identity morphism at an object $\Obja^\Time$ is the usual identity relation from $\Obja^\Time$ to itself (this is always $\field$-linear).
        \item Composition is the usual composition of relations.
    \end{enumerate}
\end{definition}

\subsection{Causal behaviors}

Given a signal $\ela \in \Obja^\Time$, we set the notation
\begin{equation}
    \ela \vert_{\leq t} :=  \ela \vert_{\{ s \in \Time \mid s \leq t\}}.
\end{equation}

\begin{definition}
    An input-output behavior $\relA \subseteq \Obja^\Time \times \Objb^\Time$ is \emph{causal} if for all~$\tup{\ela_1, \elb_1}$, $\tup{\ela_2, \elb_2} \in \relA$ holds:
    \begin{equation}
        \forall t \in \Time: \ela_1 \vert_{ \leq t} = \ela_2 \vert_{ \leq t} \  \Rightarrow \ \elb_1 \vert_{ \leq t} = \elb_2 \vert_{ \leq t}
    \end{equation}
\end{definition}

\todotext{Questions: If two composable input-output behaviors are causal, is their composition also causal?
    What if only one of them is causal?
    And various other related questions.
    .. }

\subsection{Time-invariance}

In this subsection we assume that $\Time = \tup{\Time, \leq}$ comes equipped with a semigroup structure $\tup{\Time, +}$ which is compatible with the total order: if $t \leq t'$ and $s \leq s'$, then $t + s \leq t' + s'$.

Fix an $s \in \Time$.
For any signal space $\Obja$, we define a shift function $\delta_s: \Obja^\Time \to \Obja^\Time$ by
\begin{equation}
    (\delta_s \ela)(t) := \ela(t + s).
\end{equation}

\begin{definition}
    An input-output behavior $\relA \subseteq \Obja^\Time \times \Objb^\Time$ is \emph{time-invariant} if
    \begin{equation}
        \forall s \in \Time: \tup{\ela, \elb} \in \relA  \ \Rightarrow \tup{\delta_s \ela, \delta_s \elb} \in \relA.
    \end{equation}
\end{definition}

\todotext{Questions: If two time-invariant input-output behaviors are causal, is their composition also causal?
    What if only one of them is causal?
    And various other related questions.
    .. }

