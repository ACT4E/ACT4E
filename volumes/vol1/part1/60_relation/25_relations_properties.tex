% !TEX root = standalone.tex


\section{Properties of relations}

\todostructure{Re-do this part following the lecture exposition}

\begin{definition}[Properties of a relation]
  \label{def:rel_properties}
  Let~$R\subseteq \Obja \times \Objb$ be a relation.~$R$ is:
  \begin{compactenum}
    \item \emph{Surjective} if~$\forall \objb\in \Objb \ \exists \obja\in \Obja\colon \tup{x,y}\in R$;
    \item \emph{Injective} if~$\forall \tup{\obja_1,\objb_1},\tup{\obja_2,\objb_2}\in R$ it holds:~$\objb_2=\objb_2 \Rightarrow \obja_1=\obja_2$;
    \item \emph{Defined-everywhere} if~$\forall \obja\in \Obja \ \exists \objb \in \Objb\colon \tup{x,y}\in R$;
    \item \emph{Single-valued} if~$\forall \tup{\obja_1,\objb_1},\tup{\obja_2,\objb_2}\in R$ it holds:~$\obja_1=\obja_2\Rightarrow \objb_1=\objb_2$.
  \end{compactenum}
\end{definition}

\begin{example}
  The relation depicted in \cref{fig:example_rel} is injective but not surjective, \ie  if~$\tup{x,y},\tup{x',y'}\in R$ and~$y=y'$, then~$x=x'$.
\end{example}

One can notice a certain duality in the properties listed in \cref{def:rel_properties}. This is made more precise through the following definition.

\begin{definition}[Transpose of a relation]
  \label{def:relation-transpose}
  Let~$R\subseteq \Obja\times \Objb$ be a relation. The \emph{transpose} (or \emph{opposite}, \emph{reverse}) of~$R$ is the relation given by:
  \begin{equation*}
    R^\intercal \definedas \{\tup{\objb,\obja}\in \Objb\times \Obja \mid \tup{\obja,\objb}\in R \}.
  \end{equation*}
  note that~$R^\intercal\colon \Objb\to \Obja$, while~$R\colon \Obja\to \Objb$.
\end{definition}
\begin{remark}
  In the following, we list some properties which refer to relations and their opposites. It is a good exercise to prove them:
  \begin{compactitem}
    \item $\left( R^\intercal\right)^\intercal =R$;
    \item If~$R$ is everywhere-defined, then~$R^\intercal$ is surjective;
    \item If~$R$ is single-valued, then~$R^\intercal$ is injective.
    \item If~$R$ is everywhere defined, then~$\id_\Obja\subseteq R\then R^\intercal$;
    \item If~$R$ is single-valued, then~$R^\intercal\then R\subseteq \id_\Objb$.
  \end{compactitem}
\end{remark}

\begin{remark}
  The aforementioned duality can be seen by ``reading the relations (arrows) backwards'' (\cref{fig:rel_transpose}).
\end{remark}

\begin{figure}[h!]
  \centering
  \includesag{030_rel_transpose}
  \caption{\label{fig:rel_transpose}}
\end{figure}
