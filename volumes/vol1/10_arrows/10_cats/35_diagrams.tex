% !TEX root = chapter-standalone.tex

\section{Diagrams}

When working with (semi)categories, it is typical to use diagrams that look like directed graphs, with nodes representing objects and directed arrows.
Diagrams are usually used as a tool to speak and think about specific situations, where one is focusing on certain objects and morphisms of a given (semi)category.
We typically don't draw every single object and morphism in the (semi)category, we just draw the ones that we want to refer to.

\begin{marginfigure}
    \centering
    \includesag{points_and_three_arrows}
    \caption{}
    \label{fig:points-and-three-arrows-diagram}
\end{marginfigure}

\begin{marginfigure}
    \centering
    \includesag{points_and_three_arrows_composed}
    \caption{}
    \label{fig:points-and-three-arrows-composed-diagram}
\end{marginfigure}

\todotextjira{513}{@J: dead reference fig:points-and-two-arrows-diagram-again}
For example, we might draw a diagram as in \cref{fig:points-and-two-arrows-diagram-again} because we are considering the morphisms $\mora$, $\morb$, and $\morc$.
The diagram encodes their sources and targets, and is suggestive of how they may be composed.
Composition corresponds to following paths in the diagram.
Based on \cref{fig:points-and-two-arrows-diagram-again}, we could build all the morphisms depicted in \cref{fig:points-and-three-arrows-composed-diagram}.
By the associative law for semicategories, however, we know that $\tup{\mora \mthen \morb} \mthen \morc = \mora \mthen \tup{\morb \mthen \morc}$; this morphism corresponds to the path along $\mora$, $\morb$, and $\morc$.

\subsection{Commutative diagrams}

Often we will be interested in knowing whether two given morphisms in a homset are \emph{equal} or not.
For instance, in \cref{fig:points-and-three-arrows-composed-diagram} we have $\tup{\mora \mthen \morb} \mthen \morc = \mora \mthen \tup{\morb \mthen \morc}$.
Or consider for example the situation in \cref{fig:commutative-diagram-example-prep}.
It could be that the morphisms $\mora \mthen \morb$ and $\morc$ are two distinct elements of $\HomSet{\CatC}{\Obja}{\Objc}$, or it could be that they are in fact equal,  $\mora \mthen \morb = \morc$.
When the latter is the case, we encode this information compactly by drawing just the diagram in \cref{fig:commutative-diagram-example} and saying that it is \emph{commutative}.
This is a short-hand way of saying that both possible paths from $\Obja$ to $\Objc$ in the diagram (namely via $\morc$ or via $\mora$ then $\morb$) give rise to the same morphism.

\begin{marginfigure}
    \centering
    \includesag{commutative_diagram_example_prep}
    \caption{}
    \label{fig:commutative-diagram-example-prep}
\end{marginfigure}

\begin{marginfigure}
    \centering
    \includesag{commutative_diagram_example}
    \caption{}
    \label{fig:commutative-diagram-example}
\end{marginfigure}

\begin{marginfigure}
    \centering
    \includesag{commutative_square_example}
    \caption{}
    \label{fig:commutative-square-example}
\end{marginfigure}

\begin{marginfigure}
    \centering
    \includesag{commutative_diagram_with_identity}
    \caption{}
    \label{fig:commutative-diagram-with-identity}
\end{marginfigure}

\begin{definition}
    \label{def:commutative-diagram}
    A diagram in a (semi)category is commutative if, for any two objects $\Obja$ and $\Objb$ in the diagram, all morphisms that arise from following paths in the diagram from $\Obja$ to $\Objb$ are in fact equal.
\end{definition}

As a further example, if we say that the diagram in \cref{fig:commutative-square-example} is commutative, then this means in particular that the morphisms $\mora \mthen \morb$, $\morc \mthen \mord$, and $\more$ are all equal.
By \cref{def:commutative-diagram} it also means for instance that all paths between $\Objb$ and $\Objd$ give rise to the same morphism, but since there is only one path, namely via $\morb$, this doesn't give us any new information.

\begin{remark}
    When drawing a diagram in a category (as opposed to just a semicategory), we usually do not draw the identity morphisms.
    By the definition of a category, we know the identity morphisms are there, and because they act neutrally for composition, they do not alter the computation of morphisms via following paths in a diagram.

    Sometimes however it is more clear or simply needed to draw identity morphisms in a diagram.
    For instance, saying that the diagram in \cref{fig:commutative-diagram-with-identity} is commutative is a way of saying that $\mora \mthen \morb = \catid_{\Obja}$.
\end{remark}

\subsection{Semicategories vs directed graphs}

One might now be led to ask: what is actually the difference between a semicategory and a directed graph?

With directed graphs we have nodes and directed edges, and with semicategories we have objects and morphisms.
These are the same ingredients, apart from name differences.

A further essential ingredient in the definition of a semicategory is the composition operation: for any two morphisms where the target of one is the source of the other, we can compose them to obtain a further morphism.

One might thus say: a semicategory corresponds to a special kind of directed graph, where for any two adjacent directed edges there must exist a third edge corresponding to the ``composite'' of those edges.
This is technically a true statement, however it does not emphasize the key point that, in category theory, we are often interested in comparing composite morphisms which might turn out to be equal, or not.

In \cref{sec:free-forgetful-adjunction-graph-example}, we will spell out an elegant and formally detailed way of thinking about the relationship between directed graphs and (semi)categories.

\subsection{Graphical calculi}

Later in the book we will get to know another kind of diagram: \emph{string diagrams}.
These are a different visual tool for reasoning ``diagrammatically'' about situations in category theory.
In fact, the string diagrams we will introduce are just one example in a whole zoo of visual tools, ``graphical calculi'', that combine visual intuition with formal rigor.
For now though, the word ``diagram'' will refer to the kind discussed above.

