% !TEX root = chapter-standalone.tex
\section{\statusdraft{Formal definition of (semi) category}}

\todo{Add johnny's lecture}


Let us formally define \emph{semicategories}.

\begin{comment}
\begin{ctdefinition}[Semicategory]
  \label{def:semicategory}
  A \emph{\iindex{semicategory}}~\CatC is:
\begin{body}
    \constit
  \begin{compactenum}
    \item Objects: a collection\footnotemark~$\ObC$, whose elements are called \emph{objects}.
    \item Morphisms: for every pair of objects~$\Obja,\Objb\in \ObC$, there is a set~$\HomSet{\CatC}{\Obja}{\Objb}$, elements of which are called
    \emph{morphisms} from~$\Obja$ to~$\Objb$. The set is called the ``hom-set from~$\Obja$ to~$\Objb$''.
    \item Composition operations: given any morphism~${\mora} \in  \HomSet{\CatC}{\Obja}{\Objb}$ and any morphism~${\morb} \in \HomSet{\CatC}{\Objb}{\Objc}$, there exists a morphism~$\mora \mthen \morb\in \HomSet{\CatC}{\Obja}{\Objc}$ which is the \emph{composition of~$\mora$ and~$\morb$}.
  \end{compactenum}
 \condit
  \begin{compactenum}
    \item Associativity: for any morphisms~$\mora\in \HomSet\CatC\Obja\Objb$,~$\morb\in \HomSet\CatC\Objb\Objc$, and~$\morc\in \HomSet\CatC\Objc\Objd$,
    \begin{equation}
    (\mora\mthen \morb)
      \mthen \morc= \mora \mthen (\morb \mthen \morc).
    \end{equation}
  \end{compactenum}
  \end{body}
\end{ctdefinition}
\end{comment}


\begin{ctdefinition}[Semicategory]
  \label{def:semicategory-compact}
  A \emph{\iindex{semicategory}}~\CatC is specified by:
\begin{body}
    \constit
  \begin{compactenum}
    \item Objects: A collection\footnotemark~$\ObC$ whose elements are called \emph{objects}.
    \item Morphisms: For every pair of objects~$\Obja,\Objb$ in $\ObC$, there is a set~$\HomSet{\CatC}{\Obja}{\Objb}$, elements of which are called \emph{morphisms}. We write
    \begin{equation}
    \mora \colon \Obja \to_\CatC \Objb
    \end{equation}
    to indicate
    \begin{equation}
      \mora \in \HomSet{\CatC}{\Obja}{\Objb}.
      \end{equation}
    \item Composition operations: For every three objects~$\Obja,\Objb,\Objc$ in $\ObC$ there is a composition map
    \begin{equation}
        \mthen_{\Obja,\Objb,\Objc}: \HomSet{\CatC}{\Obja}{\Objb} \times \HomSet{\CatC}{\Objb}{\Objc}\to \HomSet{\CatC}{\Obja}{\Objc}
    \end{equation}
    We omit mentioning the three objects and just write
    \begin{equation}
        \prftree{\mora \colon \Obja \to \Objb}{\morb\colon \Objb \to \Objc}{\mora \mthen \morb \colon \Obja \to \Objc}
    \end{equation}
    The morphism~$\mora \mthen \morb$ is called the \emph{composition} of~$\mora$ and~$\morb$.
        %Given any morphism~${\mora} \in  \HomSet{\CatC}{\Obja}{\Objb}$ and any morphism~${\morb} \in \HomSet{\CatC}{\Objb}{\Objc}$, there exists a morphism~$\mora \mthen \morb\in \HomSet{\CatC}{\Obja}{\Objc}$ which is the \emph{composition of~$\mora$ and~$\morb$}.
  \end{compactenum}
 \condit
  \begin{compactenum}
    \item Associativity:  it holds that
    % for any morphisms~$\mora\in \HomSet\CatC\Obja\Objb$,~$\morb\in \HomSet\CatC\Objb\Objc$, and~$\morc\in \HomSet\CatC\Objc\Objd$,
    \begin{equation}
      \prftree{\mora: \Obja \to \Objb}{\morb: \Objb \to \Objc}{\morc: \Objc \to \Objd}
      {
    (\mora\mthen \morb)
      \mthen \morc= \mora \mthen (\morb \mthen \morc)
      }
    \end{equation}
  \end{compactenum}
  \end{body}
\end{ctdefinition}


\todotext{Remove the part about the motor, now moved later.}

The following is the formal definition of a \emph{category}.

%\let\oldmora\mora
%\renewcommand{\mora}{{\colTransmuter \oldmora}}
%\let\oldmorb\morb
%\renewcommand{\morb}{{\colTransmuter \oldmorb}}
%\let\oldmorc\morc
%\renewcommand{\morc}{{\colTransmuter \oldmorc}}
%\let\oldObja\Obja
%\renewcommand{\Obja}{{\colTransmuted \oldObja}}
%\let\oldObjb\Objb
%\renewcommand{\Objb}{{\colTransmuted \oldObjb}}
%\let\oldObjc\Objc
%\renewcommand{\Objc}{{\colTransmuted \oldObjc}}
%\let\oldObjd\Objd
%\renewcommand{\Objd}{{\colTransmuted \oldObjd}}
%
%\let\oldOb\Ob
%\renewcommand{\Ob}{{\colTransmuted \oldOb}}
%
%\let\oldHom\Hom
%\renewcommand{\Hom}{{\colTransmuter \oldHom}}

\begin{ctdefinition}[Category]
  \label{def:categorymain}
  A \emph{\iindex{category}}~\CatC is a semicategory with an additional constituent and rule:
\begin{body}
    \constit
  \begin{compactenum}
    \item Identity morphisms: for each object~$\Obja$, there is
    a morphism~$\catid_{\Obja}\colon \Obja \to \Obja$  called \emph{the identity
    morphism of~$\Obja$}.
  \end{compactenum}
 \condit
  \begin{compactenum}
    \item Unitality: It holds that:
    \begin{equation}
        \prftree{\mora \colon \Obja \to \Objb}{\catid_\Obja \mthen \mora= \mora = \mora \mthen \catid_\Objb}
        % \prftree{\catid_{\Obja}\colon \Obja \to \Obja}{\mora \colon \Obja \to \Objb}{\catid_{\Objb}\colon \Objb \to \Objb}{\catid_\Obja \mthen \mora= \mora = \mora \mthen \catid_\Objb}
      \end{equation}
  \end{compactenum}
  \end{body}
\end{ctdefinition}


% \begin{ctdefinition}[Category]
%   \label{def:categorymain}
%   A \emph{\iindex{category}}~\CatC is:
% \begin{quote}
%     \constit
%   \begin{compactenum}
%     \item Objects: a collection\footnotemark~$\ObC$, whose elements are called \emph{objects}.
%     \item Morphisms: For every pair of objects~$\Obja,\Objb$ in $\ObC$, there is a set~$\HomSet{\CatC}{\Obja}{\Objb}$, elements of which are called \emph{morphisms}. We write
%     \begin{equation}
%     \mora \colon \Obja \to_\CatC \Objb
%     \end{equation}
%     to indicate
%     \begin{equation}
%       \mora \in \HomSet{\CatC}{\Obja}{\Objb}.
%       \end{equation}
%     \item Identity morphisms: for each object~$\Obja$, there is
%     an element~$\catid_{\Obja} \in \HomSet{\CatC}{\Obja}{\Obja}$ which is called \emph{the identity
%     morphism of~$\Obja$}.
%     \item Composition operations: For every three objects~$\Obja,\Objb,\Objc$ in $\ObC$ there is a composition map
%     \begin{equation}
%         \mthen_{\Obja,\Objb,\Objc}: \HomSet{\CatC}{\Obja}{\Objb} \times \HomSet{\CatC}{\Objb}{\Objc}\to \HomSet{\CatC}{\Obja}{\Objc}
%     \end{equation}
%     It holds that
%     \begin{equation}
%         \prftree{\mora \colon \Obja \to \Objb}{\morb\colon \Objb \to \Objc}{\mora \mthen \morb \colon \Obja \to \Objc}
%     \end{equation}
%     The morphism~$\mora \mthen \morb$ is called the \emph{composition} of~$\mora$ and~$\morb$.
%     %Composition operations: given any morphism~${\mora} \in  \HomSet{\CatC}{\Obja}{\Objb}$ and any morphism~${\morb} \in \HomSet{\CatC}{\Objb}{\Objc}$, there exists a morphism~$\mora \mthen \morb\in \HomSet{\CatC}{\Obja}{\Objc}$ which is the \emph{composition of~$\mora$ and~$\morb$}.
%   \end{compactenum}
%  \condit
%   \begin{compactenum}
%     \item Unitality: It holds that:
%     \begin{equation}
%         \prftree{\catid_{\Obja}\colon \Obja \to \Obja}{\mora \colon \Obja \to \Objb}{\catid_{\Objb}\colon \Objb \to \Objb}{\catid_\Obja \mthen \mora= \mora = \mora \mthen \catid_\Objb}
%     \end{equation}
%     \item Associativity:  it holds that
%     % for any morphisms~$\mora\in \HomSet\CatC\Obja\Objb$,~$\morb\in \HomSet\CatC\Objb\Objc$, and~$\morc\in \HomSet\CatC\Objc\Objd$,
%     \begin{equation}
%       \prftree{\mora\colon \Obja \to \Objb}{\morb\colon \Objb \to \Objc}{\morc\colon \Objc \to \Objd}
%       {
%     (\mora\mthen \morb)
%       \mthen \morc= \mora \mthen (\morb \mthen \morc)
%       }
%     \end{equation}
%   \end{compactenum}
%   \end{quote}
% \end{ctdefinition}

\footnotetext{A ``collection'' is something which may be thought of as a set, but may be ``too large" to technically be a set in the formal sense. This distinction is necessary in order to avoid such issues as Russel's paradox.}

\todostructure{This should be moved to the chapter about sets and functions where we use $\then$ already for functions}
\begin{remark}
  We denote composition of morphisms in a somewhat unusual way--sometimes preferred by category-theorists and computer scientists--namely in \emph{diagrammatic order}.

  That is, given~$\mora \colon \Obja\to \Objb$ and~$\morb \colon \Objb \to \Objc$, we denote their composite by~$(\mora\mthen \morb)\colon \Obja\to \Objc$, pronounced ``$\mora$ then~$\morb$''. This is in contrast to the more typical notation for composition, namely~$\morb\after \mora$, or simply~$\morb \mora$, which reads as ``$\morb$ after~$\mora$''. The notation~$\mora \mthen \morb$ is sometimes called \emph{infix notation}.

  We promise, at some point it will be clear what are the advantages of seemingly doing everything
  in the wrong direction.
\end{remark}

\begin{gradedexercise}[\str{CategorySemigroups}]
There is a category where the objects are semigroups and the morphisms are semigroup homomorphisms. Spell out explicitely what this category is: check in detail each of the points of \cref{def:categorymain}.
\end{gradedexercise}

\devel{
  \begin{forslides}



$$ \mora \quad \morb \quad \morc $$

$$X = \{ \sprout, \yng, \mature, \old, \dead \}$$


$$T \colon X \sto X$$


  \begin{align*}
    T(\text{sprout}) &=  \yng \\
    T(\yng) &=  \mature \\
    T(\mature) &=  \old \\
    T( \old) &= \dead \\
    T (\dead) &= \dead
  \end{align*}


  $$\sgrpA = \{ T^n \mid n \in \natnumbers \}$$

$$ T^n = T^4 \quad \forall \ n \geq 4 $$

  $$\sgrpA = \{T, T^2, T^3, T^4 \}$$

  $$  \setA = \{ \alphabeta, \alphabetb \}$$

  $$\sgrpA = \{ \text{set of non-empty strings of elements of }\setA\}$$

  $$Y = \{ \text{alive}, \dead \}$$

  $$ T' : Y \sto Y $$

  $$\sgrpA' = \{T' \}$$


   \begin{align*}
    T'(\text{alive}) &=  \dead \\
    T' (\dead) &= \dead
  \end{align*}

  $$ R: X \sto Y $$

    \begin{align*}
    R(\text{sprout}) &= \text{alive} \\
    R(\yng) &=  \text{alive} \\
    R(\mature) &= \text{alive}\\
    R( \old) &= \text{alive} \\
    R (\dead) &= \dead
  \end{align*}

   $$\monoidA = \{ \id, T, T^2, T^3, T^4 \}$$

   $$\monoidA' = \{ \id, T' \}$$

  \begin{equation*}
    \worda \text{ and } \wordb
  \end{equation*}

  \begin{equation*}  \label{eq:string-semigroup-wordab-2}
    \worda \mtimes  \wordb =  \worda \wordb
  \end{equation*}


  $$ \tup{ \monoidA, \mtimes, \idmon} $$


  \begin{equation*} \label{eq:string-semigroup-wordab-concat-2}
     \worda \wordb
  \end{equation*}


  \end{forslides}}


