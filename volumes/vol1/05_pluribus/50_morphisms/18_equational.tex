% !TEX root = chapter-standalone.tex

\section{Generators and relations}

In \cref{exa:plant-trafo-semigroup} we considered a set of states
%
\begin{equation}
    \setA= \makeset{ \sprout, \yng, \mature, \old, \dead },
\end{equation}
%
a function~$\mapa \colon \setA \sto \setA$, and the semigroup
%
\begin{equation}
    \label{eq:trafo-sgrp-one-gen}
    \sgrpA = \makeset{ \mapa^n \mid n \setin \natnumbers }.
\end{equation}
%
Note that~$\sgrpA$ has a special form: all of its elements can be expressed in terms one of its elements,~$\mapa$, and the multiplication operation (which, in this case, is function composition).
To describe this state of affairs we say that~$\sgrpA$ is \emph{generated} by the element~$\mapa$.

Recall that~$\mapa$ was defined by
%
\begin{align*}
    \mapa(\sprout) & =  \yng, \\
    \mapa(\yng)    & =  \mature, \\
    \mapa(\mature) & =  \old, \\
    \mapa( \old)   & = \dead, \\
    \mapa(\dead)   & = \dead.
\end{align*}

Observe that the function~$\mapa^4$ will map all elements of~$\setA$ to the element ``\dead''.
For example, if we start with the element ``\sprout'', the result of applying~$\mapa$ four times is
%
\begin{equation}
    \sprout \overset{\mapa}{\sto} \yng \overset{\mapa}{\sto} \mature \overset{\mapa}{\sto} \old \overset{\mapa}{\sto} \dead.
\end{equation}

Note also that for \emph{any}~$n \geq 4$, the function~$\mapa^n$ will map all elements of~$\setA$ to the element ``\dead''.
If we consider~$\mapa^6$, for example, then, for any~$\ela \setin \setA$,
%
\begin{equation}
    \mapa^6(\ela) = \mapa^2(\mapa^4(\ela)) = \mapa^2(\dead) = \mapa(\mapa(\dead)) = \mapa(\dead) = \dead.
\end{equation}
%
It follows that all~$\mapa^n$, for~$n \geq 4$, are actually \emph{all the same map}: the one that sends every state to the dead state.
Thus, ~$\sgrpA = \makeset{ \mapa^n \mid n \setin \natnumbers }$ actually only has at most \emph{four} elements: $\mapa$,~$\mapa^2$,~$\mapa^3$, and~$\mapa^4$.

\begin{gradedexercise}[\exname{CheckRelations}]
    \label{ex:CheckRelations}
    Are any of the four maps~$\mapa$,~$\mapa^2$,~$\mapa^3$, and~$\mapa^4$ actually equal?
    Justify your answer by argumentation or by explicitly checking via calculation.
\end{gradedexercise}
\solutionof{CheckRelations}

When two elements which a priori could be distinct from each other (such as~$\mapa^6$ and~$\mapa^4$ above) turn out to be equal, we call this a \emph{relation} between the elements of~$\sgrpA$.

\begin{ctdefinition}[Generating subsets]
    \label{def:gen-semigrp}
    Let~$\sgrpA = \tup{\sgrpAset, \mtimes}$ be a semigroup, and let~$\setA \setsubseteq \sgrpA$ be a subset.
    We say that~$\sgrpA$ is \emph{generated} by~$\setA$ if every element of~$\sgrpA$ can be expressed as a finite multiplication of elements of~$\setA$.
\end{ctdefinition}

\begin{remark}
    In the terms of \cref{def:gen-semigrp}, the semigroup \cref{eq:trafo-sgrp-one-gen} is generated by the one-element set $\makeset{ T }$.
\end{remark}

\begin{example}
    Consider \cref{exa:string-semigroup}, where elements of the semigroup~$\sgrpA$ were non-empty lists built using the elements of the ``alphabet'' set~$\setA = \makeset{ \alphabeta, \alphabetb}$.
    In this case,~$\sgrpA$ is generated by~$\setA$.
\end{example}

\begin{example}
    Consider the natural numbers (without zero) as a semigroup, where addition is the semigroup multiplication (see \cref{exa:natnum-semigroup}).
    This semigroup is generated by the subset~$\makeset{1 }$.
\end{example}

\begin{ctdefinition}
    A \emph{relation} on a semigroup~$\tup{\sgrpA, \mtimes}$ is an equation between two multiplications of elements of~$\sgrpA$.
\end{ctdefinition}

\begin{example}
    Consider the semigroup~$\tup{\natnumbers, +}$, and consider~$l, k \setin \natnumbers$.
    The equation~$l + k = k + l$ is an example of a relation.
\end{example}

\subsection{Freeness}

When, in \cref{def:gen-semigrp} we spoke about the semigroup~$\sgrpA = \tup{\sgrpAset, \mtimes}$  being generated by a subset~$\setA \setsubseteq \sgrpAset$, we supposed that we already had a semigroup~$\sgrpA$ to work with.
However, if we start with just a set, say~$\setA = \makeset{ \alphabeta, \alphabetb}$, then we saw in \cref{string-sgrp} that we can build a semigroup from this set by considering lists of elements of~$\setA$, with concatenation as the composition operation.
The resulting semigroup in that example has a special characteristic: its elements do not satisfy any relations other than the ones that are required by the definition of a semigroup, namely those relations dictated by the associative law.
Such a semigroup is called \emph{free}.
If we think of relations as ``constraints'' (they are equations) between the elements of a semigroup, then free semigroups are ``free of constraints''.

For a given set, say~$\setA = \makeset{ \alphabeta, \alphabetb}$, there will in general be different ways of formally building a free semigroup from it.
For instance, instead of considering lists of elements of~$\setA$
\begin{equation}
    \makelist{\alphabeta,\alphabeta, \alphabetb, \alphabeta, \alphabetb, \alphabetb, \alphabetb, \alphabeta},
\end{equation}
we could instead consider strings of elements
\begin{equation}
    \alphabeta\alphabeta \alphabetb \alphabeta \alphabetb \alphabetb \alphabetb \alphabeta,
\end{equation}
or tuples of elements
\begin{equation}
    \tup{ \alphabeta, \alphabeta,  \alphabetb,  \alphabeta,  \alphabetb,  \alphabetb,  \alphabetb,  \alphabeta},
\end{equation}
both of which could also be composed in a way which is analogous to concatenation.

A common feature of all three of these formalizations is that we are writing a finite sequence of elements of~$\setA$, keeping account of the ordering.
Both approaches will in fact build a semigroup from the set~$\setA$ which is \emph{free}.
And in both cases there is a natural way of seeing~$\setA$ as \emph{generating} the resulting semigroup.
However, the two set-ups are \emph{formally} distinct because we are using a different way of writing things down with symbols.
We will see in a later chapter that the resulting semigroups are essentially ``the same'' (they are isomorphic) and their ``freeness'' can be given an elegant characterization.

Because in fact \emph{all} free semigroups constructed from~$\setA$ are ``the same'', independent of the formal symbolic specifics of how they are constructed, we refer to them all as \emph{the} free semigroup generated by~$\setA$.
Furthermore, if we were to work with a set~$\setB = \makeset{ \setAel, \setBel }$ instead of~$\setA = \makeset{ \alphabeta, \alphabetb}$, and generate a free semigroup from~$\setB$, then this would also produce a semigroup which is ``the same''.
Therefore, sometimes one speaks simply of ``the free group on two generators'', in view of the fact that the essential feature is that both~$\setA$ and~$\setB$ have two elements.

Note that although~$\setA$ and~$\setB$ each only have two elements, the free semigroups that they generate will have infinitely many elements.
Indeed, there are infinitely many lists that we can build from the elements of~$\setA$.
As we concatenate lists, the resulting compositions grow longer and longer, and there are no relations which would allow us to ``simplify'' a string to one which is shorter.

\todotextjira{23}{POST-ALPHUBEL @JL: introduce and explain presentations of semigroups and monoids via generators and relations  }
