% !TEX root = chapter-standalone.tex

% \linkvideo{spring2021-morphisms:morphisms} % Morphisms
% \linkvideo{spring2021-semi-mon-gro:summary} % Summary

\section{Semigroup morphisms}
\label{sec:semigroup-morphisms}

A \emph{morphism} is a map between \SY{semigroups} that ``preserves the structure'' of composition.

% \todotextjira{16}{@Andrea: More intro discussion}

%\linkvideo{spring2021-morphisms:morphisms:semigroup-morphisms}

\begin{ctdefinition}[Semigroup morphism]
    \label{def:semigroup-mor}
    \SYNDEF{semigroup morphism}
    A morphism~$\sgrpmorA\colon \sgrpA \fto \sgrpB$ between \SY{semigroups} \begin{equation}
        \label{eq:sgrpAB}
        \sgrpA = \tup{\sgrpAset, \mtimesof\sgrpA}
        \qqand
        \sgrpB = \tup{\sgrpBset, \mtimesof\sgrpB}
    \end{equation}
    is a function~$\sgrpmorA\colon \sgrpAset \to \sgrpBset$ such that for all~$\sgrpela, \sgrpelb \setin \sgrpAset$,
    \begin{equation}
        \label{eq:sgrp-mor-comp}
        \sgrpmorA(\sgrpela \mtimesof{\sgrpA} \sgrpelb) = \sgrpmorA (\sgrpela) \mtimesof{\sgrpB} \sgrpmorA(\sgrpelb).
    \end{equation}
\end{ctdefinition}

Note that we use~$\sgrpmorA\colon \sgrpAset \sto \sgrpBset$ when we want to highlight the function between sets, and we use~$\sgrpmorA: \sgrpA \fto \sgrpB$ when we want to highlight the relation between \SY{semigroup} structures.
We think of \cref{eq:sgrp-mor-comp} as a way of saying that the function~$\sgrpmorA\colon \sgrpAset \sto \sgrpBset$  is \emph{compatible} with the multiplication operations on~$\sgrpA$ and~$\sgrpB$, respectively.

\showslides{
    \begin{forslides}
        \begin{equation}
            \label{eq:semigroup-mor-func}
            \sgrpmorA\colon \sgrpAset \to \sgrpBset
        \end{equation}
        \begin{equation}
            \label{eq:semigroup-mor-mor}
            \sgrpmorA\colon \sgrpA \fto \sgrpB
        \end{equation}
        \begin{equation}
            \label{eq:sgrslides_xy}
            \sgrpela, \sgrpelb \setin \sgrpAset
        \end{equation}
        \begin{equation}
            \label{eq:sgrslides_xty}
            \sgrpela \mthenof\sgrpA \sgrpelb \setin \sgrpAset
        \end{equation}
        \begin{equation}
            \label{eq:sgrslides_fxfy}
            \sgrpmorA(\sgrpela),\, \sgrpmorA( \sgrpelb) \setin \sgrpBset
        \end{equation}
        \begin{equation}
            \label{eq:sgrslides_fxtfy}
            \sgrpmorA(\sgrpela) \mthenof\sgrpB \sgrpmorA(\sgrpelb) \setin \sgrpBset
        \end{equation}
        \begin{equation}
            \label{eq:sgrslides_fxty}
            \sgrpmorA(\sgrpela  \mthenof\sgrpA  \sgrpelb) \setin \sgrpBset
        \end{equation}
        \begin{equation}
            \label{eq:sgrpA}
            \sgrpA = \tup{\sgrpAset, \mtimesof\sgrpA}
        \end{equation}
        \begin{equation}
            \label{eq:sgrpB}
            \sgrpB = \tup{\sgrpBset, \mtimesof\sgrpB}
        \end{equation}
    \end{forslides}
}

\begin{ctdefinition}[Identity morphism]
    \label{def:identity-sgrp-mor}
    \SYNDEF{identity morphism of semigroups}
    Let~$\sgrpA$ be a \SY{semigroup}.
    The \SY{identity function}~$\mapidat\sgrpAset\colon \sgrpAset \sto \sgrpAset$ is always a \SY{morphism of semigroups}.
    We can easily check that \cref{eq:sgrp-mor-comp} is satisfied:
    \begin{equation}
        \label{eq:identity-sgrp-mor-proof}
        \funid_\sgrpA (\sgrpela \mtimesof{\sgrpA} \sgrpelb) \ = \  \sgrpela \mtimesof{\sgrpA} \sgrpelb
        \ = \
        \funid_\sgrpA (\sgrpela )\mtimesof{\sgrpA}\funid_\sgrpA(\sgrpelb).
    \end{equation}
    We call this the \emph{identity morphism} of~$\sgrpA$.
\end{ctdefinition}
\showslides{%
    \begin{forslides}
        \begin{equation}
            \label{eq:identity-sgrp}
            \funid_\sgrpA\colon \sgrpA \fto \sgrpA
        \end{equation}
    \end{forslides}
}

\linkvideo{spring2021-morphisms:morphisms:semigroup-morphisms:semigroup-isomorphisms}

\SYNDEF{morphism of semigroups}

\begin{ctdefinition}[Semigroup isomorphism]
    \label{def:semigroup-iso}
    A \SY{morphism of semigroups}~$\sgrpmorA\colon \sgrpA \mto \sgrpB$ is called a \maindef{semigroup isomorphism} if there exists a \SY{morphism of semigroups}~$\sgrpmorB\colon \sgrpB \mto \sgrpA$ such that
    \begin{equation}
        \label{eq:sgrp-iso-cond}
        \sgrpmorA \fthen \sgrpmorB = \funid_\sgrpA
        \qqand
        \sgrpmorB \fthen \sgrpmorA = \funid_\sgrpB.
    \end{equation}
\end{ctdefinition}

\begin{lemma}
    \label{lem:semigroup-morphisms-compose}
    The composition of \SY{semigroup morphisms} is a morphism:
    \begin{equation}
        \label{eq:sgrp-mor-compo}
        \vmiddle{
            \prfperiod{
                \funa  \colon \sgrpA \fto \sgrpB
            }{
                \funb \colon  \sgrpB \fto \sgrpC
            }{
                (\funa \fthen \funb)  \colon \sgrpA \fto \sgrpC
            }
        }
    \end{equation}
\end{lemma}

\begin{exercise}
    Prove \cref{lem:semigroup-morphisms-compose}.
\end{exercise}
\begin{solution}
    We have:
    \begin{equation}
        \begin{aligned}
            (\funa \fthen \funb)(\sgrpela \mtimesof{\sgrpA} \sgrpelb)
             & =\funb(\funa(\sgrpela \mtimesof{\sgrpA} \sgrpelb)) \\
             & =\funb(\funa(\sgrpela)\mtimesof{\sgrpB}\funa(\sgrpelb)) \\
             & =\funb(\funa(\sgrpela))\mtimesof{\sgrpC} \funb(\funa(\sgrpelb)) \\
             & =(\funa \fthen \funb)(\sgrpela) \mtimesof{\sgrpC} (\funa \fthen \funb)(\sgrpelb).
        \end{aligned}
    \end{equation}
\end{solution}
\showslides{
    \begin{forslides}
        \begin{equation}
            \label{eq:sgrp-posreals-mult}
            \tup{\posReals, \cdot}
        \end{equation}
        %
        \begin{equation}
            \label{eq:sgrp-reals-plus}
            \realswithplusmonoid
        \end{equation}
    \end{forslides}
}%\devel

\begin{example}[Logarithms and exponentials]
    The positive reals with multiplication~$\tup{\posReals, \cdot}$ is a \SY{semigroup}.
    The reals with addition~$\realswithplusmonoid$ is a \SY{semigroup}.

    Now consider as a bridge between the two: the logarithmic function.
    We have
    \begin{equation}
        \label{eq:log}
        \mlog \colon  \posReals \sto \reals,
    \end{equation}
    and its inverse
    \begin{equation}
        \label{eq:exp}
        \mexp \colon  \reals \sto \posReals.
    \end{equation}
    We already know that these are inverse of each other:
    \begin{equation}
        \label{eq:exp-log-are-inverses}
        \begin{aligned}
            \mexp \fthen \mlog & = \funid_{\reals}, \\
            \mlog \fthen \mexp & = \funid_{\posReals}.
        \end{aligned}
    \end{equation}
    We can verify that~$\log$ is also a \SY{semigroup morphism}, because of the following property of the logarithms:
    \begin{equation}
        \label{eq:log-property}
        \mlog(a \cdot b) = \mlog(a) + \mlog(b).
    \end{equation}
    Because~$\mlog$ is a \SY{bijection} and~$\mexp$ is its inverse, it already follows that~$\mexp$ is a morphism in the opposite direction.
    Alternatively we can see that is the case because of the property of the exponential function:
    \begin{equation}
        \label{eq:exp-property}
        \mexp(c + d) = \mexp(c) \cdot \mexp(d).
    \end{equation}
    \Cref{eq:log-property,eq:exp-property} are both \cref{eq:sgrp-mor-comp} in disguise.
\end{example}

\showslides{%
    \begin{forslides}
        \begin{equation}
            \label{eq:moncomp1}
            \prftree{\monela \setin \sgrpAset}{\monelb \setin \sgrpAset}{(\monela \mtimes \monelb) \setin \sgrpAset}
        \end{equation}
        \begin{equation}
            \label{eq:moncomp2}
            \prftree{\monela : \sgrpAset}{\monelb : \sgrpAset}{(\monela \mtimes \monelb) : \sgrpAset}
        \end{equation}
        \begin{equation}
            \label{eq:moncomp3}
            \prftree{\monela \setin \sgrpAset}{\monelb \setin \sgrpAset}{\mtimes (\monela,\monelb) \setin \sgrpAset}
        \end{equation}
        %
        \begin{equation}
            \label{eq:moncomp4}
            \prftree{\monela \colon \sgrpAset}{\monelb \colon \sgrpAset}{\mtimes (\monela,\monelb) \colon \sgrpAset}
        \end{equation}
        %
        \begin{equation}
            \label{eq:function-axiom1}
            \prftree{f: \setA \sto \setB}{x \setin \setA}{f(x) \setin \setB}
        \end{equation}
        %
        \begin{equation}
            \label{eq:function-axiom2}
            \prftree{f: \setA \sto \setB}{x_1 \setin \setA}{x_2 \setin \setA}{x_1 = x_2}{f(x_1) = f(x_2) }
        \end{equation}
        %
        \begin{equation}
            \label{eq:function-axiom3}
            \prftree{f: \setA \sto \setB}{g: \setA \sto \setB }{
                \prfdouble{
                    f = g
                }{
                    \quad
                    \prftree{x\setin\setA}{
                        f(x) = g(x)}\quad
                }}
        \end{equation}
        %
        \begin{equation}
            \label{eq:funcnotation1}
            \begin{aligned}
                f \colon \reals & \sto  \reals \\
                a               & \mapsto a + 3
            \end{aligned}
        \end{equation}
        %
        \begin{equation}
            \label{eq:funcomposition}
            \begin{aligned}
                \morab \colon \setA & \sto  \setC \\
                x                   & \mapsto \morb(\mora(x))
            \end{aligned}
        \end{equation}
        %
        \begin{equation}
            \label{eq:funccomp1}
            \prftree{\mora \colon \setA \sto \setB}{\morb \colon \setB \sto \setC}{\morab : \setA \sto \setC}
        \end{equation}
        %
        \begin{equation}
            \label{eq:funccomp2}
            \prftree{\mora \colon \setA \sto \setB}{\morb \colon \setB \sto \setC}{\morb \after \mora : \setA \sto \setC}
        \end{equation}
        %
        \begin{equation}
            \label{eq:funccomp3}
            \prftree{%
                \mora \setin \funcbetween(\setA, \setB)}{%
                \morb \setin \funcbetween( \setB, \setC)}{
                (\morab) \setin \funcbetween( \setA, \setC)}
        \end{equation}
        \begin{equation}
            \label{eq:transitions}
            \prftree{T_\alpha: X \sto X }{T_\beta : X \to X}{T_{\alpha+\beta} : X \sto X}
        \end{equation}
        \begin{equation}
            \label{eq:explogid}
            \mexp \fthen \mlog = \funid_{\reals}
        \end{equation}
        \begin{equation}
            \label{eq:logexpid}
            \mlog \fthen \mexp = \funid_{\posReals}
        \end{equation}
    \end{forslides}
}%\devel

\begin{example}[Transition function, continuation of \cref{exa:transition-functions}]
    Consider the map
    \begin{equation}
        f\colon \nonNegReals \to (\reals^n \sto \reals^n)
    \end{equation}
    that associates to a delta~$\delta$ its transition function~$T_\delta$.
    Re-reading~\cref{eq:transition-property}, we can see that it is a morphism between the \SY{semigroup}~$\tup{\nonNegReals,+}$ and the \SY{semigroup} of endomorphisms of~$\reals^n$.
\end{example}

\begin{example}[State dimension of discrete dynamical systems]
    Consider the \SY{semigroup} of discrete dynamical systems described in \cref{sec:semigroups}, and denote it by~$\sgrpA$.
    As we have seen composing two DDS~$\dtsysa,\dtsysb$ gives a DDS~$\dtsysa \mtimesof{\sgrpA} \dtsysb$, state of which has the dimension of the state of~$\dtsysa$ plus the dimension of the state of~$\dtsysb$.
    We now consider a map~$\mora\colon \text{DDS} \to \natnumbers$, which given a DDS returns the dimension of its state space.
    Now, by considering the \SY{semigroup}~$\tup{\natnumbers,+}$, denoted by~$\sgrpB$, one knows
    \begin{equation}
        \begin{aligned}
            \mora(\dtsysa\mtimesof{\sgrpA}  \dtsysb) & =\mora(\dtsysa)+\mora(\dtsysb) \\
                                                     & =\mora(\dtsysa)\mtimesof{\sgrpB} \mora(\dtsysb),
        \end{aligned}
    \end{equation}
    showing that~$\mora$ is a valid \SY{semigroup morphism} between the \SY{semigroup} of DDS and~$\tup{\natnumbers,+}$.
\end{example}
\vfill%exercises
\begin{gradedexercise}[\exname{IsoViaTables}]
    \label{ex:IsoViaTables}
    \label{ex:sem-compare-tables}
    Consider the set~$\setA = \makeset{ \alphabetasymba, \alphabetasymbb }$ and the following three composition tables, each of which defines a \SY{semigroup} structure on~\setA.
    \begin{center}
        \begin{tabular}{c|cc}
            $\mtimesof 1$     & $\alphabetasymba$ & $\alphabetasymbb$ \\
            \hline
            \alphabetasymba & \alphabetasymba   & \alphabetasymba \\
            \alphabetasymbb & \alphabetasymba   & \alphabetasymbb
        \end{tabular}
        $\quad$
        \begin{tabular}{c|cc}
            $\mtimesof 2$     & $\alphabetasymba$ & $\alphabetasymbb$ \\
            \hline
            \alphabetasymba & \alphabetasymba   & \alphabetasymbb \\
            \alphabetasymbb & \alphabetasymbb   & \alphabetasymba
        \end{tabular}
        $\quad$
        \begin{tabular}{c|cc}
            $\mtimesof 3$     & $\alphabetasymba$ & $\alphabetasymbb$ \\
            \hline
            \alphabetasymba & \alphabetasymba   & \alphabetasymbb \\
            \alphabetasymbb & \alphabetasymbb   & \alphabetasymbb
        \end{tabular}
    \end{center}
    Which of the three \SY{semigroups} defined in this way are isomorphic to each other?
    Justify your answer.
\end{gradedexercise}

\solutionof{IsoViaTables}

\begin{gradedexercise}[\exname{SemigroupUpToIso}]
    \label{ex:non-isomorphic}
    How many different non-isomorphic \SY{semigroups} are there with precisely one element?
    How many with precisely two elements?
    Can you prove your answer?
\end{gradedexercise}
\solutionof{SemigroupUpToIso}

\begin{gradedexercise}[\exname{CharacterizeSemigroupIsos}]
    \label{ex:CharacterizeSemigroupIsos}
    \label{ex:semi-morph}
    Let~$\sgrpmorA\colon \sgrpA \mto \sgrpB$ be a \SY{morphism of semigroups}.
    Prove that~$\sgrpmorA$ is an \SY{isomorphism of semigroups} if and only if the function~$\sgrpmorA \colon \sgrpAset \sto \sgrpBset$ is \SY{bijective}.
\end{gradedexercise}
\solutionof{CharacterizeSemigroupIsos}

\section{Encoding as morphism }
\linkvideo{spring2021-morphisms:morphisms:semigroup-morphisms:ascii}

\begin{example}[ASCII code]
    ASCII encoding takes any alphanumerical characters and symbols into a number between 0 and 127 (\cref{fig:asciifigure}).
    Call~$\alphanums$ the set of those 128 symbols.
    We can see ASCII encoding as a \SY{semigroup morphism} of~$\listsof\alphanums$ to the free \SY{semigroup} on the integers~$\listsof\asciichar$:
    \begin{equation}
        \label{eq:ASCII-semi}
        \asciienc\colon \listsof\alphanums \to  \listsof\asciichar.
    \end{equation}
    Because we can also go back, by using the inverse function,
    \begin{equation}
        \label{eq:ASCII-semi-inv}
        \asciienc^{-1}\colon  \listsof\asciichar  \to  \listsof\alphanums,
    \end{equation}
    ASCII encoding is also an \SY{isomorphism of semigroups}.
\end{example}

\begin{example}[ASCII code to binary]
    Currently, computers use binary to store data. (There were, in fact, \emph{trinary} computers.)
    In \cref{fig:asciifigure}, you can see represented also the binary encoding of each character.
    Therefore, we can see ASCII as a morphism between~$\listsof\alphanums$ and binary lists~$\listsof{\makeset{0,1}}$.
\end{example}
\showslides{
    \begin{forslides}
        \begin{equation}
            \label{eq:ASCII-fun}
            \asciifunc: \alphanums \to \asciichar
        \end{equation}
        \begin{equation}
            \label{eq:ASCII-to-digits}
            \asciifunc: \alphanums \to \makeset{0,1}^7
        \end{equation}
        \begin{equation}
            \label{eq:alphanums}
            \alphanums
        \end{equation}
        \begin{equation}
            \label{eq:alphanums_list}
            \alphanums = \makeset{ \texttt{A}, \texttt{B}, \texttt{C}, \dots, \texttt{a}, \dots 3, \dots,  \texttt{@}, \dots, \texttt{?}, \dots, \texttt{DEL}, \dots }
        \end{equation}
        \begin{equation}
            \label{eq:alphanums_list_comp}
            \asciienc( \texttt{A} \mthen  \texttt{C} \mthen \texttt{T})
            =\asciienc(\texttt{A}) \mthen   \asciienc(\texttt{C}) \mthen \asciienc(\texttt{T})
        \end{equation}
    \end{forslides}
}%\devel

\begin{exercise}
    Show that the morphism
    \begin{equation}
        \label{eq:ascii-to-bin}
        \asciienc: \listsof\alphanums \to \listsof{\makeset{0,1}}
    \end{equation}
    is \emph{not} an isomorphism.
\end{exercise}
\begin{solution}
    We can show that we cannot find an inverse morphism
    \begin{equation}
        \label{eq:bin-to-ascii}
        \asciienc^{-1}\colon  \listsof{\makeset{0,1}} \to \listsof\alphanums.
    \end{equation}
    At first sight everything seems in order: if we can find an isomorphism to~$\listsof\asciichar$, and we can express integers in binary, what could hold us back?

    What fails here is something so simple it could go unnoticed: the hypothetical function~$\mapb$ is not well-defined for all points of its domain.
    We know how to translate a binary string of length~$7,14,21,\ldots$ back to symbols; but what would be the output of~$\mapb$ on the string~$111$?

    The function~$\mapb$ is a left inverse for~$\asciienc$, in the sense that~$\asciienc\mthen \mapb = \idmon_{\listsof\alphanums}$, but it is not a right inverse.

\end{solution}

\vfill
\begin{figure}[h]
    \includegraphics[width=\textwidth]{ascii}
    \caption{7-bit US-ASCII encoding. \label{fig:asciifigure}}
\end{figure}

\section{Morse coding}
\linkvideo{spring2021-morphisms:morphisms:semigroup-morphisms:morse}

\begin{margintable}
    \footnotesize
    \centering
    \caption{Morse encoding}

    \label{tab:morse}
    \begin{tabular}{rl}
        \mst A & \morsedot \morsedash \\
        \mst B & \morsedash \morsedot \morsedot \morsedot \\
        \mst C & \morsedash \morsedot \morsedash \morsedot \\
        \mst D & \morsedash \morsedot \morsedot \\
        \mst E & \morsedot \\
        \mst F & \morsedot \morsedot \morsedash \morsedot \\
        \mst G & \morsedash \morsedash \morsedot \\
        \mst H & \morsedot \morsedot \morsedot \morsedot \\
        \mst I & \morsedot \morsedot \\
        \mst J & \morsedot \morsedash \morsedash \morsedash \\
        \mst K & \morsedash \morsedot \morsedash \\
        \mst L & \morsedot \morsedash \morsedot \morsedot \\
        \mst M & \morsedash \morsedash \\
        \mst N & \morsedash \morsedot \\
        \mst O & \morsedash \morsedash \morsedash \\
        \mst P & \morsedot \morsedash \morsedash \morsedot \\
        \mst Q & \morsedash \morsedash \morsedot \morsedash \\
        \mst R & \morsedot \morsedash \morsedot \\
        \mst S & \morsedot \morsedot \morsedot \\
        \mst T & \morsedash \\
        \mst U & \morsedot \morsedot \morsedash \\
        \mst V & \morsedot \morsedot \morsedot \morsedash \\
        \mst W & \morsedot \morsedash \morsedash \\
        \mst X & \morsedash \morsedot \morsedot \morsedash \\
        \mst Y & \morsedash \morsedot \morsedash \morsedash \\
        \mst Z & \morsedash \morsedash \morsedot \morsedot \\
    \end{tabular}
    \begin{tabular}{rl}
        \mst 0 & \morsedash \morsedash \morsedash \morsedash \morsedash \\
        \mst 1 & \morsedot \morsedash \morsedash \morsedash \morsedash \\
        \mst 2 & \morsedot \morsedot \morsedash \morsedash \morsedash \\
        \mst 3 & \morsedot \morsedot \morsedot \morsedash \morsedash \\
        \mst 4 & \morsedot \morsedot \morsedot \morsedot \morsedash \\
        \mst 5 & \morsedot \morsedot \morsedot \morsedot \morsedot \\
        \mst 6 & \morsedash \morsedot \morsedot \morsedot \morsedot \\
        \mst 7 & \morsedash \morsedash \morsedot \morsedot \morsedot \\
        \mst 8 & \morsedash \morsedash \morsedash  \morsedot \morsedot \\
        \mst 9 & \morsedash \morsedash \morsedash \morsedash \morsedot \\
    \end{tabular}

\end{margintable}
\showslides{%
    \begin{forslides}
        \begin{equation}
            \label{eq:morse-symbols}
            \morseset = \makeset{ \morsedot, \morsedash }
        \end{equation}
        \begin{equation}
            \label{eq:morse-alphabet-5}
            \morseset = \makeset{ \morsedot,  \morsedash,  \morsedsp,  \morselsp, \morsewsp }
        \end{equation}
    \end{forslides}
}%\devel
\begin{margintable}
    \caption{5 symbols for Morse encoding}
    \small
    \begin{tabular}{cll}
        \morsedot  & beep of length $\ell$     & \Morsedot \\
        \morsedash & beep of length $3\ell$    & \Morsedash \\
        \morsedsp  & silence of length $\ell$  & \Morsedsp \\
        \morselsp  & silence of length $3\ell$ & \Morselsp \\
        \morsewsp  & silence of length $7\ell$ & \Morsewsp
    \end{tabular}
    \label{tab:morse5}
\end{margintable}

\begin{example}[Morse code]
    \label{exa:morse-code}
    Consider the Morse code: a way to encode the letters and numerals to an alphabet of dots ($\morsedot$) and dashes ($\morsedash$).
    The encoding is shown in \cref{tab:morse}.
    Here, the alphabet~$\morsesymbols$ is the letters A--Z and the numbers 0--9:
    \begin{equation}
        \label{eq:morsesymbols}
        \morsesymbols = (\texttt{A} \ \text{to}\ \texttt{Z}) \setunion (0 \ \text{to}\ 9).
    \end{equation}

    There is no difference between upper and lower case, and there are no punctuation marks.

    Transcribing a text in Morse code is not just a matter of creating the right sequence of dots and dashes.
    The standard also requires a certain timing of the events.
    These are the rules:
    \begin{enumerate}
        \item If the length of~$\morsedot$ is $\ell$, then the length of~$\morsedash$ must be $3\ell$.
        \item Between dashes and dots of the same letter, there must be a silence of $\ell$.
        \item Between different letters, there must be a silence of $3\ell$.
        \item Between different words, there must be a silence of $7\ell$.
    \end{enumerate}

    Therefore, there are 5 symbols in the Morse alphabet (\cref{tab:morse5}); each representing a \emph{signal}.

    Define now the extended alphabet~$\morseesymbols$ to be the union of~$\morsesymbols$ and the set~$\makeset{\lettersp, \wordsp}$, where~$\lettersp$ is inter-letter space, and~$\wordsp$ is inter-word space:
    \begin{equation}
        \label{eq:morseesymbols}
        \morseesymbols = (\texttt{A} \ \text{to}\ \texttt{Z}) \setunion (0 \ \text{to}\ 9) \setunion \makeset{\lettersp, \wordsp}.
    \end{equation}

    Therefore, to encode the sentence
    %
    \begin{equation}
        \text{``I am well''}
    \end{equation}
    %
    we first transform it to upper case:
    %
    \begin{equation}
        \text{``I AM WELL''}.
    \end{equation}
    %
    Then we note the inter-letter space and the inter-word spaces:
    %
    \begin{equation}
        \texttt{I} \wordsp \texttt{A} \lettersp \texttt{M} \wordsp \texttt{W} \lettersp
        \texttt{E} \lettersp \texttt{L} \lettersp \texttt{L}.
    \end{equation}
    %
    At this point we can substitute the Morse code to obtain
    %
    \begin{equation}
        \morseI \morsewsp \morseA \morselsp \morseM \morsewsp \morseW \morselsp \morseE \morselsp \morseL \morselsp \morseL.
    \end{equation}
    %
    In signal space---what somebody would hear---this becomes
    %
    \begin{equation}
        \vmiddle{\MorseI \Morsewsp \MorseA \Morselsp \MorseM \Morsewsp \MorseW \Morselsp \MorseE \Morselsp \MorseL \Morselsp \MorseL}.
    \end{equation}
    %
    With this representation it is clear that 5 symbols are redundant: if we have a 1-period beep and a 1-period silence, we can obtain the 3-period silence and beeps and the 7-period silence.

    In the end, the Morse alphabet is \emph{binary} in the sense that it all reduces to two symbols: not~$\makeset{\morsedot, \morsedash}$ but rather the alphabet~$\makeset{\Morsedot, \Morsedsp}$.
\end{example}

\showslides{
    \begin{forslides}
        %
        \begin{equation}
            \label{eq:IAMMAX}
            \morseI \morsewsp \morseA \morselsp \morseM \morsewsp \morseM \morselsp \morseA \morselsp \morseX
        \end{equation}
        \begin{equation}
            \label{eq:wordsp}
            \wordsp
        \end{equation}
        \begin{equation}
            \label{eq:morsem}
            \morsemorph(\mst{M})
        \end{equation}
        \begin{equation}
            \label{eq:IAMMAXsignal}
            \MorseI \Morsewsp \MorseA \Morselsp \MorseM \Morsewsp \MorseM \Morselsp \MorseA \Morselsp \MorseX
        \end{equation}
        %
        \begin{equation}
            \label{eq:morsemap}
            \morsemap \colon \morsesymbols \to  \listsof {\makeset{\morsedot, \morsedash}}
        \end{equation}
        \begin{equation}
            \label{eq:morsemorph0}
            \listsof\morsesymbols \to   \listsof(\listsof \makeset{\morsedot, \morsedash})
        \end{equation}
        \begin{equation}
            \label{eq:morsemorph}
            \morsemorph \colon \listsof\morsesymbols \to   \listsof \makeset{\morsedot, \morsedash}
        \end{equation}
        \begin{equation}
            \label{eq:moresemapnote}
            \left(\setA^*\right)^*= \setA^*
        \end{equation}
        %
        \begin{equation}
            \label{eq:morsemorph20}
            (\texttt{A} \ \text{to}\ \texttt{Z}) \setunion (0 \ \text{to}\ 9) \setunion \makeset{\wordsp}
        \end{equation}
        \begin{equation}
            \label{eq:morsemorph2}
            \morsemorph :
            \listsof{ \left(
                (\texttt{A} \ \text{to}\ \texttt{Z}) \setunion (0 \ \text{to}\ 9) \setunion \makeset{\wordsp}
                \right)}
            \to  \listsof{\makeset{ \morsedot,  \morsedash,  \morsedsp,  \morselsp, \morsewsp }}
        \end{equation}

    \end{forslides}
}%\devel
\begin{exercise}[Morse Morphism]
    We have seen that Morse code transforms a word in the alphabet
    \begin{equation}
        (\texttt{A} \ \text{to}\ \texttt{Z})
        \setunion (0 \ \text{to}\ 9) \setunion \makeset{\lettersp, \wordsp}
    \end{equation}
    to the binary alphabet
    %
    \begin{equation}
        \setB = \makeset{\Morsedot, \Morsedsp}.
    \end{equation}
    %
    Is this map a morphism of list semigroups?
\end{exercise}
%
\begin{solution}
    The answer is \textbf{no} because the encoding is context dependent; I don't know if a single letter is followed by a space or another letter.
    For example, take the string
    \begin{equation}
        \label{eq:max-iammax}
        \mst {I} \wordsp \mst{A} \mst{M}\wordsp \mst{MAX}.
    \end{equation}
    We can decompose it as follows
    \begin{equation}
        \label{eq:max-iammax-decomp}
        \mst{I}\wordsp \mst{A}\mtimes \mst{M} \mtimes \wordsp \mtimes \mst{M} \mtimes \mst{AX}.
    \end{equation}
    If Morse encoding was a morphism~$\sgrpmorA$ then we would be able to encode the string as follows:
    \begin{equation}
        \label{eq:max-iammax-decomp-morph}
        \morsemorph(\mst{I}\wordsp \mst{A}) \mtimes \morsemorph (\mst{M}) \mtimes  \morsemorph(\wordsp) \mtimes  \morsemorph(\mst{M})
        \mtimes  \morsemorph(\mst{AX}).
    \end{equation}
    However, this cannot work, because in the second instance of $M$ we would need to output a letter separator, while in the first case we don't.

    Can you find a way to fix it?

    For example, consider the alphabet obtained by taking the \emph{product} of the letters and numbers with the set of spaces~$\makeset{\wordsp, \lettersp}$:
    \begin{equation}
        \left( (\texttt{A} \ \text{to}\ \texttt{Z}) \setunion (0 \ \text{to}\ 9) \right) \cartprod \makeset{\wordsp, \lettersp},
    \end{equation}
    where we annotate if each symbol is followed by a letter or by a space.

    In this representation, the string can be written as
    \begin{equation}
        \tup{I, \wordsp} \tup{A, \lettersp} \tup{ M, \wordsp} \tup{M, \lettersp} \tup{A, \lettersp}
        \tup{X, \wordsp}.
    \end{equation}
    Based on this representation we can define context-independent rules that make a morphism.
\end{solution}

\devel{
    \todotextjira{17}{\bernina: @Andrea: Nice example: the map from sequence of characters to sequences of sounds is monoidal in certain languages (Korean, Japanese, almost in Italian.) and also invertible.}

    \begin{example}[Phonetic languages]
        \publictodomessage

    \end{example}
}

\section{Monoid morphisms}
\linkvideo{spring2021-morphisms:morphisms:monoid-morphisms}
We have defined \SY{semigroup morphisms}.
A \SY{monoid morphism} has the same properties, and one additional one: the constraint that it be compatible with the identity elements.

\begin{ctdefinition}[Monoid morphism]
    \label{def:monoid-mor}
    \SYNDEF{morphism of monoids}
    A morphism~$\sgrpmorA\colon \monoidA \fto \monoidB$ between \SY{monoids}
    \begin{equation}
        \monoidA = \tup{\monoidAset, \mtimesof\monoidA, \idmon_\monoidA}
        \qqand
        \monoidB = \tup{\monoidBset, \mtimesof\monoidB, \idmon_\monoidB}
    \end{equation}
    is a function~$\sgrpmorA \colon \monoidAset \sto \monoidBset$ such that for all~$\monela, \monelb$ in~$\monoidAset$,
    \begin{equation}
        \label{eq:mon-mor-comp}
        \sgrpmorA (\monela \mtimesof{\monoidA} \monelb) = \sgrpmorA (\monela) \mtimesof{\monoidB}  \sgrpmorA(\monelb),
    \end{equation}
    and
    \begin{equation}
        \label{eq:mon-id-comp}
        \sgrpmorA (\idmon_\monoidA) = \idmon_{\monoidB}.
    \end{equation}
\end{ctdefinition}
\showslides{
    \begin{forslides}
        \begin{equation}
            \label{eq:monoidA}
            \monoidA = \tup{\monoidAset, \mtimesof\monoidA, \idmon_\monoidA}
        \end{equation}
        and
        \begin{equation}
            \label{eq:monoidB}
            \monoidB = \tup{\monoidBset, \mtimesof\monoidB, \idmon_\monoidB}
        \end{equation}
        %
        \begin{equation}
            \label{eq:quiz-1}
            \funa: \tup{\natnumbers, \cdot, 1} \fto \tup{\natnumbers, \cdot, 1}
        \end{equation}
        \begin{equation}
            \label{eq:quiz-1-def}
            \funa(x) = 1
        \end{equation}
        \begin{equation}
            \label{eq:quiz-2}
            \funb: \tup{\natnumbers, \cdot, 1} \fto \tup{\natnumbers, \cdot, 1}
        \end{equation}
        \begin{equation}
            \label{eq:quiz-2-def}
            \funb(x) = 0
        \end{equation}
        \begin{equation}
            \label{eq:quiz-3}
            \func: \tup{\natnumbers, \cdot, 1} \fto \tup{\makeset{1}, \cdot, 1}
        \end{equation}
        \begin{equation}
            \label{eq:quiz-3-def}
            \func(x) = 1
        \end{equation}
        \begin{equation}
            \label{eq:quiz-4}
            \fund: \tup{\natnumbers, \cdot, 1} \fto \tup{\makeset{0}, \cdot, 0}
        \end{equation}
        \begin{equation}
            \label{eq:quiz-4-def}
            \fund(x) = 0
        \end{equation}
        \begin{equation}
            \label{eq:emptyset}
            \Emptyset
        \end{equation}
        %
        \begin{equation}
            \label{eq:nonzeroreals-times}
            \tup{\reals_{\neq0}, \cdot, 1}
        \end{equation}
        \begin{equation}
            \label{eq:reals-times-one}
            \tup{\reals, \cdot, 1}
        \end{equation}
        \begin{equation}
            \label{eq:reals-times-one-non}
            x \neq 0
        \end{equation}
        %
        \begin{equation}
            \label{eq:matrices-times}
            \tup{\reals^{\ntimesn}, \cdot, \mathbf{1}^{\ntimesn}}
        \end{equation}
        %
        \begin{equation}
            \label{eq:det}
            \mdet
        \end{equation}
    \end{forslides}
}%\devel

\begin{example}
    The set~$\monoidAset = \makeset{ \minusone, 0, \plusone }$, together with multiplication of whole numbers and with~$1$ as \SY{neutral element}, forms a \SY{monoid}.
    The inclusion map $\monoidA \sto \wnumbers$ is a \SY{morphism of monoids}.
\end{example}

\begin{example}
    \label{exa:string-length}
    Consider the \SY{monoid}~$\monoidB$ in \cref{exa:string-monoid} and the \SY{monoid}~$\monoidA=\tup{\natnumbers, +,0}$.
    Define a map
    \begin{equation}
        \flength \colon \monoidB \sto \monoidA
    \end{equation}
    that maps each string to its length.
    This is a \SY{monoid morphism}, since:
    \begin{equation}
        \flength(\monela \mtimesof\monoidB \monelb)=\flength(\monela)\mtimesof\monoidA \flength(\monelb).
    \end{equation}
    In other words, the length of the concatenation of two lists is the sum of the lengths of the two lists.
\end{example}

\begin{ctdefinition}[Identity morphism]
    \label{def:identity-mon-mor}
    Let~$\monoidA$ be a \SY{monoid}.
    \SYNDEF{identity morphism of monoids}
    Similar to the case of \SY{semigroups}, the identity function induces a \SY{morphism of monoids}~$\funid_\monoidA\colon \monoidA \fto \monoidA$.
\end{ctdefinition}

\begin{ctdefinition}[Monoid isomorphism]
    \label{def:monoid-iso}
    A \SY{morphism of monoids}~$\funa\colon \monoidA \fto \monoidB$ is called a \maindef{monoid isomorphism} if there is a \SY{morphism of monoids}~$\funb\colon \monoidB \fto \monoidA$ such that
    \begin{equation}
        \funa \fthen \funb = \funid_\monoidA \qqand \funb \fthen \funa = \funid_\monoidB.
    \end{equation}
\end{ctdefinition}

\todotextjira{728}{\bernina: @JL: include examples of monoid isomorphims and discuss how this is a notion of sameness}

\clearpage

~

\vfill%exercises

\begin{gradedexercise}[\exname{MorphismMonoidIsomorphism}]
    Prove: a \SY{morphism of monoids}~$\funa\colon \monoidA \fto \monoidB$ is an \SY{isomorphism of monoids} if and only if the function~$\funa\colon \monoidAset \sto \monoidBset$ is \SY{bijective}.
\end{gradedexercise}
\solutionof{MorphismMonoidIsomorphism}

\begin{gradedexercise}[\exname{TraceAndDeterminant}]
    \label{ex:TraceAndDeterminant}
    Let~$\realsnn$ denote the set of real~$\ntimesn$ matrices.
    These form a \SY{monoid}~$\tupp{\realsnn\com \cdot, \idmat}$, with matrix multiplication as composition, and the identity matrix as \SY{neutral element}.
    They also form a \SY{monoid} $\tupp{\realsnn, {{+}}, 0}$ with matrix addition as composition, and the zero matrix as \SY{neutral element}.

    Recall that the trace of a real~$\ntimesn$ matrix is the sum of its diagonal entries.
    This defines a function
    \begin{equation}
        \trace \colon \realsnn \sto \reals.
    \end{equation}
    Computing the determinant also corresponds to a function
    \begin{equation}
        \deter \colon \realsnn \sto \reals.
    \end{equation}
    We have seen that~$\tup{ \reals, \cdot, 1}$ and~$\tup{ \reals, {{+}}, 0}$ are two different \SY{monoid} structures on~\reals.
    \begin{enumerate}
        \item Does~$\trace$ define a \SY{morphism of monoids}~$\tup{\realsnn, \cdot, \idmat} \mto \tup{ \reals, \cdot, 1}$?
        \item Does~$\trace$ define a \SY{morphism of monoids}~$\tup{\realsnn, \cdot, \idmat} \mto \tup{ \reals, {{+}}, 0}$?
        \item Does~$\deter$ define a \SY{morphism of monoids}~$\tup{\realsnn, \cdot, \idmat} \mto \tup{ \reals, \cdot, 1}$?
        \item Does~$\deter$ define a \SY{morphism of monoids}~$\tup{\realsnn, \cdot, \idmat} \mto \tup{ \reals, {{+}}, 0}$?
        \item Does~$\trace$ define a \SY{morphism of monoids}~$\tup{\realsnn, {{+}}, 0} \mto \tup{ \reals, \cdot, 1}$?
        \item Does~$\trace$ define a \SY{morphism of monoids}~$\tup{\realsnn, {{+}}, 0} \mto \tup{ \reals, {{+}}, 0}$?
        \item Does~$\deter$ define a \SY{morphism of monoids}~$\tup{\realsnn, {{+}}, 0} \mto \tup{ \reals, \cdot, 1}$?
        \item Does~$\deter$ define a \SY{morphism of monoids}~$\tup{\realsnn, {{+}}, 0} \mto \tup{ \reals, {{+}}, 0}$?
    \end{enumerate}
    Short answers (without proof) are fine.
\end{gradedexercise}
\solutionof{TraceAndDeterminant}

\section{Group morphisms}
\linkvideo{spring2021-morphisms:morphisms:group-morphisms}

After \SY{semigroup morphisms} and \SY{monoid morphisms}, we define \SY{group morphisms}.

\todotextjira{21}{\bernina: @JL: Show the inverse operation being compatible with group structure, commuting with morphisms.
    This is the simplest example of a dagger category, to be explained later on.
}

\begin{ctdefinition}[Group morphism]
    \label{def:group-mor}
    \SYNDEF{morphism of groups}
    A morphism~$\sgrpmorA\colon \grpA \fto \grpB$ between groups
    \begin{equation}
        \grpA = \tup{\grpAset, {\mtimesof\grpA}, \idgrp_\grpA, \ginv_\grpA}
        \qqand
        \grpB = \tup{\grpBset, {\mtimesof\grpB}, \idgrp_\grpB,  \ginv_\grpB}
    \end{equation}
    is a function~$\sgrpmorA \colon \grpAset \sto \grpBset$ such that for all~$\monela, \monelb$ in~$\grpAset$,
    \begin{equation}
        \label{eq:group-mor-comp}
        \sgrpmorA (\monela \mtimesof\grpA \monelb) = \sgrpmorA (\monela) \mtimesof\grpB  \sgrpmorA(\monelb).
    \end{equation}
\end{ctdefinition}

What could be surprising is that, while a group has more structure than a \SY{monoid}, there are fewer conditions than in the definition of \SY{monoid morphism}.

Where are the equations
\begin{equation}
    \label{eq:grp-id-comp}
    \sgrpmorA (\idmon_\grpA) = \idmon_{\grpB}
\end{equation}
and
\begin{equation}
    \label{eq:grp-inv-comp}
    \sgrpmorA (\ginv_\grpA(\monela)) = \ginv_\grpB(\sgrpmorA(\monela)) \ ?
\end{equation}
%
They are not needed; they are implied by the group axioms.

\begin{exercise}
    Prove that \cref{eq:grp-id-comp} and \cref{eq:grp-inv-comp} are implied by \cref{def:group-mor}.
\end{exercise}
\begin{solution}
    We start with the first one.
    Consider~$\monela \setin \grpA$.
    We know that
    %
    \begin{equation}
        \sgrpmorA(\idmon_\grpA \mtimesof\grpA \monela)=\sgrpmorA(\monela).
    \end{equation}
    %
    On the other hand, we know:
    %
    \begin{equation}
        \sgrpmorA(\idmon_\grpA \mtimesof\grpA \monela) = \sgrpmorA(\idmon_\grpA)\mtimesof\grpB \sgrpmorA(\monela).
    \end{equation}
    %
    These two are equivalent if and only if~$\sgrpmorA(\idmon_\grpA)=\idmon_\grpB$.

    For the second statement, consider again~$\monela \setin \grpA$.
    We now that
    \begin{equation}
        \begin{aligned}
            \sgrpmorA(\ginv_{\grpA}(\monela)\mtimesof{\grpA} \monela) & =\sgrpmorA(\idmon_\grpA) \\
                                                                      & =\idmon_\grpB,
        \end{aligned}
    \end{equation}
    and
    \begin{equation}
        \begin{aligned}
            \sgrpmorA(\ginv_{\grpA}(\monela)\mtimesof{\grpA} \monela) & =\sgrpmorA(\ginv_{\grpA}(\monela))\mtimesof{\grpB} \sgrpmorA(\monela).
        \end{aligned}
    \end{equation}
    These two are equivalent if and only if~$\sgrpmorA(\ginv_{\grpA}(\monela))=\ginv_{\grpB}(\sgrpmorA(\monela))$.

\end{solution}

\begin{exercise}
    Let~$\grpAset=\makeset{\plusone,\minusone,+i,-i}$.
    Consider the group~$\grpA=\tup{\grpAset, \cdot, 1, \ginv_\grpA}$ and the group~$\grpB$ of all integers under addition.
    Prove that~$\sgrpmorA\colon \grpB \fto \grpA$ such that~$f(n)=i^n$ for all~$n\setin \grpB$ is a group morphism.
\end{exercise}
\begin{solution}
    We have:
    \begin{equation}
        \begin{aligned}
            \sgrpmorA(m+n) & =i^{m+n} \\
                           & =i^m \cdot i^n \\
                           & =\sgrpmorA(m)\cdot \sgrpmorA(n).
        \end{aligned}
    \end{equation}
\end{solution}

\begin{example}
    Consider the group
    \begin{equation}
        \grpA=\tup{\reals^{\matdim{2}{2}},{+},\begin{bmatrix}
                0 & 0 \\0& 0
            \end{bmatrix},-}
    \end{equation}
    of real~$2\times 2$ matrices, together with sum of matrices as a binary operation, ``zero'' matrix as the \SY{neutral element}, and the ``-'' operation as inverse.
    Furthermore, consider the group~$\tup{\reals,{{+}},0,-}$.
    Taking the \emph{trace} of a matrix corresponds to a group morphism.
    Indeed, the operation
    %
    \begin{equation}
        \begin{aligned}
            \trace\colon \reals^{\matdim{2}{2}} & \fto \reals, \\
            \begin{bmatrix}
                a & b \\
                c & d
            \end{bmatrix}                     & \mapsto a+d,
        \end{aligned}
    \end{equation}
    satisfies the required condition:
    \begin{equation}
        \begin{aligned}
            \trace \left(
            \begin{bmatrix}
                a & b \\
                c & d
            \end{bmatrix} \mtimesof\grpA
            \begin{bmatrix}
                e & f \\
                g & h
            \end{bmatrix}
            \right) & =
            \trace
            \left(
            \begin{bmatrix}
                a+e & b+f \\
                c+g & d+h
            \end{bmatrix}
            \right) \\
                    & =\trace \left(
            \begin{bmatrix}
                a & b \\
                c & d
            \end{bmatrix}\right)\mtimesof\grpB \trace \left(
            \begin{bmatrix}
                e & f \\
                g & h
            \end{bmatrix}
            \right) \\
                    & =(a+d)\mtimesof\grpB (e+h).
        \end{aligned}
    \end{equation}
\end{example}

\begin{example}[Square matrices with full rank]
    \label{exa:square-full}
    Fix an integer~$n\geq1 $ and consider the set of square matrices with full rank~$\mat{A} \setin \reals^{\ntimesn}$, which is to say $\mdet(\mat{A}) \neq 0$.
    This set, equipped with the usual matrix multiplication as the binary operation ($\mat{A}\mtimes \mat{B}\definedas \mat{AB}$), the identity matrix~$\idmat$ as the \SY{neutral element}, and matrix inverse as the inverse ($\ginv(\mat{A})\definedas \mat{A}^{-1}$), forms a \SY{group}.
    Furthermore, note that for this type of matrices, we have the properties:
    \begin{enumerate}
        \item $\mdet(\mat{A} \, \mat{B}) = \mdet(\mat{A}) \cdot  \mdet(\mat{B})$;
              % \item $\mdet(\mat{A}^{-1}) = \frac{1}{\mdet(\mat{A})}$;
        \item $\mdet(\mat{A}^{-1}) = \left( \mdet(\mat{A}) \right) ^ {-1}$;
        \item $(\mat{A}\,\mat{B})^{-1} = {\mat{B}^{-1} \, \mat{A}^{-1}}$.
    \end{enumerate}
    This makes~$\mdet$ a \SY{group morphism} from the \SY{group of invertible square matrices} to the real numbers with multiplication.
\end{example}

As before for \SY{semigroups} and \SY{monoids}, the identity map on the underlying set of a group is a \SY{group morphism}.

\begin{ctdefinition}[Identity morphism]
    \label{def:identity-grp-mor}
    \SYNDEF{identity morphism of groups}
    Given a \SY{group}~$\grpA =  \tup{\grpAset, {\gtimes}, \idgrp, \ginv}$, the \SY{identity function} $\grpAset \to \grpAset$ induces a \SY{morphism of groups}~$\funid_\monoidA\colon \monoidA \fto \monoidA$.
\end{ctdefinition}

\begin{ctdefinition}[Group isomorphism]
    \label{def:grp-iso}
    A \SY{morphism of monoids}~$\funa\colon \grpA \fto \grpB$ is called a \maindef{group isomorphism} if there is a \SY{morphism of groups}~$\funb\colon \grpB \fto \grpA$ such that
    \begin{equation}
        \funa \fthen \funb = \funid_\grpA \qqand \funb \fthen \funa = \funid_\grpB.
    \end{equation}
\end{ctdefinition}

\todotextjira{729}{\alphubel: @JL: include examples of group isomorphisms}

