% !TEX root = standalone.tex


\section{Lattices}

\begin{definition}[Lattice]
  \label{def:lattice}
  A \emph{lattice} is a poset~$\tupp{\posA,\posAleq}$ with some additional properties:
  \begin{compactenum}
    \item Given two points~$p, q \in \posA$, it is always possible to define their least upper bound, called \emph{join}, and indicated as~$p \join q$.
    \item Given two points~$p, q \in \posA$, it is always possible to define their greatest lower bound, called \emph{meet}, and indicated as~$p \wedge q$.
  \end{compactenum}
\end{definition}

\todo{Add the wooden lattice figure here.}

\todo{These can be defined for preorders as well... move before.}
\begin{remark}[Bounded lattices]
  \label{def:top}
  \label{def:bot}
  If there is a least upper bound for the entire lattice~$\posA$, it is called
  the \emph{top} ($\postop$). If a greatest lower bound exists it is called the \emph{bottom} ($\posbot$). If both a top and a bottom exist, we call the lattice \emph{bounded}, and denote it by~$\tup{A,\ordleq,\join,\meet,\posbot,\postop}$.
\end{remark}

\begin{example}
  In \cref{ex:hasseinclusion} we presented the poset arising from the power set~$\powerset A$ of a set~$A$ and ordered via subset inclusion. This is a lattice, bounded by~$A$ and by the empty set~$\emptyset$. Note that this lattice possesses two (dual) monoidal structures~$\tup{\powerset A,\subseteq,\emptyset,\cup}$ and~$\tup{\powerset A,\subseteq,A,\cap}$.
\end{example}

\begin{example}
  Consider the set~$\{1,2,3,6\}$ ordered by divisibility. For instance, since 2 divides by 6, we have $2\posleq 6$. This is a lattice. However, the set~$\{1,2,3\}$ ordered by divisibility is not, since 2 and 3 lack a meet (\cref{fig:exlattice}).
  \begin{figure}[h!]
    \begin{center}
      \includesag{40_dpcatfig_exlattice}
    \end{center}
    \caption{Examples of a lattice and a non-lattice. }
    \label{fig:exlattice}
  \end{figure}
\end{example}

\todographics{Let's not use   \ressp here. Just $\posA$}

\begin{lemma}
  \label{lem:u_bounded_lat}
  \todotext{write out component by component}
  $\UR$ is a bounded lattice (\cref{def:lattice}) with
  \begin{equation}
    \tup{\UR,\leq_{\UR},\posbot_{\UR},\postop_{\UR},\vee_{\UR},\wedge_{\UR}}=\tup{\UR,\supseteq,R,\emptyset,\cap,\cup}.
  \end{equation}
\end{lemma}
\begin{proof}
  Consider the poset~$\tup{\UR,\supseteq}$ and~$P,Q\in \UR$.
  \begin{itemize}
    \item First, we need to show that~$P\cap Q\in \UR$. One has~$P \subseteq \UR$ and $Q\subseteq \UR$, meaning that by definition, if~$x\in P\cap Q$, we have~$x\in P \wedge x\in Q$. It follows that~$x\in \UR$ for all~$x\in P\cap Q$. Furthermore, we need to show that~$P\cap Q$ is the least upper bound of $P,Q$. Assume this is not true, meaning that  there exists a~$T\in \UR$,~$T\neq P\cap Q$, such that~$P\supseteq T\supseteq P\cap Q$ and~$Q\supseteq T\supseteq P\cap Q$. Using the fact that intersection preserves inclusions, one has
    \begin{equation}
      \begin{aligned}
        P\cap Q &\supseteq T\cap T \supseteq P\cap Q\\
        P\cap Q &\supseteq T \supseteq P\cap Q\\
        T&= P\cap Q,
      \end{aligned}
    \end{equation}
    which contradicts the assumption. Therefore,~$P\cap Q$ is the least upper bound of~$P,Q$.
    \item Second, we need to show that~$P\cup Q\in \LF$. One has~$P\subseteq \UR$ and~$Q\subseteq \UR$, meaning that by definition, if~$x\in P\cup Q$, we have either~$x\in P$ or~$x\in Q$. If~$x\in P$, then~$x\in \UR$. If~$x\in Q$, then~$x\in \UR$. It follows that~$x\in \UR$ for all~$x\in P\cup Q$. Furthermore, we need to show that~$P\cup Q$ is the greatest lower bound of~$P,Q$. Assume this is not true, meaning that  there exists a~$T\in \UR$,~$T\neq P\cup Q$, such that~$P\cup Q\supseteq T\supseteq P$ and~$P\cup Q\supseteq T\supseteq Q$. Using the fact that union preserves inclusions, one has
    \begin{equation}
      \begin{aligned}
      (P\cup Q)
        \cup (P\cup Q) &\supseteq T \cup T \supseteq P\cup Q\\
        P\cup Q &\supseteq T\supseteq P\cup Q\\
        T&=P\cup Q,
      \end{aligned}
    \end{equation}
    which contradicts the assumption. Therefore,~$P\cup Q$ is the greatest lower bound of~$P,Q$.
  \end{itemize}
  We have therefore proved that~$\tup{\UR,\supseteq}$ is a lattice. To show that it is bounded, we notice that~$\emptyset \subseteq T$ for any~$T\in \UR$, meaning that~$\emptyset$ is the top. Furthermore, we notice that~$T\subseteq R$ for any~$T\in \UR$, meaning that~$R$ is a bottom. Therefore, the lattice is bounded.
\end{proof}


\todographics{Let's not use   \funsp here. Just $\posA$}
\begin{lemma}
  \todotext{write out component by component}
  $\LF$ is a bounded lattice (\cref{def:lattice}) with
  \begin{equation}
    \tup{\LF,\leq_{\LF},\posbot_{\LF},\postop_{\LF},\vee_{\LF},\wedge_{\LF}}=\tup{\LF,\subseteq,\emptyset,F,\cup,\cap}.
  \end{equation}
\end{lemma}
\begin{proof}
  Consider the poset~$\tup{\LF,\subseteq}$ and~$P,Q\in \LF$.
  \begin{itemize}
    \item First, we need to show that~$P\cup Q\in \LF$. One has~$P \subseteq \LF$ and~$Q\subseteq \LF$, meaning that by definition, if~$x\in P\cup Q$, either~$x\in P$ or~$x\in Q$. If~$x\in P$, then~$x\in \LF$. If~$x\in Q$, then~$x\in \LF$. It follows that~$x\in \LF$ for all~$x\in P\cup Q$. Furthermore, we need to show that~$P\cup Q$ is the least upper bound of~$P,Q$. Assume this is not true, meaning that  there exists a~$T\in \LF$,~$T\neq P\cup Q$, such that~$P\subseteq T\subseteq P\cup Q$ and~$Q\subseteq T\subseteq P\cup Q$. Using the fact that union preserves inclusions, one has
    \begin{equation}
      \begin{aligned}
        P\cup Q &\subseteq T\cup T \subseteq P\cup Q\\
        P\cup Q &\subseteq T \subseteq P\cup Q\\
        T&= P\cup Q,
      \end{aligned}
    \end{equation}
    which contradicts the assumption. Therefore,~$P\cup Q$ is the least upper bound of~$P,Q$.
    \item Second, we need to show that~$P\cap Q\in \LF$. One has~$P\subseteq \LF$ and~$Q\subseteq \LF$, meaning that by definition, if~$x\in P\cap Q$, we have~$x\in P\wedge x\in Q$ ($x\in \LF$, for all~$x\in P\cap Q$). Furthermore, we need to show that~$P\cap Q$ is the greatest lower bound of~$P,Q$. Assume this is not true, \ie  there exists a~$T\in \LF$,~$T\neq P\cap Q$, such that~$P\cap Q\subseteq T\subseteq P$ and~$P\cap Q\subseteq T\subseteq Q$. Using the fact that intersection preserves inclusions, oen has
    \begin{equation}
      \begin{aligned}
      (P\cap Q)
        \cap (P\cap Q) &\subseteq T \cap T \subseteq P\cap Q\\
        P\cap Q &\subseteq T\subseteq P\cap Q\\
        T&=P\cap Q,
      \end{aligned}
    \end{equation}
    which contradicts the assumption. Therefore,~$P\cap Q$ is the greatest lower bound of~$P,Q$.
  \end{itemize}
  We have therefore proved that~$\tup{\LF,\subseteq}$ is a lattice. To show that it is bounded, we notice that~$\emptyset \subseteq T$ for any~$T\in \LF$, meaning that~$\emptyset$ is the bottom. Furthermore, we notice that~$T\subseteq F$ for any~$T\in \LF$, meaning that~$F$ is a top. Therefore, the lattice is bounded.
\end{proof}
