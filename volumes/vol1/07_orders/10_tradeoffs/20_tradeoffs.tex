% !TEX root = chapter-standalone.tex

\section{Ordered sets}

\label{sec:tradeoffs-ordered-sets}
\linkvideo{spring2021-tradeoffs:tradeoffs:orders:pre-pos-tot} % Pre-orders, partial orders, and total orders

%\linkvideo{spring2021-tradeoffs:tradeoffs:orders} % Orders

\showslides{
    \begin{forslides}
        \begin{equation*}
            \label{eq:tradeoff_map}
            \mapa \colon \stylesets{X} \sto \stylesets{Y}
        \end{equation*}
        \begin{equation*}
            \label{eq:tradeoff_mor}
            \mora \colon \Obja \mto \Objb
        \end{equation*}
        \begin{equation*}
            \label{eq:tradeoff_typw}
            \mora \colon (\Obja \mto \Objb)
        \end{equation*}
        \begin{equation*}
            \label{eq:tradeoff_cap}
            \begin{aligned}
                \setA & \setintersection \setB \\
                \setA & \setunion \setB \\
                \setA & \setsubseteq \setB
            \end{aligned}
        \end{equation*}
        \begin{equation*}
            \label{eq:tradeoff_wedge}
            \begin{aligned}
                a & \wedge b \\
                a & \vee b \\
            \end{aligned}
        \end{equation*}
        \begin{equation*}
            \label{eq:tradeoff_leq}
            \setA \leq \setB
        \end{equation*}
        \begin{equation*}
            \label{eq:abc}
            \prflineextra=0.6em
            \prftree
            {\prftree
                {a}
                {b}}
            {c}
        \end{equation*}
        \begin{equation*}
            \label{eq:abc_2}
            \begin{aligned}
                           & a \\
                \Imp \quad & b \\
                \Imp \quad & c
            \end{aligned}
        \end{equation*}
        \begin{equation*}
            \label{eq:abc_3}
            \prftree{a}{b}{c}
        \end{equation*}
        \begin{equation*}
            \label{eq:abc_4}
            (a\wedge b)\Imp c
        \end{equation*}
        \begin{equation*}
            \label{eq:abc_5}
            \prflineextra=0.6em
            \prftree[d]
            {\prftree[d]
                {a}
                {b}}
            {c}
        \end{equation*}
        \begin{equation*}
            \label{eq:abc_6}
            a\Leftrightarrow b \Leftrightarrow c
        \end{equation*}
        \begin{equation*}
            \label{eq:abc_7}
            \prflineextra=0.6em
            \prftree{a}{b}
        \end{equation*}
        \begin{equation*}
            \label{eq:abc_8}
            \prflineextra=0.6em
            \prftree{b}{c}
        \end{equation*}
        \begin{equation*}
            \label{eq:abc_9}
            \prflineextra=0.6em
            \prftree{a}{c}
        \end{equation*}
        \begin{equation*}
            \label{eq:mapf}
            \mapa \colon
        \end{equation*}
        \begin{equation*}
            \label{eq:mapg}
            \mapb \colon
        \end{equation*}
        \begin{equation*}
            \label{eq:mapcomp}
            \mapa \then \mapb \colon
        \end{equation*}
        \begin{equation*}
            \label{eq:top1}
            \prflineextra=0.6em
            \prftree{\true}{a}
        \end{equation*}
        \begin{equation*}
            \label{eq:bot1}
            \prflineextra=0.6em
            \prftree{a}{\false}
        \end{equation*}
        \begin{equation*}
            \label{eq:rel_refl}
            \prflineextra=0.6em
            \prftree{\true}{a\relA a}
        \end{equation*}
        \begin{equation*}
            \label{eq:rel_tot}
            \prflineextra=0.6em
            \prftree{\true}{a\relA b \quad \vee \quad b\relA a}
        \end{equation*}
        \begin{equation*}
            \label{eq:rel_tran}
            \prflineextra=0.6em
            \prftree{a\relA b}{b\relA c}{a\relA c}
        \end{equation*}
        \begin{equation*}
            \label{eq:rel_sym}
            \prflineextra=0.6em
            \prftree[d]{a \relA b}{b\relA a}
        \end{equation*}
        \begin{equation*}
            \label{eq:rel_irr}
            \prflineextra=0.6em
            \prftree{a \relA a}{\false}
        \end{equation*}
        \begin{equation*}
            \label{eq:rel_asy}
            \prflineextra=0.6em
            \prftree{a \relA b}{b\relA a}{\false}
        \end{equation*}
        \begin{equation*}
            \label{eq:rel_antisy}
            \prflineextra=0.6em
            \prftree{a \relA b}{b\relA a}{a=b}
        \end{equation*}
        \begin{equation*}
            \label{eq:ex}
            a\relA b \Leftrightarrow (a-b) \text{ mod }3=0
        \end{equation*}
        \begin{equation*}
            \label{eq:fun_cost}
            (\F{\text{keeps warm }}\cartprod \F{\text{ music fidelity}})\cartprod(\R{\text{ price }} \cartprod \R{\text{ frequency of charging }}\cartprod \R{\text{ wires hassle}})
        \end{equation*}
        \begin{equation*}
            \label{eq:id_ex}
            \prftree{\true}{\catid_\Obja\colon \Obja \mto \Obja}
        \end{equation*}
        \begin{equation*}
            \label{eq:comp_cat}
            \prftree{\mora \colon \Obja \mto \Objb}{\morb\colon \Objb \mto \Objc}{\mora\mthen \morb \colon \Obja \mto \Objc}
        \end{equation*}
        \begin{equation*}
            \label{eq:mor_pre}
            \prftree[d]{\ast\colon \posAel \mto \posBel}{\posAel \posleq \posBel}
        \end{equation*}
        \begin{equation*}
            \label{eq:hom_pre}
            \HomSet{}{\posAel}{\posBel}=\begin{cases}
                \makeset{\ast} & \text{iff} \posAel \posleq \posBel \\
                \Emptyset      & \text{otherwise}
            \end{cases}
        \end{equation*}
        \begin{equation*}
            \label{eq:comp_pre}
            \ast \mthen \ast = \ast
        \end{equation*}
        \begin{equation*}
            \label{eq:ex_pre}
            \begin{aligned}
                 & \posAel,\posBel,\posCel \\
                 & \posAel \posleq \posBel \\
                 & \posCel \posleq \posBel
            \end{aligned}
        \end{equation*}
        \begin{equation*}
            \label{eq:pre_p}
            \posAel
        \end{equation*}
        \begin{equation*}
            \label{eq:pre_q}
            \posBel
        \end{equation*}
        \begin{equation*}
            \label{eq:pre_r}
            \posCel
        \end{equation*}
        \begin{equation*}
            \label{eq:eq_rel}
            \prftree[d]{\posAel\sim \posBel}{(\posAel \posleq \posBel)\wedge (\posBel \posleq \posAel)}
        \end{equation*}
        \begin{equation*}
            \label{eq:pos_int}
            \prflinepadbefore=0.6em
            \prflinepadafter=0.6em
            \prftree[d]{\tup{l_1,u_1}\posleqof{\styleelements{\text{Int}}\posA} \tup{l_2,u_2}}{(l_1\posAleq l_2)\wedge (u_2\posAleq u_1)}
        \end{equation*}
        \begin{equation*}
            \label{eq:leq}
            \posleq
        \end{equation*}
        \begin{equation*}
            \label{eq:pos_prod}
            \prflinepadbefore=0.6em
            \prflinepadafter=0.6em
            \prftree[d]{\tup{\posAel_1,\posBel_1}\posleqof{\posA\cartprod \posB} \tup{\posAel_2,\posBel_2}}{(\posAel_1\posAleq \posAel_2)\wedge(\posBel_1\posBleq \posBel_2)}
        \end{equation*}
        \begin{equation*}
            \label{eq:pos_P}
            \posA
        \end{equation*}
        \begin{equation*}
            \label{eq:pos_Q}
            \posB
        \end{equation*}
        \begin{equation*}
            \label{eq:pos_PQ}
            \posA\cartprod \posB
        \end{equation*}
        \begin{equation*}
            \label{eq:set_disj}
            \posA+\posB=\makeset{ \tup{1,\posAel} \mid \posAel\setin \posA }\setunion \makeset{\tup{2,\posBel}\mid \posBel \setin \posB}
        \end{equation*}
        \begin{equation*}
            \label{eq:latt_1}
            \posAel \wedge \posBel
        \end{equation*}
        \begin{equation*}
            \label{eq:latt_2}
            \posAel \vee \posBel
        \end{equation*}
        \begin{equation*}
            \label{eq:latt_3}
            (\posAel \wedge \posBel)\posleq \posAel \posleq (\posAel \vee \posBel)
        \end{equation*}
        \begin{equation*}
            \label{eq:latt_4}
            \posAel
        \end{equation*}
        \begin{equation*}
            \label{eq:latt_5}
            \posBel
        \end{equation*}
        \begin{equation*}
            \label{eq:prop_1}
            \prftree[d]{\posAel \posleq \posBel}{\posAel \Imp \posBel}
        \end{equation*}
        \begin{equation*}
            \label{eq:prop_2}
            \prftree[d]{\posAel \Leftrightarrow \posBel}{\posAel = \posBel}
        \end{equation*}
        \begin{equation*}
            \label{eq:prop_3}
            \prftree{\true}{\posAel \Imp \posAel}
        \end{equation*}
        \begin{equation*}
            \label{eq:prop_4}
            \prftree{(\posAel \Imp \posBel)\wedge (\posBel \Imp \posCel)}{\posAel \Imp \posCel}
        \end{equation*}
        \includesag{060_propositions_lat}
        \begin{equation*}
            \label{eq:pow_1}
            \setA \posleq \setB \definedas \setA \setsubseteq \setB
        \end{equation*}
        \begin{equation*}
            \label{eq:pow_2}
            \setA \vee \setB \definedas \setA \setunion \setB
        \end{equation*}
        \begin{equation*}
            \label{eq:pow_3}
            \setA \wedge \setB \definedas \setA \setintersection \setB
        \end{equation*}
        \begin{equation*}
            \label{eq:pow_4}
            \postop \definedas \stylesets{S}
        \end{equation*}
        \begin{equation*}
            \label{eq:pow_5}
            \posbot \definedas \stylesets{\Emptyset}
        \end{equation*}
        \begin{equation*}
            \label{eq:pow_6}
            \powerset{\stylesets{S}}
        \end{equation*}
        \begin{equation*}
            \label{eq:pow_7}
            \stylesets{S}
        \end{equation*}
        \begin{equation*}
            \label{eq:pre_ex1}
            \makeset{\tup{a,a},\tup{a,b},\tup{b,a},\tup{b,b}}
        \end{equation*}
        \begin{equation*}
            \label{eq:pre_ex2}
            \makeset{\tup{a,b},\tup{b,c},\tup{c,a}}
        \end{equation*}
        \begin{equation*}
            \label{eq:pre_ex3}
            \makeset{\tup{a,a},\tup{b,b},\tup{c,c},\tup{d,d}}
        \end{equation*}
        \begin{definition}
            \label{def:posdef}
            A symmetric matrix~$\mat{M}\setin \reals^{n\times n}$ is \emph{positive semi-definite} if~$x^\intercal \mat{M}x\geq 0$ for all non-zero~$x\setin \reals^n$.
            We call the set of all such matrices~$\mathcal{P}^n$.
        \end{definition}
        \begin{equation*}
            \label{eq:posdef_1}
            \mat{A}\posleq \mat{B} \Leftrightarrow (\mat{A}-\mat{B})\setin \mathcal{P}^n, \quad \mat{A},\mat{B}\setin \mathcal{P}^n
        \end{equation*}
    \end{forslides}
}

So far, the discussion has been purely qualitative.
While we discussed how categories can describe the way in which one resource can be turned into another, this kind of modelling did not allow for quantitative statements.
For example, it is good to know that we can obtain motion from electric power, but, how fast can we go with a certain amount of power?

To achieve a quantitative theory, we need to specify various degrees of resources and functionality.
One way of doing this is using the idea of orders.

Such orderings arise naturally in engineering as criteria for judging whether one design is better or worse than another.
As an example, suppose you need to buy a battery.
In this simple example, you can think of having two resources: mass and money.
A lighter battery might be more expensive, and a heavier one could be more affordable.
How to choose among batteries, if you do not prefer one resource over the other?
How to model this?
In this section, we will assume that functionality and resources are \emph{ordered sets}, and will introduce pre-orders, partial orders, and total orders.

Davey and Priestley~\cite{davey02} and Roman~\cite{roman08} are possible reference texts.

We introduce these concepts by adding levels of specificity.

\begin{ctdefinition}[Pre-ordered set]
    \label{def:preorder}
    A \emph{pre-ordered} set is a tuple~$\posA = \tup{\posAset,\posAleq}$, where~$\posAset$ is a set, called the \emph{carrier set} or \emph{underlying set}, together with a relation~$\posAleq$ that is
    reflexive (\cref{def:endo_reflexive_irreflexive}) and transitive (\cref{def:endo_transitive}).
    % \begin{itemize}
    %     \item \emph{Reflexive:}
    %           \begin{equation}
    %               \prfperiod{\true}{\posAel \posAleq \posAel}
    %           \end{equation}
    %     \item \emph{Transitive:}
    %           \begin{equation}
    %               \prfperiod{\posAel \posAleq \posBel}{\posBel \posAleq \posCel}{\posAel \posAleq \posCel}
    %           \end{equation}
    % \end{itemize}
\end{ctdefinition}
An example of a pre-ordered set represented as a graph is reported in \cref{fig:pre_order_graph}.
In the graph representation of a pre-order~$\posA$, one draws an arrow between~$\posela$ and~$\poselb$ if~$\posela \posAleq \poselb$.

\begin{marginfigure}
    \begin{center}
        \includesag{pre_order_graph}
    \end{center}
    \caption{\label{fig:pre_order_graph}}
\end{marginfigure}

By adding \emph{antisymmetry} (\cref{def:antisymmetry}), one obtains a partially ordered set.
\begin{ctdefinition}[Partially ordered set]
    \label{def:poset}
    A pre-ordered set~$\posA = \tupp{\posAset,\posAleq}$ is a \emph{partially-ordered set (\iindex{poset})} if the relation~$\posAleq$ is \emph{antisymmetric} (\cref{def:endo_sym_asym_antisym}).
    % In other words, if:
    % \begin{equation}
    %     \prfperiod{\posAel \posAleq \posBel}{\posBel \posAleq \posAel}{\posAel = \posBel}
    % \end{equation}
\end{ctdefinition}

\begin{marginfigure}
    \begin{center}
        \includesag{pos_order_graph}
    \end{center}
    \label{fig:pos_order_graph}
\end{marginfigure}

An example of a partially ordered set represented as a graph is reported in \cref{fig:pos_order_graph} (we will formally define graphs in \cref{def:Graph}).
By comparing this with \cref{fig:pre_order_graph}, we notice that the double-headed arrow is not allowed anymore (indeed, its existence would imply that source and target of the arrow are the same element in the poset).

By imposing \emph{totality} (\cref{def:endo_total}), one obtains a total order.

\begin{ctdefinition}[Totally ordered set]
    \label{def:total_order}
    A partially ordered set~$\posA = \tupp{\posAset,\posAleq}$ is a \emph{totally ordered set} if the relation~$\posAleq$ is \emph{total}
    (\cref{def:endo_total}).
    % In other words, if:
    % \begin{equation}
    %     \prfperiod{\true}{(\posAel \posAleq \posBel) \vee (\posBel \posAleq \posAel)}
    % \end{equation}
\end{ctdefinition}

\begin{marginfigure}
    \begin{center}
        \includesag{tot_order_graph}
    \end{center}
    \caption{\label{fig:tot_order_graph}}
\end{marginfigure}

An example of a totally ordered set represented as a graph is reported in \cref{fig:tot_order_graph}.

\vfill
\clearpage

\subsection{Hasse diagrams}
\linkvideo{spring2021-tradeoffs:tradeoffs:orders:hasse} % Hasse diagrams
One can represent partial orders in various ways.
We now take a proxy partially ordered set and represent it using different conventions.
Consider~$\posA=\tup{\posAset,\posAleq}$, where~$\posAset=\makeset{\posela,\poselb,\poselc}$ and~$\posela\posAleq \poselb$,~$\poselb\posAleq \poselc$.
First, one could represent this using the same visualization we had for relations (\cref{fig:poset_as_relation}).

However, this is quite heavy, and does not exploit the fact that partial orders are endorelations.
Therefore, one could think to only draw the carrier set once, and to drop the order relations arising from reflexivity (\cref{fig:poset_as_graph}).

However, the arrow from~$\posela$ to~$\poselb$ is implicit in partial orders, because of transitivity.

A \emph{\iindex{Hasse diagram}} is an economical (in terms of arrows) way to visualize a poset.
In a Hasse diagram elements are points, and if~$\posAel \posAleq \posBel$ then~$\posAel$ is drawn lower than~$\posBel$ and with an edge connected to it, if no other point is in between (\cref{fig:poset_as_hasse}).
Hasse diagrams are directed graphs.

\begin{figure*}[h]
    % \aligninner{
    \hspace{4em}
    \subfloat[$\posA$ as a relation\label{fig:poset_as_relation}]{
        \includesag{poset_representation_1}
    }
    \hspace{4em}
    \subfloat[$\posA$ as a graph \label{fig:poset_as_graph}]{
        \rule{1cm}{0pt} % TODO: FIX PARBOX
        \includesag{poset_representation_2}
        \rule{1cm}{0pt}
    }
    \hspace{4em}
    \subfloat[$\posA$ as a Hasse diagram\label{fig:poset_as_hasse}]{
        \rule{1cm}{0pt}  % TODO: FIX PARBOX
        \includesag{poset_representation_3}
        \rule{1cm}{0pt}
    }
    % }
    \caption{Three different representations for a poset}
    \label{fig:poset_representation}
\end{figure*}

\begin{example}[Discrete partially ordered sets]
    \label{ex:discreteposet}
    Every set~$\posAset$ can be considered as a \emph{discrete poset}~$\posA = \tup{\posAset,=}$.
    Discrete posets are represented as collection of points.
    For instance:
    \equationsag{40_discrete}{fig:discretepos}

\end{example}

\begin{example}[Booleans]
    \label{ex:bool}
    The booleans \index{\Bool} is a poset with carrier set~$\makeset{\true,\false}$ and the order relation given by~$\false \posleqof\Bool \true$:
    \equationsag{40_dpcatfig_boolean}{fig:boolean}
\end{example}

\begin{example}[Qualitative information]

    \begin{marginfigure}
        \centering
        \includesag{70_hasse_pizza}
        \caption{The cost of a battery can be represented as a poset.
        }
        \label{fig:hassebattery}
    \end{marginfigure}

    In the example of the battery choice, both mass and money can be thought of as partially ordered sets.
    Imagine that you have batteries which are ``\poscheap'', ``\posmidrange'', and ``\posexpensive''.
    Clearly, if the partially ordered set represents cost, one can say that~$\poscheap \posleq\posmidrange \posleq\posexpensive$.
    While this is a quantitative judgement (indeed, if I care about cost, I will prefer a cheap battery over a midrange one), it is not a numeric one (cheap could represent a number, but also a range of numbers or just a price category).
    This can be represented as in~\cref{fig:hassebattery}.
\end{example}

\begin{marginfigure}
    \centering
    \includesag{40_dpcatfig_hasse}
    \caption{Example of Hasse diagram of~$\posA$.}
    \label{fig:hasse}
\end{marginfigure}
\begin{example}
    Consider a poset~$\posA$ representing your food preference over the set~$\posAset=\makeset{\sbretzel,\sfondue,\schoco,\sburger,\sapple}$ with~$\sbretzel\posAleq \schoco$,~$\sburger\posAleq \schoco$,~$\schoco\posAleq \sfondue$, and~$\sburger\posAleq \sapple$.
    This can be represented with a Hasse diagram as in~\cref{fig:hasse}.
\end{example}

\begin{example}[Reals]
    The real numbers \reals form a poset with carrier \reals and order relation given by the usual ordering~$r_1 \Rleq r_2$.
\end{example}

\vfill\clearpage

\subsection{Example: positive definite matrices as ellipsoids}

\begin{marginfigure}
    \centering
    \subfloat[
        Example of ellipses representing positive semi-definite matrices.
        \label{fig:posdef_draw}
    ]{
        \centering
        \maxsizebox{0.9\marginparwidth}{!}{%
            \includesag{20_ellipses_mat}
        }
    }

    \subfloat[
        Example of order between positive semi-definite matrices.
        \label{fig:posdef_hasse}
    ]{%
        \parbox{\marginparwidth}{
            \centering
            \includesag{20_mat_order}
        }%
    }
    \caption{}
    \label{fig:posdef}
\end{marginfigure}

\begin{example}
    \begin{definition}[Positive semi-definite matrix]
        A symmetric matrix~$\mat{M}\setin \reals^{n\times n}$ is \emph{positive semi-definite} if~$\vec{x}^\intercal \mat{M}\vec{x}\geq 0$ for all non-zero~$\vec{x}\setin \reals^n$.
        We call the set of all such matrices~$\posdefmatset{n}$.
    \end{definition}
    Positive semi-definite matrices have real, semi-positive eigenvalues, which can be interpreted as axes lengths of ellipsoids.
    Any matrix~$\mat{A}\setin \posdefmatset{n}$ describes an ellipsoid, descriptive equation of which can be written as a quadratic form:
    \begin{equation*}
        \vec{x}^\intercal \mat{A}\vec{x}=1,\quad \vec{x}\setin \reals^n.
    \end{equation*}
    We can define a partial order on~$n$ as
    \begin{equation*}
        \prfdoubleperiod{
            \mat{A}\posleqof{\posdefmatset{n}} \mat{B}
        }{
            (\mat{B}-\mat{A})\setin \posdefmatset{n}
        }
    \end{equation*}
    The order can be interpreted as an inclusion of ellipsoids.
    Take for instance the matrices
    \begin{equation*}
        \mat{A}=
        \begin{bmatrix}
            1 & 0 \\0& 1
        \end{bmatrix}, \quad \mat{B}=
        \begin{bmatrix}
            2 & 0 \\0& 1
        \end{bmatrix},\quad \mat{C}=
        \begin{bmatrix}
            2 & 0 \\0& 0.5
        \end{bmatrix}.
    \end{equation*}
    The order~$\posA$ on the set~$\makeset{\mat{A},\mat{B},\mat{C}}$ is reported in \cref{fig:posdef_hasse}, and it is easily explained via \cref{fig:posdef_draw}.
    The ellipse representing~$\mat{A}$ (in red) is included by the one representing matrix~$\mat{B}$ (in blue), but not by the one representing matrix~$\mat{C}$ (in green).
    Furthermore, the one representing~$\mat{B}$ includes the one representing~$\mat{C}$.
\end{example}

\todotextjira{500}{
    The ellipsoid example is very illustrative, however I beliebe it is not entirely correct.
    Generally ellipsoids are defined through positive definite matrices and
    the quadratic form is given with the inverse matrix, i.e. x^T A^-1 x = 1.
    With the current definition, the graphic does not correspond to the ellipsoids induced by A,B,C
    but to the ones induced by A^-1, B^-1 and C^-1}

\vfill
%

\begin{gradedexercise}[\exname{PolynomialDivisibility}]
    \label{ex:PolynomialDivisibility}
    Let~$\setA$ be the set of all polynomials with coefficients in $\reals$.
    Recall that a polynomial~$p$ \emph{divides} a polynomial~$q$ if there exists a polynomial~$m$ such that~$p \cdot m = q$.
    If~$p$ divides~$q$ we denote this by~$p \vert q$.
    Divisibility defines an endorelation on~$\setA$ by saying~$p$ is related to~$q$ iff~$p \vert q$.
    Does this define a preorder structure on~$\setA$?
    Does this define a poset structure on~$\setA$?
    Justify your answer.
\end{gradedexercise}

\solutionof{PolynomialDivisibility}

\section{Counting orders}

\linkvideo{spring2021-tradeoffs:tradeoffs:orders:counting-orders} % Counting orders
\todotext{Put this section in its own file.}

Let's count the number of posets.

If there is only one element, there is only one way to order it (\cref{fig:singleton}).

With a 2-elements set, there are 2 posets (panel \emph{b}), ``up to isomorphism'',
that is, if we do not care about the labels of points.

On 3-elements sets, one has 5 posets (panel \emph{c}).

On 4-elements sets, one has 16 posets (panel \emph{d}).

\vfill

\begin{figure*}[h]
    % \hfill
    \subfloat[\label{fig:singleton}
        The singleton poset.
    ]{
        \rule{2cm}{0pt}\middlesag{40_dpcatfig_singleton}\rule{2cm}{0pt}
    }
    % \hfill
    \subfloat[All posets on 2-elements sets, up to isomorphism.
        \label{fig:twoelementspos}
    ]{
        \centering
        \setlength{\tabcolsep}{20pt}
        \rule{1cm}{0pt}
        \begin{tabular}{cc}
            \middlesag{70_pos_2_1} & \middlesag{70_pos_2_2}
        \end{tabular}
        \rule{1cm}{0pt}
    }

    % \medskip
    \subfloat[All posets on 3-elements sets, up to isomorphisms.
        \label{fig:threeelementspos}]{
        \setlength{\tabcolsep}{20pt}
        \begin{tabular}{ccccc}
            \middlesag{70_pos_3_1} &
            \middlesag{70_pos_3_2} &
            \middlesag{70_pos_3_3} &
            \middlesag{70_pos_3_4} &
            \middlesag{70_pos_3_5}
        \end{tabular}
    }

    % \medskip
    \subfloat[
        All posets on a 4-element set, up to isomorphism.
        \label{fig:fourelementspos}
    ]{
        \centering
        \setlength{\tabcolsep}{6pt}
        \maxsizebox{\marginparwidth+\textwidth}{!}{
            \begin{tabular}{cccccc}
                \middlesag{70_pos_1}
                 & \middlesag{70_pos_2}
                 & \middlesag{70_pos_3}
                 & \middlesag{70_pos_4}
                 & \middlesag{70_pos_5} \\[+30pt]
                \middlesag{70_pos_6}
                 & \middlesag{70_pos_7}
                 & \middlesag{70_pos_8}
                 & \middlesag{70_pos_14}
                 & \middlesag{70_pos_15} \\[+30pt]
                \middlesag{70_pos_11}
                 & \middlesag{70_pos_12}
                 & \middlesag{70_pos_13}
                 & \middlesag{70_pos_9}
                 & \middlesag{70_pos_10}
                 & \middlesag{70_pos_16}
            \end{tabular}
        }
    }
    \caption{}
    \label{fig:posets-up-to-four}
\end{figure*}
