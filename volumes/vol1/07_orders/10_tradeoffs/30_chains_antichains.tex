% !TEX root = chapter-standalone.tex

\section{Chains and Antichains}
\label{sec:chains-antichains}

There are two special types of subsets of a poset: \SY{chains}  and \SY{antichains}.
Their definitions are dual.

\begin{definition}[Chain in a poset]
    \SYNDEF{chain}
    \label{def:chain}
    Given a poset~$\posA = \tup{\posAset, \posAleq}$, a \emph{chain} is a subset~$\subA \setsubseteq \posAset$ such that any two elements of~$\subA$ are comparable:
    \begin{equation}\label{eq:chain}
        \prfperiod{
            \posela,\poselb \setin \subA
        }{
            (\posela \posAleq  \poselb) \boolor (\poselb \posAleq  \posela)
        }
    \end{equation}
\end{definition}

\begin{definition}[Antichain in a poset]
    \label{def:antichain}
    \SYNDEF{antichain}
    An \emph{antichain} is a subset~$\subA$ of a poset where no two distinct elements are comparable:
    %
    \begin{equation}\label{eq:antichain}
        \prfperiod{
            \posela, \poselb \setin \subA
        }{
            \posela \posAleq \poselb
        }{
            \posela = \poselb
        }
    \end{equation}
    %
\end{definition}
\begin{remark}
    Note that the empty set~$\Emptyset$ is both a \SY{chain}  and an \SY{antichain}.
\end{remark}

We denote the set of \SY{antichains}  of a poset~\posA by~$\antichains\posA$.

\begin{example}[Chains and \SY{antichains}  in a power poset]
    Consider the poset in \cref{fig:powersetcat3}.
    Examples of \SY{chains}  are
    \begin{equation}\label{eq:example-chain}
        \makeset{\Emptyset,\makeset{\posela}}
        \qqand
        \makeset{\Emptyset,\makeset{\poselb},\makeset{\poselb,\poselc},\makeset{\posela,\poselb,\poselc}},
    \end{equation}
    depicted in \cref{fig:power_chains_a} and \cref{fig:power_chains_b}, respectively.

    Examples of \SY{antichains}  are
    \begin{equation}\label{eq:examples-antichain}
        \makeset{\makeset{\posela},\makeset{\poselb}}
        \qqand
        \makeset{\makeset{\posela,\poselb}, \makeset{\posela,\poselc}, \makeset{\poselb,\poselc}},
    \end{equation}
    depicted in \cref{fig:power_antichains_a} and \cref{fig:power_antichains_b}, respectively.
\end{example}

\begin{figure*}
    \fitinpage{
        \subfloat[\label{fig:power_chains_a}
            A \SY{chain}.
        ]{
            \includesag{40_dpcatfig_power_chains}
        }
        \subfloat[\label{fig:power_chains_b}
            A \SY{chain}.
        ]{
            \includesag{40_dpcatfig_power_chains_bis}
        }
        \subfloat[\label{fig:power_antichains_a}
            An \SY{antichain}.
        ]{
            \includesag{40_dpcatfig_power_antichains}
        }
        \subfloat[\label{fig:power_antichains_b}
            An \SY{antichain}.
        ]{
            \includesag{40_dpcatfig_power_antichains_bis}
        }
    }
    \caption{Examples of \SY{chains}  (a-b) and \SY{antichains}  (c-d) in the poset $\powerset\makeset{\posela,\poselb,\poselc}$.}
    \todographics{
        GZ: temporary sol.
        Don't like circled.
        The idea of using color to show what is in and out is a bit messy now that we have colored things (e.g. the parentheses are still brown).
        Also it doesn't mesh well with the fact that $\Emptyset$ is brown.
        Maybe we can circle them? }
\end{figure*}

\clearpage

\begin{marginfigure}
    \centering
    \includesag{70_antichain}
    \caption{Example of discrete \SY{antichains}.
    }
    \label{fig:antichain}
\end{marginfigure}
\begin{example}
    In the context of battery choices, consider the diagram in~\cref{fig:antichain}.
    The black markers represent an \SY{antichain}   of choices
    \begin{equation}\label{eq:example-battery-antichain}
        \makeset{
            \tupp{\poscheap,\posheavy},
            \tupp{\posexpensive,\poslight}
        }.
    \end{equation}
    It is a set of \SY{antichains}  because they do not dominate each other: one is cheaper, but takes longer, and the other is more expensive, but quicker, making them incomparable.
    If a battery with the properties as the red marker existed (very expensive, between light and heavy), that would be an element that cannot be part of the \SY{antichain}, since it would be dominated by~$\tupp{\posexpensive,\poslight}$.
    %
    \begin{marginfigure}
        \centering
        \includesag{70_antichain_2}
        \caption{Example of continuous \SY{antichains}.}
        \label{fig:antichain_2}
    \end{marginfigure}
    %
    Similarly, we could think of a continuous law which relates battery cost and mass.
    Assume that cheap means~$\unit[10]{\standardcurrency}$, expensive means~$\unit[20]{\standardcurrency}$, light means~$\unit[250]{g}$, and heavy means~$\unit[500]{g}$.
    For instance, consider the \SY{antichain}   given by~$\text{mass}=500-25\cdot \text{cost}$, with maximum possible cost~$\unit[20]{\standardcurrency}$ (\cref{fig:antichain_2}).
\end{example}

\vspace{5cm}

\begin{marginfigure}
    \centering
    \includesag{chain_divisor_poset}
    \caption{}
    \label{fig:chain_divisor_poset}
\end{marginfigure}

\begin{marginfigure}
    \centering
    \includesag{antichain_divisor_poset}
    \caption{}
    \label{fig:antichain_divisor_poset}
\end{marginfigure}

% We will now have a look at couple more examples.
\begin{example}
    Consider the poset~$\posA=\tup{\posAset,\posAleq}$ where~$(\posAel \posAleq \posBel)$ if~$\posAel$ is a divisor of~$\posBel$ and~$\posAset=\makeset{1,5,10,11,13,15}$.
    A \SY{chain}  of~\posA is~$\makeset{1,5,10}$ (\cref{fig:chain_divisor_poset}).
    An \SY{antichain}   of~\posA is~$\makeset{10,11,13,15}$ (\cref{fig:antichain_divisor_poset}).
\end{example}
