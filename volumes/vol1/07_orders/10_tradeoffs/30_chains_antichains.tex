% !TEX root = chapter-standalone.tex

\section{Chains and Antichains}
\label{sec:chains-antichains}

There are two special types of subsets of a poset: chains and antichains.
Their definitions are dual.

\begin{definition}[Chain in a poset]
	\label{def:chain}
	Given a poset~$\posA = \tup{\posAset, \posAleq}$, a \emph{chain} is a subset~$\stylesets{S} \subseteq \posAset$ such that any two elements of~$\stylesets{S}$ are comparable:
	\begin{equation}
		\prfperiod{
			\setAel,\setBel \in \subA
		}{
			(\setAel \posAleq  \setBel) \boolor (\setBel \posAleq  \setAel)
		}
	\end{equation}
	%
	% If~$\ela, \elb \in \stylesets{S}$, then~$\ela \posAleq \elb$ or~$\elb \posAleq \ela$:
	%a sequence of elements~$
	%{\posAel_i}$ in~$\posA$ where two successive elements are comparable:
	%    \begin{equation}
	%        \prftree{i \Nleq j }{\posAel_i \posAleq \posAel_j}
	%        %i \Nleq j \Rightarrow s_i \posAleq s_j.
	%    \end{equation}
\end{definition}

\begin{definition}[Antichain in a poset]
	\label{def:antichain}
	An \emph{antichain} is a subset~$\subA$ of a poset where no two distinct elements are comparable:
	%
	\begin{equation}
		\prfperiod{
			\setAel,\setBel \in \subA
		}{
			\setAel \posAleq \setBel
		}{
			\setAel = \setBel
		}
	\end{equation}
	%
\end{definition}
\begin{remark}
	Note that the empty set~$\emptyset$ is both a chain and an antichain.
\end{remark}

We denote the set of antichains of a poset~$\posA$ by~$\antichains\posA$.

\begin{example}[Chains and antichains in power set]
	Consider the poset in~\cref{fig:powersetcat}.
	Examples of chains are
	\begin{equation}
		\{\varnothing,\{\posela\},\{\posela,\poselb\},\{\posela,\poselb,\poselc\}\}
		\qqand
		\{\varnothing,\{\poselb\},\{\poselb,\poselc\},\{\posela,\poselb,\poselc\}\},
	\end{equation}
	depicted in \cref{fig:power_chains_a} and \cref{fig:power_chains_b}, respectively.
	Examples of antichains are
	\begin{equation}
		\{\{\posela\},\{\poselb\},\{\poselc\}\}
		\qqand
		\{ \{\posela,\poselb\},\{\posela,\poselc\}, \{\poselb,\poselc\}\}.
	\end{equation}

	\begin{marginfigure}
		\begin{center}
			\includesag{40_dpcatfig_power_chains}
		\end{center}
		\caption{\label{fig:power_chains_a}}
	\end{marginfigure}

	\begin{marginfigure}
		\begin{center}
			\includesag{40_dpcatfig_power_chains_bis}
		\end{center}
		\caption{\label{fig:power_chains_b}}
	\end{marginfigure}

	\todographics{Make pictures for these two antichains. For Andrea: How do we depict them nicely? }
\end{example}

\begin{marginfigure}
	\centering
	\includesag{70_antichain}
	\caption{Example of discrete antichains.}
	\label{fig:antichain}
	\todographics{Show the principal upper set with dashed boundaries for the two points in the antichain}
\end{marginfigure}

In the context of battery choices, consider the diagram reported in~\cref{fig:antichain}.
The black markers represent an antichain of choices
\begin{equation}
	\{
	\tupp{\poscheap,\posheavy},
	\tupp{\posexpensive,\poslight}
	\}.
\end{equation}
It is a set of antichains because they do not dominate each other: one is cheaper, but takes longer, and the other is more expensive, but quicker, making them uncomparable.
The red marker~$\textcolor{red}{\marker}$ is an element that cannot be part of the antichain, since it is dominated by~$\tupp{\posexpensive,\poslight}$.

%
\begin{marginfigure}
	\centering
	\includesag{70_antichain_2}
	\caption{Example of continuous antichains.}
	\label{fig:antichain_2}
	\todographics{Pick two points and show the principal upper set with dashed boundaries for the two points in the antichain}
\end{marginfigure}

Similarly, one could think of a continuous law which relates battery cost and mass.
Let's assume that cheap means~$\unit[10]{\standardcurrency}$, expensive means~$\unit[20]{\standardcurrency}$, light means~$\unit[250]{g}$, and heavy means~$\unit[500]{g}$.
For instance, consider the antichain given by~$\text{mass}=500-25\cdot \text{cost}$, with maximum possible cost~$\unit[20]{\standardcurrency}$ (\cref{fig:antichain_2}).

We will now have a look at couple more examples.
\begin{example}
	Consider the poset~$\posA=\tup{\posAset,\posAleq}$ where~$(\posAel \posAleq \posBel)$ if~$\posAel$ is a divisor of~$\posBel$ and~$\posAset=\{1,5,10,11,13,15\}$.
	A chain of~$\posA$ is~$\{1,5,10,15\}$.
	An antichain of~$\posA$ is~$\{10,11,13\}$.
	\todotext{This example is worthless without a picture. (can you picture the poset in your mind?) Thinking of dropping}
\end{example}

