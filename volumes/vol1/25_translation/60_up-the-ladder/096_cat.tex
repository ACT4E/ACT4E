% !TEX root = chapter-standalone.tex

\section{Functor composition}

\begin{ctdefinition}[Functor composition]
    \label{def:functor_composition}
    Consider categories~$\CatA,\CatB,\CatC$ and functors~$\funa\colon \CatA\fto \CatB$,~$\funb \colon \CatB\fto \CatC$.
    Functor composition is given by~$\funa\fthen \funb\colon \CatA \fto \CatC$, where:
    \begin{compactitem}
        \item Given~$\Obja\in \Ob_\CatA$, one has~$(\funa\fthen \funb)(\Obja)\coloneqq\funb(\funa(\Obja))$;
        \item Given~$\mora \in \HomSet{\CatA}{\Obja}{\Objb}$, one has~$(\funa\fthen \funb)(\mora)\coloneqq \funb(\funa(\mora))$.
    \end{compactitem}
\end{ctdefinition}

\begin{lemma}
    \label{lem:functors_compose}
    The composition of functors is a functor.
\end{lemma}

\begin{exercise}
    Prove \cref{lem:functors_compose}.
\end{exercise}
\begin{solution}
    In the following, we want to show that functors compose.
    Given categories~$\CatA,\CatB,\CatC$ and functors~$\funa\colon \CatA\fto \CatB$,~$\funb \colon \CatB\fto \CatC$, we want to show that~$\funa\fthen\funb$ is a functor.
    To do this, we show that~$\funa\fthen\funb$ preserves identities and compositions.
    \begin{compactitem}
        \item Given an object~$\Obja\in \CatA$, we have:
        \begin{equation*}
            \begin{aligned}
                (\funa\fthen\funb)(\catid_\Obja)
                 & =\funb(\funa(\catid_\Obja))    \\
                 & =\funb(\catid_{\funa(\Obja)})  \\
                 & =\catid_{\funb(\funa(\Obja))}, 
            \end{aligned}
        \end{equation*}
        where we used that~$\funa$ and~$\funb$ are functors (they preserve identities).
        \item Furthermore, given composable morphisms~$\mora,\morb\in \CatA$, one has:
        \begin{equation*}
            \begin{aligned}
                (\funa\fthen\funb)(\mora\mthen\morb)
                 & =\funb(\funa(\mora)\mthen \funa(\morb))         \\
                 & =\funb(\funa(\mora))\mthen \funb(\funa(\morb)), 
            \end{aligned}
        \end{equation*}
        where again we used that~$\funa,\funb$ are functors (they preserve composition).
    \end{compactitem}
\end{solution}

We can define an identity functor.

\begin{ctdefinition}[Identity functor]
    \label{def:identity_functor}
    Given a category~\CatC, we define it as~$\funid_\CatC\colon \CatC \fto \CatC$, where
    \begin{compactitem}
        \item Given~$\Obja\in \Ob_\CatC$, one has~$\funid_\CatC(\Obja)\coloneqq \Obja$;
        \item Given~$\mora \in \HomSet{\CatC}{\Obja}{\Objb}$, one has~$\funid_\CatC(\mora)\coloneqq \mora$.
    \end{compactitem}
\end{ctdefinition}

\begin{lemma}
    \label{lem:identity_functor_is_functor}
    The identity functor is indeed a functor.
\end{lemma}

\begin{exercise}
    Prove \cref{lem:identity_functor_is_functor}
\end{exercise}
\begin{solution}
    To show that this is a valid functor, we need to show that it preserves identities and composition:
    \begin{compactitem}
        \item Given any~$\Obja \in \Ob_\CatC$, we have:
        \begin{equation*}
            \begin{aligned}
                \funid_{\CatC}(\catid_\Obja) & =\catid_\Obja                   \\
                                             & =\catid_{\funid_{\CatC}(\Obja)} 
            \end{aligned}
        \end{equation*}
        Furthermore, given composable morphisms~$\mora,\morb$ in~\CatC, we have:
        \begin{equation*}
            \begin{aligned}
                \funid_{\CatC}(\mora\mthen\morb) & =\mora\mthen\morb                                    \\
                                                 & =\funid_{\CatC}(\mora)\mthen \funid_{\CatC} (\morb). 
            \end{aligned}
        \end{equation*}
    \end{compactitem}
\end{solution}

\section{A category of categories}
\linkvideo{spring2021-functors:semi-and-fun:cat-of-cat} % A category of categories

Given the existence of an identity functor and the ability of functors to compose, we can define a category of categories \Category.
In order to avoid set-theoretic technicalities, we restrict our attention to so-called ``small'' categories: these are categories whose collection of objects from a set (and not a proper class).\footnote{See \cref{sec:technical-terms}, where we discuss these terms briefly.}

\begin{ctdefinition}[Category of small categories]
    \label{def:Category}
    There is a category, called \Category, which is constituted of
    \begin{compactitem}
        \item Objects: categories;
        \item Morphisms: functors;
        \item Identity morphisms: identity functors;
        \item Composition: composition of functors.
    \end{compactitem}
\end{ctdefinition}

\begin{gradedexercise}[\exname{CatProductCategorical}]
    Prove that the product category~$\CatC \Ctimes \CatD$ of two small categories ``is'' the categorical product of~$\CatC$ and~$\CatD$ within the category of small categories.
\end{gradedexercise}

\solutionof{CatProductCategorical}
