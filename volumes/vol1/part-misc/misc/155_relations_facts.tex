% !TEX root = chapter-standalone.tex

\section{Biproduct, Product, and Coproduct of Design Problems}
\begin{example}
	Just as Beau is about to connect the engine diagram to the larger design problem for the X103, his supervisor, Elly May, comes up behind him and catches a glance at his diagram.
	``Beau, that's almost right: Jeb-XX~$\wedge$ Bob-Roc does indeed work as an approximation of a generic ``engine'' design problem.
	The problem is that the choice of engine is so important and expensive that it isn't up to the engineering team---it's up to the politicians!
	So take~$f \vee g$ out and stick the one reported in~\cref{fig:exbiproduct} instead.
	\begin{figure}[h!]
		\begin{center}
			\includesag{50_rival_pol}
		\end{center}
		\caption{The choice of engine is up to the politicians: Biproduct.}
		\label{fig:exbiproduct}
	\end{figure}

	We'll come back and adjust the parameter to either the Jeb XX or the Bob-Roc after the politicians make their choice.
	''
\end{example}
\begin{definition}[Biproduct of design problems]
	Given design problems~$f\colon \F{A} \profto \R{B}$ and~$g\colon \F{C} \profto \R{D}$, their \emph{biproduct}~$(f + g)\colon \F{A} + \F{C} \profto \R{B} + \R{D}$ is defined by
	\begin{equation}
		\begin{aligned}
			(f + g)
			\colon (\F{A} + \F{C})\op  \times (\R{B} + \R{D}) & \toinPos \Bool,            \\
			\tup{ \disunionA{\F{a}}^*, \disunionA{\R{b}}}     & \mapsto f(\F{a}^*, \R{b}), \\
			\tup{ \disunionB{\F{c}}^*, \disunionA{\R{b}}}     & \mapsto \false,            \\
			\tup{ \disunionA{\F{a}}^*, \disunionB{\R{d}}}     & \mapsto \false,            \\
			\tup{ \disunionB{\F{c}}^*, \disunionB{\R{d}}}     & \mapsto g(\F{c}^*, \R{d}),
		\end{aligned}
	\end{equation}
	and represented as in~\cref{fig:biproductdp}.

	In particular, when~$f, g\colon \F{A} \profto \R{B}$,~$(f + g)\colon \F{A} + \F{A} \profto \R{B} + \R{B}$ is defined by
	\begin{equation}
		\begin{aligned}
			(f + g)
			\colon (\F{A} + \F{A})\op  \times (\R{B} + \R{B}) & \toinPos \Bool,            \\
			\tup{ \disunionA{\F{a}}^*, \disunionA{\R{b}}}     & \mapsto f(\F{a}^*, \R{b}), \\
			\tup{ \disunionB{ \F{a}}^*, \disunionA{\R{b}}}    & \mapsto \false,            \\
			\tup{ \disunionA{\F{a}}^*, \disunionB{ \R{b}}}    & \mapsto \false,            \\
			\tup{ \disunionB{ \F{a}}^*, \disunionB{ \R{b}}}   & \mapsto g(\F{a}^*, \R{b}).
		\end{aligned}
	\end{equation}
\end{definition}

\begin{figure}[h!]
	\begin{center}
		\includesag{52_biproduct}
	\end{center}
	\caption{Diagrammatic representation of the biproduct of design problems. }
	\label{fig:biproductdp}
\end{figure}

Assume $f,g \colon \F{A} \profto \R{B}$.
Intuitively,~$f+g$ can be thought of as: pick either~$f$ or~$g$, then throw away the other one, whereas on any~$\tup{\F{a}^*,\R{b}}$,~$f \vee g$ always picks the better (more feasible) of either~$f(\F{a}^*,\R{b})$ or~$g(\F{a}^*,\R{b})$.
Note that~$f+g$ introduces an extra parameter, since the choice of~$f$ or~$g$ has to be hard-coded into the larger design problem.

In general, the biproduct is defined first on objects of the category, so what we are calling a biproduct of design problems is actually the unique map derived from the biproduct~$A + B$ of posets in~\DP, namely the disjoint union.
In the more general setting~$f\colon \F{A} \profto \R{B}$ and~$g \colon \F{C} \profto \R{D}$, the biproduct on objects~$\F{A} + \F{C}$ models~$\F{A}$ and $\F{C}$ as \emph{interchangeable entities}:~$f+g$ may output one functionality from either~$\F{A}$ or $\F{C}$, and similarly it requires only one resource from either~$\R{B}$ or~$\R{D}$.
We can emphasize one or the other condition by letting~$\F{A} = \F{C}$ or~$\R{B} =\R{D}$ above, thus deriving the product of design problems and coproduct of design problems, respectively.

\begin{definition}[Coproduct of design problems]
	\label{def:coproduct}
	Given two design problems~$f\colon \F{A} \profto \R{C}$ and~$g \colon \F{B} \profto \R{C}$, their \emph{coproduct}~$(f \sqcup g)\colon \F{A} + \F{B} \profto \R{C}$ is defined by
	\begin{equation}
		\begin{aligned}
			(f \sqcup g)
			\colon (\F{A} + \F{B})\op \times \R{C} & \toinPos \Bool,            \\
			\tup{ \F{a}^*, \R{c}}                  & \mapsto f(\F{a}^*, \R{c}), \\
			\tup{ \F{b}^*, \R{c}}                  & \mapsto g(\F{b}^*, \R{c}),
		\end{aligned}
	\end{equation}
	and represented as in~\cref{fig:coproductdp}.
\end{definition}

\begin{figure}[h!]
	\begin{center}
		\includesag{52_coproduct}
	\end{center}
	\caption{Diagrammatic representation of the coproduct of design problems. }
	\label{fig:coproductdp}
\end{figure}

\begin{definition}[Product of design problems]
	\label{def:product-dp}
	Given design problems~$f\colon \F{C} \profto \R{A}$,~$g \colon \F{C} \profto \R{B}$, their \emph{product}~$(f \Ctimes g)\colon \F{C} \profto \R{A} + \R{B}$ is defined by
	\begin{equation}
		\begin{aligned}
			(f \Ctimes g)
			\colon \F{C}\op  \times (\R{A} + \R{B}) & \toinPos \Bool,            \\
			\tup{\F{c}^*, \R{a}}                    & \mapsto f(\F{c}^*, \R{a}), \\
			\tup{\F{c}^*, \R{b}}                    & \mapsto g(\F{c}^*, \R{b}),
		\end{aligned}
	\end{equation}
	and represented as in~\cref{fig:productdp}.
\end{definition}

\begin{figure}[h!]
	\begin{center}
		\includesag{52_product}
	\end{center}
	\caption{Diagrammatic representation of the product of design problems. }
	\label{fig:productdp}
\end{figure}

To show that~$A + B$ is in fact a biproduct in the categorical sense, we need to show that it satisfies certain properties.
These properties guarantee that the biproduct is the most ``efficient'' way of combining two objects in~$~\DP$ in a certain sense, and that the resulting combination is unique when it exists.
Specifically, we need to show that~$A + B$ is both a product~$\tup{+, \pi_A, \pi_B}$ and a coproduct~$\tup{+, \iota_A, \iota_B}$ in~\DP, and satisfies an extra coherence condition:~$\pi_B \circ \iota_B = \id_B$.

\begin{ctdefinition}[Initial and terminal object]
	Let~\CatC be a category and let~$A \in \CatC$ be an object.
	We say that~$A$ is an \emph{initial object} if, for all~$B \in\CatC$, the hom-set~$\Hom_\CatC(A,B)$ has exactly one element.
	We say that~$A$ is a \emph{terminal object} if, for all~$D\in\CatC$, the hom-set~$\Hom_\CatC(D,A)$ has exactly one element.
\end{ctdefinition}

\begin{ctdefinition}[Finite coproducts and products]
	We say that~\CatC \emph{has finite coproducts} if it has an initial object and every pair of objects in~\CatC has a coproduct.
	We say that~\CatC \emph{has finite products} if it has a terminal object and every pair of objects in~\CatC has a product.
\end{ctdefinition}

\begin{example}
	The category~\Pos has finite coproducts and finite products.
	The coproduct~$\sqcup_\Pos$ is the disjoint union~$+$.
	The product~$\times_Pos$ is the Cartesian product~$\times$.
\end{example}

\begin{lemma}
	The category~\DP has finite coproducts and finite products.
	The coproduct~$\sqcup_\DP$ is the disjoint union~$+$ (\cref{def:disjoint-union}).
	The product~$\times_\DP$ is also the disjoint union~$+$.
\end{lemma}

\begin{proof}
	Let~$\inj_\setA$ be the injection of posets~$\setA \to \setA+\setB$.
	We define the design problems
	\begin{equation}
		\begin{aligned}
			\comp{\iota_A} \colon \F{A} & \profto \R{A} + \R{B}                     \\
			\tup{\F{a}^*,\R{c}}         & \mapsto \iota_A(\F{a})\ordleq_{A+B}\R{c},
		\end{aligned}
	\end{equation}
	and
	\begin{equation}
		\begin{aligned}
			\comp{\iota_B} \colon \F{B} & \profto \R{A} + \R{B}                     \\
			\tup{\F{b}^*,\R{c}}         & \mapsto \iota_B(\F{b})\ordleq_{A+B}\R{c}.
		\end{aligned}
	\end{equation}

	Recall the coproduct of design problems in \cref{def:coproduct}.
	To show that~$A+B$ is a coproduct (of posets) in~\DP, we need to show that the coproduct~$f \sqcup g$ of design problems is unique and that it satisfies~$f = \comp{\iota_A} \then (f \sqcup g)$ and~$g = \comp{\iota_B} \then (f \sqcup g)$.
	This can be verified by simply writing out the composition.
	In the following we denote~$\ordleq_{A+B}$ by $\ordleq$.
	One has
	\begin{equation}
		\begin{aligned}
			 & \left(\comp{\iota_A}\then (f\sqcup g)\right)(\F{a}^*,\R{c})                               \\&=\bigvee_{x' \in A+B}\comp{\iota_A}(\F{a}^*,\R{x'})\wedge (f\sqcup g)(\F{x'}^*,\R{c})\\
			 & =\bigvee_{\disunionA{x} \in A+B}
			\left(\iota_A(\F{a})\ordleq\disunionA{\R{x}}\right)\wedge  f(\F{x}^*,\R{c})  \vee \bigvee_{\disunionB{x} \in A+B}
			\left(\iota_A(\F{a})\ordleq \disunionB{\R{x}}\right)\wedge  g(\F{x}^*,\R{c})                 \\
			 & =\bigvee_{\disunionA{x} \in A+B}
			\left( \left(\F{a}\ordleq \R{x}\right) \wedge  f(\F{x}^*,\R{c})\right) \vee \bigvee_{\disunionB{x} \in A+B}
			\left( \false \wedge  g(\F{x}^*,\R{c}) \right)                                               \\
			 & =\bigvee_{\disunionA{x} \in A+B} \left(\F{a}\ordleq \R{x}\right) \wedge  f(\F{x}^*,\R{c}) \\
			 & =\bigvee_{x\in A}\left( \F{a}\ordleq \R{x}\right) \wedge f(\F{x}^*,\R{c})                 \\
			 & =\left( \id_A \then f\right)\tup{\F{a}^*,\R{c}}                                           \\
			 & =f(\F{a}^*,\R{c}).
		\end{aligned}
	\end{equation}
	Similarly:
	\begin{equation}
		\begin{aligned}
			 & \left(\comp{\iota_B}\then (f\sqcup g)\right)(\F{b}^*,\R{c})                               \\&=\bigvee_{x' \in A+B}\comp{\iota_B}(\F{b}^*,\R{x})\wedge (f\sqcup g)(\F{x}^*,\R{c})\\
			 & =\bigvee_{\disunionA{x} \in A+B}
			\left(\iota_B(\F{b})\ordleq\disunionA{\R{x}}\right)\wedge  f(\F{x}^*,\R{c})  \vee \bigvee_{\disunionB{x} \in A+B}
			\left(\iota_B(\F{b})\ordleq \disunionB{\R{x}}\right)\wedge  g(\F{x}^*,\R{c})                 \\
			 & =\bigvee_{\disunionA{x} \in A+B}
			\left(\false \wedge  f(\F{x}^*,\R{c})\right) \vee \bigvee_{\disunionB{x} \in A+B}
			\left(\left(\F{b}\ordleq \R{x}\right) \wedge  g(\F{x}^*,\R{c}) \right)                       \\
			 & =\bigvee_{\disunionB{x} \in A+B} \left(\F{b}\ordleq \R{x}\right) \wedge  g(\F{x}^*,\R{c}) \\
			 & =g(\F{b}^*,\R{c}).
		\end{aligned}
	\end{equation}

	The proof that the disjoint union~$+$ is also a categorical product in~\DP is analogous, now with~$f \colon \F{C} \profto \R{A}$,~$g \colon \F{C} \profto \R{B}$, and replacing the injections~$\iota_A$ with projections:
	\begin{equation}
		\begin{aligned}
			\comp{\pi_A} \colon \F{A}+\F{B} & \profto \R{A}                        \\
			\tup{\F{c}^*,\R{a}}             & \mapsto \pi_A(\F{c})\ordleq_A \R{a},
		\end{aligned}
	\end{equation}
	and
	\begin{equation}
		\begin{aligned}
			\comp{\pi_B} \colon \F{A}+\F{B} & \profto \R{B}                        \\
			\tup{\F{c}^*,\R{b}}             & \mapsto \pi_B(\F{c})\ordleq_B \R{b},
		\end{aligned}
	\end{equation}
	and the coproduct~$f \sqcup g$ with the product (on morphisms)~$f \times g \colon \F{C} \profto \R{A} + \R{B}$ from~\cref{def:product-dp}.
	We have
	\begin{equation}
		\begin{aligned}
			 & \left((f\times g)\then \comp{\pi_A}\right)(\F{c}^*,\R{a})                                                         \\
			 & =\bigvee_{x'\in A+B} (f\times g)(\F{c}^*,\R{x'}) \wedge \comp{\pi_A}(\F{x'}^*,\R{a})                              \\
			 & =\bigvee_{\disunionA{x}\in A+B}\left( f(\F{c}^*,\R{x}) \wedge \comp{\pi}_A(\disunionA{\F{x}}^*,\R{a})\right) \vee
			\bigvee_{\disunionB{x}\in A+B}\left( g(\F{c}^*,\R{x}) \wedge \comp{\pi}_A(\disunionA{\F{x}}^*,\R{a})\right)          \\
			 & =\bigvee_{\disunionA{x}\in A+B}\left( f(\F{c}^*,\R{x}) \wedge (\F{x}\ordleq \R{a})\right) \vee
			\bigvee_{\disunionB{x}\in A+B}\left( g(\F{c}^*,\R{x}) \wedge \false \right)                                          \\
			 & =\bigvee_{\disunionA{x}\in A+B} f(\F{c}^*,\R{x}) \wedge (\F{x}\ordleq \R{a})                                      \\
			 & =f(\F{c}^*,\R{a}).
		\end{aligned}
	\end{equation}
	Similarly:
	\begin{equation}
		\begin{aligned}
			 & \left((f\times g)\then \comp{\pi_B}\right)(\F{c}^*,\R{b})                                                         \\
			 & =\bigvee_{x'\in A+B} (f\times g)(\F{c}^*,\R{x'}) \wedge \comp{\pi_B}(\F{x'}^*,\R{b})                              \\
			 & =\bigvee_{\disunionA{x}\in A+B}\left( f(\F{c}^*,\R{x}) \wedge \comp{\pi}_B(\disunionA{\F{x}}^*,\R{b})\right) \vee
			\bigvee_{\disunionB{x}\in A+B}\left( g(\F{c}^*,\R{x}) \wedge \comp{\pi}_B(\disunionB{\F{x}}^*,\R{b})\right)          \\
			 & =\bigvee_{\disunionA{x}\in A+B}\left( f(\F{c}^*,\R{x}) \wedge \false \right) \vee
			\bigvee_{\disunionB{x}\in A+B}\left( g(\F{c}^*,\R{x}) \wedge (\F{x}\ordleq \R{b}) \right)                            \\
			 & =\bigvee_{\disunionB{x}\in A+B} g(\F{c}^*,\R{x}) \wedge (\F{x}\ordleq \R{b})                                      \\
			 & =g(\F{c}^*,\R{b}).
		\end{aligned}
	\end{equation}
\end{proof}

\begin{remark}
	Where it is clear from context, we will not distinguish between the injection of posets~$\iota_A$ and its corresponding design problem~$\comp{\iota_A}$, and refer to both by~$\iota_A$.
	The same holds for the projections~$\pi_A$ and~$\comp{\pi_A}$.
\end{remark}

\begin{table}[b]
	\begin{small}
		\begin{center}
			\begin{tabular}{llll}
				Category              & \Set                 & \Pos               & \DP             \\
				\hline
				Objects               & sets                 & posets             & posets          \\
				Morphisms             & functions            & monotone functions & design problems \\
				Product (objects)     & Cartesian product    & Cartesian product  & disjoint union  \\
				Product (morphisms)   & (not used)           & (not used)         & $\times_\DP$    \\
				Coproduct (objects)   & disjoint union       & disjoint union     & disjoint union  \\
				Coproduct (morphisms) & (not used)           & (not used)         & $\sqcup_\DP$    \\
				Biproduct (morphisms) & none                 & none               & disjoint union  \\
				Tensor Product        & $\times$ or~$\sqcup$ & $\times$           & $\times$        \\
				Initial object        & $\emptyset$          & $\emptyset$        & $\emptyset$     \\
				Terminal object       & $\singleton$         & $\singleton$       & $\singleton$
			\end{tabular}
		\end{center}
	\end{small}
	\caption{A comparison of \Pos, \Set, and \DP.
	}
\end{table}

% \begin{comment}
\begin{table}[b]
	\resizebox{\textwidth}{!}{
		\begin{tabular}{ccccccccccc}
			category          &
			objects           & morphisms                   &
			product (ob)      & product (morph)             & coproduct (ob) & coproduct (morph)
			                  & biproduct (morph)
			                  & tensor product
			                  &
			initial
			                  & terminal                                                           \\
			\hline

			\Set              &
			sets              & functions                   &
			Cartesian product & (not used)                  & disjoint union & (not used)        &
			none
			                  & $\times$ \emph{or} $\sqcup$
			                  &
			$\emptyset$
			                  & $\{\ast\}$                                                         \\

			\Pos              &
			posets            & monotone maps               &
			Cartesian product & (not used)                  & disjoint union & (not used)
			                  &
			none
			                  & $\times$
			                  &
			$\emptyset$
			                  & $\{\ast\}$                                                         \\

			\DP               &
			posets            & design problems             &
			disjoint union    & $\times_\DP$                & disjoint union & $\sqcup_\DP$
			                  &
			disjoint union
			                  & $\times$
			                  &
			$\emptyset$
			                  & $\{\ast\}$                                                         \\

			% category &
			% objects & morphisms &
			% product & coproduct & biproduct & tensor product
			% initial  & terminal\\
		\end{tabular}}
	\caption{A comparison of \Pos, \Set, and \DP.}
\end{table}
% \end{comment}

\begin{ctdefinition}[Zero object and morphism]
	We call an object that is both initial and terminal the \emph{zero object} and we indicate it as~$0$.
	For any other pairs of objects~$A, B\in\CatC$, there is a unique morphism of the form~$A \to 0\to B$; we call it the \emph{zero morphism} and denote it~$0_{A,B}\colon A \to B$.
\end{ctdefinition}

\begin{example}
	\Pos has an initial object~$\emptyset$ and a terminal object~$\singleton$, but no zero object.
\end{example}

\begin{lemma}
	In the category~\DP, the empty poset~$\emptyset$ is a zero object.
	The zero morphism~$0_{\F{\cP},\R{\cQ}}\colon \F{\cP} \profto \R{\cQ}$ is the design problem that is always infeasible.
\end{lemma}
\begin{proof}
	First of all,~$\emptyset$ is an initial object in~$\$DP$.
	Indeed, for any poset~$\cP $, there is a unique design problem~$\F{\emptyset} \profto \R{\cP}$ given by the unique monotone map~$\emptyset=\F{\emptyset}\op\times \R{\cP} \to\Bool$.
	Similarly, there is a unique design problem~$\F{\cP} \profto \R{\emptyset}$, so~$\emptyset$ is also terminal.
	For any posets~$\cP ,\cQ$, the zero map~$0 \colon \F{\cP} \profto \R{\cQ}$ is the monotone map~$\F{\cP} \op\times \R{\cQ} \toinPos \Bool$ sending everything to~$\false$.
\end{proof}

\begin{ctdefinition}[Biproduct]
	\label{def:biproduct}
	Let~\CatC be a category with a zero-object~$0$, and let~$C_1,C_2\in\CatC$ be objects.
	Suppose that~$\tup{D,\pi_1,\pi_2,\injA,\injB}$ is a tuple such that~$\tup{D,\pi_1,\pi_2}$ is a product of~$C_1$ and~$C_2$ and~$\tup{D,\injA,\injB}$ is a coproduct of~$C_1$ and~$C_2$.
	We say that it is a \emph{biproduct} if, for each~$1\ordleq i,j\ordleq 2$, we have
	\begin{equation}
		\iota_i\then \pi_j=
		\begin{cases}
			\id_{C_i}, & \text{ if }i=j,     \\
			0,         & \text{ if }i\neq j,
		\end{cases} \label{eq:biproduct-condition}
	\end{equation}
	as maps~$C_i\to C_j$ in~\CatC.
\end{ctdefinition}

\begin{lemma}
	The disjoint union is a biproduct for~\DP.
\end{lemma}
\begin{proof}
	We have already shown that the disjoint union is both a product and a coproduct.
	We just need to verify that~\cref{eq:biproduct-condition} holds for the design problems~$\pi_A, \pi_B, \iota_A, \iota_B$.
	This amounts to checking the four conditions:
	\begin{equation}
		\begin{aligned}
			(\iota_A\then \pi_A)
			                     & = \id_{A}, \\
			(\iota_A\then \pi_B) & = 0_{A,B}, \\
			(\iota_B\then \pi_A) & = 0_{B,A}, \\
			(\iota_B\then \pi_B) & = \id_{B}.
		\end{aligned}
	\end{equation}
	We check only the first two, as the other two are similar.
	To check the second condition, we compute an explicit expression for~$(\iota_A\then \pi_B)\colon \F{A} \profto \R{B}$, using the definition of design problem series composition:
	\begin{equation}
		\begin{aligned}
			(\iota_A\then \pi_B)
			\colon  \F{A}\op\times \R{B} & \toinPos \Bool \\
			\tup{\F{x}^*, \R{z}}         & \mapsto
			\bigvee_{y \in A + B} \iota_A(\F{x}^*,\R{y}) \wedge \pi_B(\F{y}^*,\R{z}).
		\end{aligned}
	\end{equation}
	We can do a case analysis for~$y\in A+B$.
	Suppose~$y\in A$.
	Then~$\pi_B(\F{y}^*,\R{z}) = \false$.
	If~$y \in B$, then~$\iota_A(\F{x}^*,\R{y}) = \false$.
	Therefore, the sum is always false, and hence~$(\iota_A\then \pi_B) = 0_{A,B}$.
	For the first condition, we compute an explicit expression for~$(\iota_A\then \pi_A) \colon \F{A} \profto \R{A}$:
	\begin{equation}
		\begin{aligned}
			(\iota_A\then \pi_A)
			\colon  \F{A}\op\times \R{A} & \toinPos \Bool \\
			\tup{\F{x}^*, \R{z}}         & \mapsto
			\bigvee_{y \in A + B} \iota_A(\F{x}^*,\R{y}) \wedge \pi_A(\F{y}^*,\R{z}).
		\end{aligned}
	\end{equation}
	%Note that we are summing over $y \in A + B$.
	Let us divide the ``sum'' in two parts:
	\begin{equation}
		\bigvee_{y \in A} \iota_A(\F{x}^*,\R{y}) \wedge \pi_A(\F{y}^*,\R{z}) \quad\vee\quad
		\bigvee_{y \in B} \iota_A(\F{x}^*,\R{y}) \wedge \pi_A(\F{y}^*,\R{z}).
	\end{equation}
	For~$y \in B$,~$\iota_A(\F{x}^*,\R{y})$ and~$\pi_A(\F{y}^*,\R{z})$ are both false, and we can therefore ignore the second sum.
	From the definition of~$\iota_A$ we have that for~$y\in A$,~$ \iota_A(\F{x}^*,\R{y})=\F{x} \ordleq_A \R{y}$, and from the definition of~$\pi_A$ we have that for~$y\in A$, $\pi_A(\F{y}^*,\R{z})=\F{y} \ordleq_A \R{z}$.
	Thus we compute:
	\begin{equation}
		\begin{aligned}
			\left(\iota_A\then \pi_A\right)(\F{x}^*, \R{z}) & = \bigvee_{y \in A} \iota_A(\F{x}^*,\R{y}) \wedge \pi_A(\F{y}^*,\R{z})      \\
			                                                & = \bigvee_{y \in A} (\F{x} \ordleq_A \R{y}) \wedge  (\F{y} \ordleq_A \R{z}) \\
			                                                & = \F{x} \ordleq_A \R{z}                                                     \\
			                                                & = \id_A(\F{x}^*, \R{z})
		\end{aligned}
	\end{equation}
\end{proof}

\section{Relationship between intersection and monoidal prodcut}
To define the precise relationship between the monoidal product~$f \otimes g$ (\cref{def:monoidalproduct}) and the intersection~$f \wedge g$, we first define two operations,~$\mathsf{split} \colon \F{A} \profto \R{A} \times \R{A}$ and~$\mathsf{fuse} \colon \F{A} \times \F{A} \profto \R{A}$, which correspond to splitting and fusing wires in a diagram:
\begin{equation}
	\begin{aligned}
		\mathsf{split} \colon \F{A}\op \times (\R{A} \times \R{A}) & \to_\Pos \Bool                                                 \\
		\tup{\F{x}^*, \tup{\R{y}, \R{z}}}                          & \mapsto (\F{x} \ordleq_A \R{y}) \wedge (\F{x} \ordleq_A \R{z})
	\end{aligned}
\end{equation}
~
\begin{equation}
	\begin{aligned}
		\mathsf{fuse} \colon (\F{A} \times \F{A})\op \times \R{A} & \to_\Pos \Bool                                                  \\
		\tup{ \tup{\F{x}^*, \F{y}^*}, \R{z}}                      & \mapsto (\F{x} \ordleq_A \R{z}) \wedge (\F{y} \ordleq_A \R{z}).
	\end{aligned}
\end{equation}

\begin{lemma}
	\label{lem:intersection_split}
	For~$f,g \colon \F{A} \profto \R{B}$,
	\begin{equation}
		f \wedge g = \mathsf{split} \then (f \otimes g) \then \mathsf{fuse},
	\end{equation}
	as shown in~\cref{fig:lemmasplitfuse}.
	\begin{figure}[h!]
		\begin{center}
			\includesag{50_split_1_2}
		\end{center}
		\caption{$f \wedge g = \mathsf{split} \then (f \otimes g) \then \mathsf{fuse}$. }
		\label{fig:lemmasplitfuse}
	\end{figure}
\end{lemma}

\begin{proof}
	Recall that
	\begin{equation}
		(f\otimes g)(\tup{\F{a_1},\F{a_2}}^*,\tup{\R{b_1},\R{b_2}})
		=f(\F{a_1}^*,\R{b_1})\wedge g(\F{a_2}^*,\R{b_2}).
	\end{equation}
	We have
	\begin{equation}
		\begin{aligned}
			 & \left(\left(f\otimes g\right) \then \mathsf{fuse}\right)(\tup{\F{a_1},\F{a_2}}^*,\R{b})                                                          \\
			 & =\bigvee_{\tup{b',b''}\in B\times B}(f(\F{a_1}^*,\R{b'})\wedge g(\F{a_2}^*,\R{b''}))\wedge ((\F{b'}\ordleq \R{b}) \wedge (\F{b''}\ordleq \R{b})) \\
			 & =f(\F{a_1}^*,\R{b})\wedge g(\F{a_2}^*,\R{b}).
		\end{aligned}
	\end{equation}
	Thus, we have
	\begin{equation}
		\begin{aligned}
			 & (\mathsf{split}\then f\otimes g\then \mathsf{fuse})(\F{a}^*,\R{b})                                                                          \\&=\bigvee_{\tup{a',a''}\in A\times A} \mathsf{split}(\F{a}^*,\tup{\R{a'},\R{a''}})\wedge (f(\F{a'}^*,\R{b})\wedge g(\F{a''}^*,\R{b}))\\
			 & =\bigvee_{\tup{a',a''}\in A\times A}(\F{a}^*\ordleq \R{a'})\wedge (\F{a}^*\ordleq \R{a''})\wedge f(\F{a'}^*,\R{b})\wedge g(\F{a''}^*,\R{b}) \\
			 & =f(\F{a}^*,\R{b})\wedge g(\F{a}^*,\R{b})                                                                                                    \\
			 & =(f\wedge g)(\F{a}^*,\R{b}).
		\end{aligned}
	\end{equation}
\end{proof}

Is ``$X \times Y$'' the same as ``$Y \times X$''?
It depends on the context.
Intuitively, for the categories of resources treated in this work, we would not make a distinction between ``having~$X$ and~$Y$'' and ``having~$Y$ and~$X$''.
However, there are contexts in which this is not valid.
For example, if we are using~$X \times Y$ to mean that we will have the resource~$X$ today, and the resource~$Y$ tomorrow, then~$Y \times X$ would not be the same as~$X \times Y$.

In the contexts in which this symmetry holds, we call the category ``symmetric monoidal'': we will talk about this more in detail later in the book.

The word ``symmetric'' is well-suited, because to say that the two objects are equivalent, or ``isomorphic'', we can postulate that we always have a way to get
``$X \times Y$'' starting from ``$Y \times X$'' and viceversa.
Diagrammatically, this is depicted by the two arrows that connect them~(\cref{fig:e17}).

\begin{figure}[h!]
	\centering
	\includesag{30_dpcatfig_e17}
	\caption{Objects equivalence in the symmetric case. }
	\label{fig:e17}
\end{figure}

\todotextjira{389}{@J: \JL{This opening bit seems confusing/misleading to me.
		I can edit/correct later; also I would move it to the section on monoidal products.
	}\AC{yes, move to the part on monoidal products, when talking about symmetry}}
