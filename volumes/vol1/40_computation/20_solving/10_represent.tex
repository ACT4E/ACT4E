\section{Finite co-design problems}

If we want a computable algorithm for solving co-design queries, it is necessary that the solution can be finitely representable.
One way to do this is to zero-in on those design problems that are guaranteed, by construction, to have a finite solution.
This is what we do in this section.
In the next chapters, we will see how we can construct bounded finite solutions to non-finitely-representable DPs.

In the \FixFunMinRes queries, the solution lives in an upper set of resources.
We now look at upper sets that can be represented as the upper closure of a finite antichains.

\begin{definition}[Finitely-supported upper sets]
    \label{def:fuppersets}
    Given a poset~$\posA$, we call an upper set~$\subA \setin \uppersets \posA$ finitely supported
    if it can be written as the upper closure of a finite antichain:
    \begin{equation}
        \subA = (\upit\RR), \text{ for } \RR \setin \antichains \posA, \cardof\RR < \infty.
    \end{equation}
    We call~$\fuppersets \posA$ the set of finitely-supported upper sets of a poset~$\posA$.
    We call~$\fantichains \posA$ the set of finite antichains.
\end{definition}

\begin{definition}[Finite design problems]
    \label{def:finite_des_prob}
    We call a design problem finite if, in its representation~$\ftoR \colon \funsp \to \uppersets \ressp$,
    ~$\ftor(\fun) \setin \fuppersets\ressp$ for all~$\fun\setin\funsp$.
\end{definition}

We show that finite co-design problems form a subcategory of~\DP that is also monoidal and locally posetal.
(Note that we are leaving out ``traced'' for now.) To show this, we just need to check that all the ways to compose finite DPs result in finite DPs.
The formulas that we derive work also describe an algorithm to compute the solution to the queries.

\begin{definition}[Category of finite design problems \DPfinite]
    \index{\DPfinite|textbf}
    \label{def:DPfinite}
    The \emph{\iindex{category of finite design problems} \DPfinite} consists of the following constituents:
    \begin{enumerate}
        \item \emph{Objects}: The objects of~\DP are posets.
        \item \emph{Morphisms}: The morphisms of~\DP are \emph{finite} design problems (\cref{def:finite_des_prob}).
        \item \emph{Identity morphism}: The identity morphism~$\funid_\posgenA \colon \funposA \profto \resposA$ is as in \DP.
        \item \emph{Composition operation}: Given morphisms~$\adpa \colon  \funposA \profto \resposB$ and~$\adpb \colon \funposB \profto \resposC$, their composition~$\adpa \dpthen \adpb\colon \funposA\profto \resposC$ is as in \DP.
    \end{enumerate}
\end{definition}
\todotextjira{710}{\alphubel: @Gioele: show properties above.}
