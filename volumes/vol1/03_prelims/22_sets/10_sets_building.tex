% !TEX root = chapter-standalone.tex

\section{New sets from old}

In this section we recall some elementary ways of constructing new sets from old.
%
The idea of \emph{constructing} new things from old things is one of the main themes of the book.

\subsection{Union and intersection}
The union of two sets is the set containing elements from either of the two.
\begin{ctdefinition}[Union of sets]
    \label{def:union-of-sets}
    \SYNDEF{union of sets}
    Given sets~\setA and~\setB, their \emph{union} is a new set, denoted~$\setA \setunion \setB$, characterized by
    \begin{equation}
        \prfdoubleperiod{
            \ela \setin(\setA \setunion \setB)
        }{
            \ela \setin\setA \quad \boolor \quad  \ela \setin\setB
        }
    \end{equation}
\end{ctdefinition}

For example, if~$\setA = \makeset{ \sapple, \sgrapes }$ and~$\setB = \makeset{ \stea }$, then
\begin{equation}
    \setA \setunion \setB = \makeset{ \sapple, \sgrapes, \stea }.
\end{equation}

% Or, if~$\setA = \makeset{ \sapple, \sgrapes, \scarrot }$ and~$\setB = \makeset{ \sapple, \scarrot, \swater }$, then
% \begin{equation}
%     \setA \setintersection \setB = \makeset{ \sapple, \scarrot }.
% \end{equation}

Similarly, the intersection of two sets is the set of elements common to both.

\begin{ctdefinition}[Intersection of sets]
    \label{def:intersection-of-sets}
    \SYNDEF{intersection of sets}
    The \emph{intersection} of sets~\setA and~\setB, denoted~$\setA \setintersection \setB$, is the set characterized by
    \begin{equation}
        \prfdoubleperiod{
            \ela \setin(\setA \setintersection \setB)
        }{
            \ela \setin\setA \quad \booland \quad \ela \setin\setB
        }
    \end{equation}
\end{ctdefinition}

So, if~$\setA = \makeset{ \sapple, \sgrapes, \scarrot, \stea }$ and~$\setB = \makeset{ \stea, \sgrapes, \swater }$, then
\begin{equation}
    \setA \setintersection \setB = \makeset{ \stea, \sgrapes }.
\end{equation}

\todojira{607}{\bernina: @JL: add exercises about the commutativity and associativity of union and intersection}

\subsection{Powerset}
\SYNDEF{powerset}
\label{sec:power-set}

\begin{ctdefinition}[Power set]
    \label{def:power-set}
    Given a set~\setA, we can form a new set whose elements are precisely all the subsets of~\setA.
    This new set is called the \emph{powerset} of~\setA; we denote it by~$\powerset \setA$.
\end{ctdefinition}

For example, if~$\setA = \makeset{ \sapple, \scarrot, \sgrapes }$, then its \SY{powerset} is
\begin{equation}
    \powerset \setA = \makeset{ \Emptyset, \makeset{ \sapple }, \makeset{ \scarrot }, \makeset{ \sgrapes}, \makeset{ \sapple, \scarrot }, \makeset{ \scarrot, \sgrapes }, \makeset{ \sapple, \sgrapes}, \makeset{ \sapple, \scarrot, \sgrapes } }.
\end{equation}

\begin{exercise}
    Can you count how many elements the \SY{powerset}~$\powerset \setA$ has in the following cases?
    \begin{enumerate}
        \item $\setA = \makeset{ \sapple } $.
        \item $\setA = \makeset{ \sapple, \scarrot } $.
        \item $\setA = \makeset{ \sapple, \scarrot, \sgrapes } $.
        \item $\setA = \Emptyset $.
    \end{enumerate}
    Can you guess a general formula for the size of the \SY{powerset} of a finite set?
\end{exercise}

\begin{solution}
    We have:
    \begin{enumerate}
        \item 2.
        \item 4.
        \item 8.
        \item 1.
    \end{enumerate}
    In general, the size of~$\powerset \setA$ is~$2$ to the power of the size of~\setA.
\end{solution}

Now suppose we fix a set~\setA for a moment.
Given~$\subA \setin\powerset \setA$, the \emph{complement} of~$\subA$ with respect to~\setA is
\begin{equation}
    \setA \backslash \subA = \makeset{ \ela \setin\setA \mid \ela \notsetin \subA },
\end{equation}
which is again an element of~$\powerset \setA$.
In situations where it is evident which ambient set~\setA we are working with, the notation~$\compl{\subA}$ is sometimes used instead of~$\setA \backslash \subA$.

We also note that the operations of union and intersection, when restricted to~$\powerset \setA$, again produce elements of~$\powerset \setA$.
That is, if~$\subA, \subB \setin\powerset \setA$, then~$\subA \setunion \subB \setin\powerset \setA$, and similarly~$\subA \setintersection \subB \setin\powerset \setA$.

The operations~$\setunion$,~$\setintersection$, and~$\compl{( - )}$ on~$\powerset \setA$ obey various rules which are useful to be familiar with.
For example,
\begin{equation}
    \compl{(\subA \setintersection \subB)} = (\compl{\subA}) \setunion (\compl{\subB}).
\end{equation}
Can you state more such rules?
A useful visual aid for such calculations are so-called Venn diagrams.

\todojira{608}{\bernina: Include an example Venn diagram as a figure.}

\begin{gradedexercise}[\exname{DistributingSubsets}]
    \label{ex:distributing-subsets}
    Let~\setA be a set, and let~$\subA, \subB, \subC \setsubseteq \setA$ be subsets.
    Prove that
    \begin{equation}
        \subA \setintersection (\subB \setunion \subC) = (\subA \setintersection \subB) \setunion (\subA \setintersection \subC).
    \end{equation}
\end{gradedexercise}

\solutionof{DistributingSubsets}

\subsection{Tuples}
\label{sec:tuples}

A ``tuple'' is a finite sequence or listing of ``things'' where their order matters and repetitions are allowed.
We use the following notation to denote a tuple of numbers, for example:
\begin{equation}
    \tup{3.5, \shortminus 2, 7, 68}.
\end{equation}

Tuples always have a \emph{length}, which can be any natural number.
A tuple of length~$n \setin \natnumbers$ is called an $n$-tuple.
There is only one possible tuple of length zero; we call it the empty tuple and denote it by~$\emptytuple$.

Tuples of length two are often called \emph{ordered pairs} or just \emph{pairs};
tuples of length three are called \emph{triples};
tuples of length four are called \emph{quadruples}, and so on.

We concatenate tuples using the symbol $\tupconcat$:
\begin{equation}
    \tup{a,b} \tupconcat \tup{c} \tupconcat \emptytuple = \tup{a,b,c}.
\end{equation}

The items inside the brackets that indicate a tuple will be called \emph{entries} or \emph{components}.
If~$t$ is a tuple of length~$n$, then~$\tupentry{t}{i}$ will refer to the~$i^{\text{th}}$ entry of~$t$, where~$1 \leq i \leq n$.
So, for example, if
\begin{equation}
    t = \tup{2,9,\shortminus1, 3, 6}
\end{equation}
then~$\tupentry{t}{1} = 2$,~$\tupentry{t}{2} = 9$,~$\tupentry{t}{3} = \shortminus1$, \etc

Typically, we use tuples in situations where we also specify, for each entry of the tuple, a set of which that entry is an element.
For example, if~$\setA = \makeset{ \sapple, \scarrot, \sgrapes}$ and~$\setB = \makeset{ \stea, \swater }$, then sometimes we will want to specify that~$\tupp{\sapple, \swater}$ is a 2-tuple where~$\sapple \setin\setA$ and~$\swater \setin\setB$.

% Or, we might be considering pairs~$\tup{\styleobj{V}, \stylemorph{A}}$ where~$\styleobj{V}$ is a real \SY{vector space} and~$\stylemorph{A}\colon \styleobj{V} \sto \styleobj{V}$ is a real linear map.

\subsection{Lists}
\label{sec:lists}

Our notion of \emph{list} is similar to that of a tuple, except that we require its entries to all be elements of a single specified set or to be all things of a specified type.

We will use the notation
\begin{equation}
    \maketypedlist{3, 7, 8}{\natnumbers}
\end{equation}
to denote a list of natural numbers, for example, and
\begin{equation}
    \maketypedlist{3, 7, 8}{\reals}
\end{equation}
to denote a list of real numbers.
Often it will be clear which type of things we are dealing with, in which case we drop the subscript in our notation and simply write
\begin{equation}
    \makelist{3, 7, 8}.
\end{equation}

We concatenate lists using the symbol $\listconcat$:
\begin{equation}
    \makelist{1,3} \tupconcat \emptylist \listconcat \makelist{5,7} = \makelist{1,3,5,7}.
\end{equation}

Of course, the type of things we consider need not be numbers.
For example, we might work with lists whose entries are from the set~$\setA = \makeset{\sapple, \sbanana, \scarrot, \sbretzel, \sgrapes}$.
Such a list is~$\maketypedlist{\sgrapes, \sapple, \scarrot, \sapple}{\setA}$, for instance.

Similar to tuples, lists can have any length~$n \setin \natnumbers$, including zero.
The entries of a list~$l$ of length~$n$ will be denoted~$\listentry{t}{i}$, where~$1 \leq i \leq n$.

In contrast to tuples, we have a different empty list (zero-length list) for every possible type of list.
The empty list of things of a given type~$T$ will be denoted~$\maketypedlist{\ }{T}$.

The set of all lists of elements of $\setA$ is written as $\listsof\setA$.

\subsection{Cartesian product}
\label{sec:cartesian-product}
\begin{ctdefinition}[Cartesian product of sets]
    \label{def:cartesian-product}
    \SYNDEF{cartesian product}
    Given sets~\setA and~\setB, their \emph{cartesian product} is a new set -- denoted~$\setA \cartprod \setB$ -- whose elements are precisely all possible 2-tuples~$\tup{\ela, \elb}$ such that the first entry~$\ela$ is an element of~\setA and the second entry~$\elb$ is an element of~\setB.
\end{ctdefinition}
For example, if~$\setA = \makeset{ \sapple, \sgrapes, \scarrot}$ and~$\setB = \makeset{ \stea, \swater }$, then
\begin{equation}
    \setA \cartprod \setB = \makesett{ \tup{\sapple, \stea}, \tup{\sapple, \swater}, \tup{\sgrapes, \stea}, \tup{\sgrapes, \swater},  \tup{\scarrot, \stea}, \tup{\scarrot, \swater}}.
\end{equation}

In the special case where~$\setA = \Emptyset$ or~$\setB = \Emptyset$, then~$\setA \cartprod \setB = \Emptyset$.

Another way to represent the \SY{cartesian product} is the following:
%
\equationsag{30_cartprod_repr}{eq:fig_cartprod_repr}

%The above defines the cartesian product of two sets.
%In fact we have a notion of $n$-fold cartesian product for any $n \setin \natnumbers$.
%Given sets~$\setA_1, \setA_2, \ldots, \setA_n$,
%\begin{equation}\label{eq:nfold-cart-prod}
%    \setA_1 \cartprod \setA_2 \cartprod \dots \cartprod \setA_n
%\end{equation}
%is the set of $n$-tuples~$\tup{\ela_1, \ldots, \ela_n}$ with~$\ela_i \setin\setA_i$ for all~$i = 1,2,\ldots,n$.
%
%\begin{example}
%    The vector spaces $\reals^n$ that we know and love are $n$-fold cartesian products of the set $\reals$ with itself.
%    In other words, a set of the form \ref{eq:nfold-cart-prod}, with $\setA_1, = \setA_2 = \dots = \setA_n = \reals$.
%\end{example}

\begin{remark}
    For finite sets~\setA and~\setB, the size of~$\setA \cartprod \setB$ is the product (multiplication) of the sizes of~\setA and~\setB:
    \begin{equation}
        \cardof{\setA \cartprod \setB}  = \cardof\setA  \cdot \cardof \setB.
    \end{equation}
    This is one reason why we think of~$\setA \cartprod \setB$ as a kind of multiplication of sets.
\end{remark}

\begin{remark}[Do you want to be more formal?]
    In formal set theory, 2-tuples (ordered pairs) are often defined by setting
    \begin{equation}
        \label{eq:ordered-pair}
        \tup{\ela, \elb} \definedas \makeset{ \makeset{\ela }, \makeset{ \ela, \elb } }.
    \end{equation}
    In this case, the \SY{cartesian product} is
    \begin{equation}
        \setA \cartprod \setB = \makeset{ \elc \setin\powerset \powerset (\setA \setunion \setB) \mid \exists \ela \setin\setA, \exists \elb \setin\setB : \elc = \tup{\ela, \elb} }.
    \end{equation}
    Formulas similar to \cref{eq:ordered-pair} could also be used to define $n$-tuples set-theoretically.
    We will, however, treat tuples as a primitive construction (\ie, without reference to formal set theory), and hence for us also the construction of ``\SY{cartesian product of sets}'' is primitive.
\end{remark}

\subsection{Disjoint union}
\label{sec:disjoint-union}
\begin{ctdefinition}[Disjoint union of sets]
    \label{def:disjoint-union-of-sets}
    Given sets~\setA and~\setB, their \SY{disjoint union} is the set
    \begin{equation}
        \setA \setdisunion \setB \definedas (  \makeset{ 1 } \cartprod \setA) \setunion ( \makeset{2}  \cartprod \setB).
    \end{equation}
\end{ctdefinition}
In other words, an element of~$\setA \setdisunion \setB$ is either a tuple~$\disunionA{\ela}$ for some~$\ela \setin\setA$ or a tuple $\disunionB{\elb}$ for some~$\elb \setin\setB$.
The sets~$\makeset{ 1 }$ and~$\makeset{2}$ here simply provide labels which ``force'' the sets~$\makeset{ 1 }  \cartprod \setA$ and~$ \makeset{2}  \cartprod \setB$ to be disjoint (even if~\setA and~\setB have elements in common).

%As a simple example, let~$\setA = \makeset{ \sapple, \sgrapes, \scarrot}$ and~$\setB = \makeset{ \stea, \swater }$.
%Then
%\begin{equation}
%    \setA \setdisunion \setB = \makeset{ \disunionA{\sapple}, \disunionA{\sgrapes}, \disunionA{\scarrot}, \disunionB{\stea},  \disunionB{\swater}}.
%\end{equation}

%Or consider~$\setA \setdisunion \setA$, say.
%By definition, this is~$(\makeset{ 1 } \cartprod \setA) \setunion (\makeset{2} \cartprod \setA)$, so if~$\setA = \makeset{ \sapple, \sgrapes, \scarrot}$, then
%\begin{equation}
%    \setA \setdisunion \setA = \makeset{ \disunionA{\sapple}, \disunionA{\sgrapes}, \disunionA{\scarrot}, \disunionB{\sapple}, \disunionB{\sgrapes}, \disunionB{\scarrot} }.
%\end{equation}

Consider the sets~$\setA=\makeset{\sbretzel, \stea}$ and~$\setB=\makeset{\sfondue, \smilk}$.
Their \SY{disjoint union} can be represented as:
%
\equationsag{30_disjoint_union}{eq:fig_disjoint}
%
We can define the \SY{disjoint union} of a set with itself; this corresponds to having two distinct copies of the set:
%
\equationsag{30_disjoint_union_self}{eq:fix_disjointself}
%
Let us also think about what happens when the empty set is at play.
For example, if~$\setA = \Emptyset$, then~$\Emptyset \setdisunion \setB =  \makeset{2} \cartprod \setB$, and similarly~$\setA \setdisunion \Emptyset =  \makeset{ \disunionA{\ela} \mid \ela \setin\setA }$.
Also,~$\Emptyset \setdisunion \Emptyset = \Emptyset$.

\begin{remark}
    If~\setA and~\setB are finite, then the size of~$\setA \setdisunion \setB$ is the sum of the sizes of~\setA and~\setB:
    \begin{equation}
        \cardof{ \setA \setdisunion \setB} = \cardof \setA  + \cardof \setB.
    \end{equation}
    This is a reason why we think of~$\setA \setdisunion \setB$ as a form of addition of sets.
\end{remark}

\begin{remark}
    Later we will see that the \SY{cartesian product} of sets is a special case of a very general construction in \SY{category theory}, called the \SY{categorical product}, and that the \SY{disjoint union} of sets is a special case of a ``dual'' construction, called coproduct.
\end{remark}
