% !TEX root = chapter-standalone.tex

\section{Transpose of a relation}
\linkvideo{spring2021-relations:relations:trans-rel} % Transposition of relations

One can notice a certain duality in the properties listed in \cref{def:rel_properties}.
This is made more precise through the following definition.

\begin{ctdefinition}[Transpose of a relation]
    \label{def:relation-transpose}
    \SYNDEF{opposite of a relation}
    Let~$\relA\colon \setA\mto \setB$ be a relation.
    We define its \emph{transpose} (or \emph{opposite}, or \emph{reverse})~$\relA\reltransp\colon \setB \mto \setA$ as follows:
    \begin{equation}
        \prfdoubleperiod{
            \inrel \ela \relA \elb
        }{
            \inrel \elb {\relA\reltransp} \ela
        }
    \end{equation}
\end{ctdefinition}
\begin{remark}
    \label{re:rel-op-properties}
    Here are some useful properties of a relation~$\relA\colon \setA \sto \setB$ and its opposite~$\relA\reltransp\colon \setB \sto \setA$:
    \begin{enumerate}
        \item $\pars{\relA\reltransp} \reltransp = \relA $;
        \item \relA is \SY{everywhere-defined} if and only if~$\relA\reltransp$ is \SYN{surjective relation}{surjective};
        \item \relA is \SY{single-valued} if and only if~$\relA\reltransp$ is \SYN{injective relation}{injective}.
        \item \relA is \SY{everywhere-defined} if and only if~$\catidat\setA\setsubseteq \relA \mthen \relA\reltransp$;
        \item \relA is \SY{single-valued} if and only if~$\relA\reltransp\mthen \relA\setsubseteq \catidat\setB$.
              \todomistake{\alphubel: @JL: we have not defined the ``identity relation''}
    \end{enumerate}
\end{remark}

\begin{marginfigure}
    \centering
    \includesag{030_rel_transpose}
    \caption{}
    \label{fig:rel_transpose}
\end{marginfigure}
 
\begin{marginfigure}
    \centering
    \includesag{030_rel_transpose_bis}
    \caption{}
    \label{fig:rel_transpose_bis}
\end{marginfigure}

\begin{remark}
    The aforementioned duality can be seen by ``reading the relations (arrows) backwards'' (\cref{fig:rel_transpose,fig:rel_transpose_bis}).
\end{remark}

\vfill
\begin{gradedexercise}[\exname{RelProperties}]
    \label{ex:RelProperties}
    Provide a proof of each of the properties listed in \cref{re:rel-op-properties}.
\end{gradedexercise}
\solutionof{RelProperties}

