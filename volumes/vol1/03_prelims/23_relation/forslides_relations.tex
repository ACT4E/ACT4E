% !TEX root = chapter-standalone.tex

\section{Lecture slides materials}

\subsection{Section: Distribution networks}

\subsection{Section: Relations}

\showslides{
    \begin{forslides}
        \includesag{30_rel_identity}

        \begin{equation}
            \setA = \makeset{ \sbretzel, \sfondue, \schoco } \label{eq:slides-1}
        \end{equation}

        \begin{equation}
            \setB = \makeset{ \stea, \smilk, \swater, \swine } \label{eq:slides-2}
        \end{equation}

        \begin{equation}
            \setC = \makeset{ \elc_1, \elc_2  } \label{eq:slides-4}
        \end{equation}

        \begin{equation}
            \relA \setsubseteq \setA \cartprod \setB \label{eq:slides-5}
        \end{equation}

        \begin{equation}
            \relB \setsubseteq \setB \cartprod \setC \label{eq:slides-6}
        \end{equation}

        \begin{equation}
            \relA = \makeset{ \tup{\sbretzel, \stea}, \tup{\sfondue, \swater}, \tup{\sbretzel, \swine} } \setsubseteq \setA \cartprod \setB \label{eq:slides-7}
        \end{equation}
        %
        \begin{equation}
            \relB = \makeset{ \tup{\sfondue, \elc_1}, \tup{\sfondue, \elc_2} } \setsubseteq \setA \cartprod \setB \label{eq:slides-8}
        \end{equation}
        %
        \begin{equation}
            \relA \then \relB = \makeset{ \tup{\sfondue, \elc_1}, \tup{\sfondue, \elc_2} } \setsubseteq \setA \cartprod \setB \label{eq:slides-9}
        \end{equation}
        %
        \begin{center}
            $R =$ ``$\leq$'', on $\natnumbers $ \label{eq:slides-10}
        \end{center}

        \begin{center}
            $R =$ ``$\leq$'', on $\reals^2 $ \label{eq:slides-11}
        \end{center}

        \begin{center}
            $R =$ ``is married to'', on the set of British royals \label{eq:slides-11a}
        \end{center}

        \begin{equation}
            \setA = \setB = \reals^2 \label{eq:slides-12}
        \end{equation}

        \begin{center}
            $\relA =$ ``$\leq$''  \label{eq:slides-13}
        \end{center}

        \begin{equation}
            \tup{\sbretzel, \sfondue} \leq \tup{\stea, \smilk} \quad \Leftrightarrow \quad \sbretzel \leq \stea \text{ and } \sfondue \leq \smilk \label{eq:slides-14}
        \end{equation}

        \begin{equation}
            \ela \relA \elb \definedas \tup{\ela, \elb} \setin \relA  \label{eq:slides-15}
        \end{equation}
        %
        \begin{equation}
            \sbretzel \relA \stea \label{eq:slides-16}
        \end{equation}

        \begin{equation}
            \sfondue \relA \swater \label{eq:slides-17}
        \end{equation}

        \begin{equation}
            \sfondue \relA \swine \label{eq:slides-18}
        \end{equation}

        A relation $\relA \setsubseteq \setA \cartprod \setB$ is ``the same thing'' as a function $\phi : \setA \cartprod \setB \sto \makeset{\true, \false}$.

        A relation $\relA \setsubseteq \setA \cartprod \setB$ is ``the same thing'' as a function $h : \setA  \sto \powerset (\setB)$.

        \begin{equation}
            f : X \to Y
        \end{equation}

        \begin{equation}
            R_f \definedas \makeset{ \tup{x, y} \setin X \cartprod Y \mid y = f(x) }
        \end{equation}

    \end{forslides}
}

\begin{forslides}

    \begin{equation}\label{eq:slides_session2_76}
        \relA \colon \setA \to \setB
    \end{equation}
    \begin{equation}\label{eq:slides_session2_77}
        \setA = \makeset{ \sbretzel, \sfondue, \schoco }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_78}
        \setB = \makeset{ \stea, \smilk, \swater, \swine }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_79}
        \relA = \makeset{ \tup{\sbretzel, \stea}, \tup{\sfondue, \swater}, \tup{\sbretzel, \swine} } \setsubseteq \setA \cartprod \setB
    \end{equation}
    \begin{equation}\label{eq:slides_session2_80}
        \tup{\ela,\elb} \setin \setA \cartprod \setB
    \end{equation}
    \begin{equation}\label{eq:slides_session2_81}
        \tup{\ela,\elb} \setin \relA
    \end{equation}
    \begin{equation}\label{eq:slides_session2_82}
        \tup{\ela,\elb}\setin \relA
    \end{equation}
    \begin{equation}\label{eq:slides_session2_83}
        \inrel \ela \relA \elb \ \definedas\  \tup{\ela,\elb}\setin \relA
    \end{equation}

    \subsection{Section: Composing relations}

    \begin{equation}\label{eq:slides_session2_84}
        \relB \colon \setB \to \setC
    \end{equation}
    \begin{equation}\label{eq:slides_session2_85}
        \relA \mthen \relB \colon \setA \mto \setC
    \end{equation}
    \begin{equation}\label{eq:slides_session2_86}
        \inrel \ela {(\relA \mthen \relB)} \elc
    \end{equation}
    \begin{equation}\label{eq:slides_session2_87}
        \elb \setin \setB
    \end{equation}
    \begin{equation}\label{eq:slides_session2_88}
        \inrel \ela \relA \elb
    \end{equation}
    \begin{equation}\label{eq:slides_session2_89}
        \inrel \elb \relB{\elc}
    \end{equation}
    \begin{equation}\label{eq:slides_session2_90}
        \tup{\ela,\elc}
    \end{equation}
    \begin{equation}\label{eq:slides_session2_91}
        \ela
    \end{equation}
    \begin{equation}\label{eq:slides_session2_92}
        \elc
    \end{equation}
    \begin{equation}\label{eq:slides_session2_93}
        \sfondue
    \end{equation}
    \begin{equation}\label{eq:slides_session2_94}
        \swater
    \end{equation}
    \begin{equation}\label{eq:slides_session2_95}
        \sapple
    \end{equation}
    \begin{equation}\label{eq:slides_session2_96}
        \sfondue
    \end{equation}
    \begin{equation}\label{eq:slides_session2_97}
        \sapple
    \end{equation}
    \begin{equation}\label{eq:slides_session2_98}
        \relA \mthen \relB \definedas \makeset{\tup{\ela,\elc} \setin \setA \cartprod \setC \mid  \exists \elb \setin \setB \colon \left(\inrel{\ela}{\relA}{\elb} \right) \booland \left(\inrel{\elb}{\relB}{\elc}\right)}
    \end{equation}

    \subsection{Section: Relations and functions}

    \begin{equation}\label{eq:slides_session2_99}
        \ela \setin \setA \quad \exists \ \elb \setin \setB\colon  \inrel{\ela}{\relA}{\elb}
    \end{equation}
    \begin{equation}\label{eq:slides_session2_100}
        \inrel{\elna{1}}{\relA}{\elnb{1}}, \inrel{\elna{2}}{\relA}{\elnb{2}}
    \end{equation}
    \begin{equation}\label{eq:slides_session2_101}
        \prfperiod{\elna{1} = \elna{2}}{\elnb{1} = \elnb{2}}
    \end{equation}
    \begin{equation}\label{eq:slides_session2_102}
        \mapa (\sbretzel) = \stea, \ \mapa (\sfondue) = \swater, \ \mapa(\schoco) = \swine
    \end{equation}
    \begin{equation}\label{eq:slides_session2_103}
        \makeset{ \tup{\sbretzel, \stea}, \tup{\sfondue, \swater}, \tup{\schoco, \swine} } \setsubseteq \setA \cartprod \setB
    \end{equation}
    \begin{equation}\label{eq:slides_session2_104}
        \mapa \colon \setA \to \setB
    \end{equation}
    \begin{equation}\label{eq:slides_session2_105}
        \makeset{ \tup{\ela,\elb} \setin \setA \cartprod \setB \mid \elb= \mapa(\ela) }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_106}
        \relA \setsubseteq \setA \cartprod \setB
    \end{equation}
    \begin{equation}\label{eq:slides_session2_107}
        \mapa_\relA \colon \setA \to \setB
    \end{equation}

    \subsection{Composing functions}

    \begin{equation}\label{eq:slides_session2_108}
        \relB \setsubseteq \setB \cartprod \setC
    \end{equation}
    \begin{equation}\label{eq:slides_session2_109}
        \relA \mthen \relB \setsubseteq \setA \cartprod \setC
    \end{equation}

    \subsection{Relations via functions}

    \begin{equation}\label{eq:slides_session2_110}
        \setA \cartprod \setB \sto \makeset{ \false, \true }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_111}
        \phi_{\relA} \colon \setA \cartprod \setB \sto \makeset{ \false, \true }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_112}
        \phi_{\relA}(\tup{\ela, \elb}) =
        \left\{\begin{array}{lr}
            \true  & \text{if } \inrel{\ela}{\relA}{\elb} \\
            \false & \text{otherwise.
            }
        \end{array}
        \right\}.
    \end{equation}
    \begin{equation}\label{eq:slides_session2_113}
        \phi\colon \setA \cartprod \setB \sto \makeset{ \false, \true }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_114}
        \relA_{\phi} \setsubseteq \setA \cartprod \setB
    \end{equation}
    \begin{equation}\label{eq:slides_session2_115}
        \relA_{\phi} = \makeset{ \tup{\ela, \elb} \setin \setA \cartprod \setB \mid \phi_{\relA}(\tup{\ela, \elb}) = \true }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_116}
        \relA \colon \setA \mto \setB
    \end{equation}
    \begin{equation}\label{eq:slides_session2_117}
        \setA  \sto \powerset (\setB)
    \end{equation}
    \begin{equation}\label{eq:slides_session2_118}
        \hat \phi_{\relA} \colon \setA \sto \powerset (\setB)
    \end{equation}
    \begin{equation}\label{eq:slides_session2_119}
        \hat \phi_{\relA} (\ela) = \makeset{ \elb \setin \setB \mid \inrel{\ela}{\relA}{\elb}}
    \end{equation}
    \begin{equation}\label{eq:slides_session2_120}
        \hat \phi \colon \setA \sto \powerset (\setB)
    \end{equation}
    \begin{equation}\label{eq:slides_session2_121}
        \relA_{\hat \phi} = \makeset{ \tup{\ela, \elb} \setin \setA \cartprod \setB \mid \elb \setin \hat \phi_{\relA}(\ela)   }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_122}
        \check \phi_{\relA} \colon \setB \sto \powerset (\setA)
    \end{equation}
    \begin{equation}\label{eq:slides_session2_123}
        \check \phi_{\relA} (\elb) = \makeset{ \ela \setin \setA \mid \inrel{\ela}{\relA}{\elb}}
    \end{equation}
    \begin{equation}\label{eq:slides_session2_124}
        \check \phi \colon \setB \sto \powerset (\setA)
    \end{equation}
    \begin{equation}\label{eq:slides_session2_125}
        \relA_{\check \phi} = \makeset{ \tup{\ela, \elb} \setin \setA \cartprod \setB \mid \ela \setin \check \phi_{\relA}(\elb)}
    \end{equation}

    \subsection{Section: Properties of relations}

    \begin{equation}\label{eq:slides_session2_126}
        \prf{
            \inrel \ela \relA \elb
        }{
            \inrel \elc \relA \elb
        }{
            \ela=\elc
        }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_127}
        \prf{
            \inrel \ela \relA \elb
        }{
            \inrel \ela \relA \eld
        }{
            \elb = \eld
        }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_128}
        \elb\setin \setB
    \end{equation}
    \begin{equation}\label{eq:slides_session2_129}
        \ela\setin \setA
    \end{equation}
    \begin{equation}\label{eq:slides_session2_130}
        \inrel{\ela}{\relA}{\elb}
    \end{equation}
    \begin{equation}\label{eq:slides_session2_131}
        \ela\setin \setA
    \end{equation}
    \begin{equation}\label{eq:slides_session2_132}
        \elb \setin \setB\colon \inrel{\ela}{\relA}{\elb}
    \end{equation}

    \subsection{Section: Transpose of a relation}

    \begin{equation}\label{eq:slides_session2_133}
        \relA\reltransp\colon \setB \mto \setA
    \end{equation}
    \begin{equation}\label{eq:slides_session2_134}
        \prfdouble{
            \inrel \ela \relA \elb
        }{
            \inrel \elb {\relA\reltransp} \ela
        }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_135}
        \left(\relA\reltransp\right)\reltransp = \relA
    \end{equation}
    \begin{equation}\label{eq:slides_session2_136}
        \relA\reltransp
    \end{equation}
    \begin{equation}\label{eq:slides_session2_137}
        \catid_\setA\setsubseteq \relA \mthen \relA\reltransp
    \end{equation}
    \begin{equation}\label{eq:slides_session2_138}
        \relA\reltransp\mthen \relA\setsubseteq \catid_\setB
    \end{equation}

    \subsection{Section: Endorelations}

    \begin{equation}\label{eq:slides_session2_139}
        \prftree{\true}{\inrel{\ela}{\relA}{\ela}}
    \end{equation}
    \begin{equation}\label{eq:slides_session2_140}
        \prftree{\true}{\inrel{\ela}{\relA}{\elb} \boolor \inrel{\elb}{\relA}{\ela}}
    \end{equation}
    \begin{equation}\label{eq:slides_session2_141}
        \prfdouble{
            \inrel \ela \relA \elb
        }{
            \inrel \elb \relA \ela
        }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_142}
        \prftree{\inrel{\ela}{\relA}{\elb}}{\inrel{\ela}{\relA}{\elb}}{\inrel{\ela}{\relA}{\elc}}
    \end{equation}
    \begin{equation}\label{eq:slides_session2_143}
        \prftree{
            \inrel \ela \relA \ela
        }{
            \false
        }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_144}
        \prftree{
            \inrel \ela \relA \elb
        }{
            \inrel \elb \relA \ela
        }{
            \false
        }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_145}
        \prftree{
            \inrel \ela \relA \elb
        }{
            \inrel \elb \relA \ela
        }{
            \ela = \elb
        }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_146}
        \relA\colon \setA \mto \setA
    \end{equation}
    \begin{equation}\label{eq:slides_session2_147}
        \relstyle{=}_\setA
    \end{equation}
    \begin{equation}\label{eq:slides_session2_148}
        \relstyle{=}_\setA \definedas \makeset{\tup{\ela,\elb}\setin \setA\cartprod \setA \mid \ela=\elb}
    \end{equation}
    \begin{equation}\label{eq:slides_session2_149}
        \relstyle{\leq} \definedas  \makeset{\tup{\ela,\elb}\setin \natnumbers\cartprod \natnumbers\mid \ela \leq \elb}
    \end{equation}
    \begin{equation}\label{eq:slides_session2_150}
        \prfdouble{
            \inrel \ela \relA \elb
        }{
            \inrel \elb \relA \ela
        }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_151}
        \prf{
            \inrel \ela \relA \elb
        }{
            \inrel \elb \relA \ela
        }{
            \false
        }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_152}
        \prf{
            \inrel \ela \relA \elb
        }{
            \inrel \elb \relA \ela
        }{
            \ela = \elb
        }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_153}
        \prf{\true}{\inrel{\ela}{\relA}{\ela}}
    \end{equation}
    \begin{equation}\label{eq:slides_session2_154}
        \prf{
            \inrel \ela \relA \ela
        }{
            \false
        }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_155}
        \prf{
            \true
        }{
            (\inrel\ela\relA\elb )\,\boolor\, (\inrel\elb\relA\ela)
        }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_156}
        \prf{
            \inrel \ela \relA \elb
        }{
            \inrel \elb \relA \elc
        }{
            \inrel \ela \relA \elc
        }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_157}
        \relA\transclos
    \end{equation}

    \subsection{Equivalence relations}

    \begin{equation}\label{eq:slides_session2_158}
        \ela\sim \elb \Leftrightarrow \inrel{\ela}{\relA}{\elb}
    \end{equation}
    \begin{equation}\label{eq:slides_session2_159}
        \prf{
            \ela\sim \elb
        }{
            \mapa(\ela)=\mapa(\elb)
        }
    \end{equation}
    \begin{equation}\label{eq:slides_session2_160}
        \makeset{\setA_i}_{i\setin I}
    \end{equation}
    \begin{equation}\label{eq:slides_session2_161}
        \setA_i\setsubseteq \setA
    \end{equation}
    \begin{equation}\label{eq:slides_session2_162}
        \setA_i\setintersection \setA_j=\Emptyset \quad \forall i\neq j
    \end{equation}
    \begin{equation}\label{eq:slides_session2_163}
        \bigsetunion_{i\setin I}\setA_i=\setA
    \end{equation}

    %\begin{equation}\label{eq:slides_session2_164}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_165}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_166}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_167}
    %
    %\end{equation}
    %\begin{equation}\label{slides_session2_168}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_169}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_170}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_171}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_172}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_173}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_174}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_175}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_176}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_177}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_178}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_179}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_180}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_181}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_182}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_183}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_184}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_185}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_186}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_187}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_188}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_189}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_190}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_191}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_192}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_193}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_194}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_195}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_196}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_197}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_198}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_199}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_200}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_201}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_202}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_203}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_204}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_205}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_206}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_207}
    %
    %\end{equation}
    %\begin{equation}\label{eq:slides_session2_208}
    %
    %\end{equation}
    % \begin{equation}\label{eq:slides_session2_209}
    %
    %\end{equation}

\end{forslides}
