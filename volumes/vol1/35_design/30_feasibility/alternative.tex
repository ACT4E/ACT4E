\section{Alternative ways to define composition}

For any~\setA, if we have~$\setAel_0\setin \setA$ then~$\stylemaps{s}(\setAel)\posleq\bigvee_{\setAel\setin \setA}\stylemaps{s}(\setAel)$.
One can also check that for any~$\posBel\setin\Bool$ or, more generally, any set of booleans~$\stylemaps{t}\colon \setB \sto\Bool$, we have
\begin{widepar}
    \begin{equation}
        \bigvee_{\setAel\setin \setA}(\posBel\booland \stylemaps{s}(\setAel))=\posBel\booland\pars{\bigvee_{\setAel\setin \setA}\stylemaps{s}(\setAel)}
        \qqand
        \bigvee_{\tup{\setAel,\setBel}\setin \setA\cartprod \setB}\big(\stylemaps{s}(\setAel)\booland \stylemaps{t}(\setBel)\big)=\pars{\bigvee_{\setAel\setin \setA}\stylemaps{s}(\setAel)}\booland\pars{\bigvee_{\setBel\setin \setB} \stylemaps{t}(\setBel)}.
    \end{equation}
\end{widepar}

\subsection{Integrating over pairs}
As an alternative to \cref{eq:composition2}, rather than taking the ``or'' ($\boolor$) over an element~$\resposBel$, we can iterate over pairs~$\resposBel_1,\funposBel_2$ such that~$\resposBel_1\posleq\funposBel_2$:
\begin{equation}
    \label{eq:composition}
    \defmapperiod{
        \adpab
    }{
        \funposA\posop \Ptimes \resposC
    }{
        \toinPos
    }{
        \Bool
    }{
        \tup{\funposAopel, \resposCel}
    }{
        \bigvee_{\resposBel_\R{1}\posleq\funposBel_\F{2}, \resposBel_\R{1},\funposBel_\F{2}\setin \posB} \adpa(\funposAopel,\resposBel_\R{1}) \booland \adpb(\funposBel^{\F{*}}_\F{2},\resposCel)
    }
\end{equation}

\begin{exercise}
    \label{ex:composition_equivalency}
    Prove that~\cref{eq:composition2} and \cref{eq:composition} are equivalent.
\end{exercise}
%
\begin{solution}
    First consider the direction~\cref{eq:composition}~$\Imp$ \cref{eq:composition2}.
    In order for%
    \begin{equation}
        \bigvee_{\resposBel_\R{1}\posleq\funposBel_\F{2}, \resposBel_\R{1},\funposBel_\F{2}\setin \posB} \adpa(\funposAopel,\resposBel_\R{1}) \booland \adpb(\funposBel_\F{2}\Fop,\resposCel)%
    \end{equation}
    to be true, there should exist some~$\resposBel_\R{1}\posleq \funposBel_\F{2}$ for which~$\adpa(\funposAopel,\resposBel_\R{1}) \booland\adpb(\funposBel_\F{2}\Fop,\resposCel)$ is true.
    However, due to the monotonicity of~$\adpa$,~$\adpa(\funposAopel,\resposBel_\R{2}) \booland \adpb(\funposBel_\F{2}\Fop,\resposCel)$ and \cref{eq:composition2} must be true as well.
    On the other hand, if%
    \begin{equation}
        \bigvee_{\resposBel_\R{1}\posleq\funposBel_\F{2}, \resposBel_\R{1},\funposBel_\F{2}\setin \posB} \adpa(\funposAopel,\resposBel_\R{1}) \booland \adpb(\funposBel_\F{2}\Fop,\resposCel)%
    \end{equation}
    is false, then due to the equality, it is false for any~$\resposBel_\R{1}=\funposBel_\F{2}$, and therefore all inner terms of \cref{eq:composition2} must be false as well.

    The other direction, \cref{eq:composition2}~$\Imp$ \cref{eq:composition}, can be shown similarly.
    If \cref{eq:composition2} is true, then there must exist a~$\posBel'$ such that~$\adpa(\funposAopel, \R{\posgenBel'})=\true$ and~$\adpb(\F{\posgenBel'^*}, \resposCel)=\true$.
    Then, the inner term in \cref{eq:composition} is true for~$\resposBel_\R{1}=\funposBel_\F{2}=\posBel'$.
    If \cref{eq:composition2} is false, then there is no such~$\posBel'$ for which both~$\adpa(\funposAopel, \R{\posgenBel'})$ and~$\adpb(\F{\posgenBel'^*}, \resposCel)$ are true, but then due to the monotonicity of~$\adpa$ and~$\adpb$ they also cannot be true for any~$\resposBel_\R{1} \posleq \funposBel_\F{2} = \posBel'$ or~$\posBel'=\resposBel_\R{1} \posleq \funposBel_\F{2}$.
    Hence, \cref{eq:composition} must also be false.
\end{solution}

At first sight, \cref{eq:composition} might seem like a more verbose version of \cref{eq:composition2}.
However, assume that we have the means to obtain the minimal \SY{antichain} of the feasible set of resources that provide~$\funposA$ for the first term:
\begin{equation}
    \resposB_\adpa = \Min \makeset{\resposBel\setin \resposB \mid \adpa(\funposAopel,\resposBel)=\true} \setin \antichains \resposB.
\end{equation}
This represents the minimal resources with which~$\adpa$ can provide~$\funposA$.
Assume further that we similarly have the means to obtain the maximal \SY{antichain} of the feasible set of functionalities that~$\resposCel$ provides for the second term
\begin{equation}
    \funposB_\adpb = \Max \makeset{\funposBel\setin \funposB \mid \adpb(\funposBopel,\resposCel)=\true} \setin \antichains \funposB,
\end{equation}
which represents the maximal functionality that~$\adpb$ can provide given~$\resposCel$.
Then, \cref{eq:composition} implies that it suffices to only evaluate
\begin{equation}
    \bigvee_{\substack{\resposBel_\R{1}\posleq\funposBel_\F{2} \\ \resposBel_\R{1}\setin \resposB_\adpa,~ \funposBel_\F{2}\setin\funposB_\adpb }} \adpa(\funposAopel,\resposBel_\R{1}) \booland \adpb(\funposBel_\F{2}\Fop,\resposCel),
\end{equation}
which can be much more efficient than iterating over all~$\posBel\setin \posB$.
