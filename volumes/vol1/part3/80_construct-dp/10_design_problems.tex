% !TEX root = standalone.tex


\section{Creating design problems from catalogues [to change]}
\label{sec:spans}

\todostructure{We don't need this anymore because we define DPIs like this. However we can make this as a section that
says, DPIs are spans, and DPI serial composition is like composition of spans. }
\begin{ctdefinition}[Span]
  \label{def:span}
  Given a category~\CatC, a \emph{\iindex{span}} from an object~$x$ to an object~$y$ is a diagram of the form
  \begin{equation}
    \includesag{51_span}
  \end{equation}
  where~$z$ is some other object of~\CatC.
\end{ctdefinition}

\begin{example}
  Consider the category~\Berg, introduced in \cref{sec:trekking}. An example of span in this category is reported in~\cref{fig:exmountains}.
  \begin{figure}[h!]
    \begin{center}
      \includesag{130_mountains}
    \end{center}
    \caption{Swiss peaks can be thought of as a span in~\Berg. \label{fig:exmountains}}
  \end{figure}
  Recall that \textsf{Matterhorn Peak}, \textsf{Jungfrau Peak}, and \textsf{Pilatus Peak} are objects of~\Berg, and the arrows are morphisms in~\Berg (paths from one location to the other).
\end{example}

\begin{definition}[Catalogue]
  \label{def:catalogue}
  A \emph{catalogue} is a span in~\Pos.
  It thus consists of 3 posets~$\impsp$,~$\F{F}$,~$\RR$.
  We call them implementation space, functionality space, and requirements space, respectively. We need to define two maps~$\prov \colon I \to \F{F}$ (an implementation \textbf{prov}ides a functionality) and~$\req\colon I \to \RR$ (an implementation \textbf{req}uires resources):
  \begin{equation*}
    \includesag{130_catalogue}
  \end{equation*}
\end{definition}

\begin{definition}[Design problem induced by a catalogue]
  Every catalogue~$\tup{\impsp,\prov,\req}$ \emph{induces} a design problem of the form~$d\colon \F{F}\profto \RR$, with
  \begin{equation*}
    \begin{aligned}
      d\colon \F{F}\op \times \RR&\to \Bool\\
      \tup{\F{f}^*,\R{r}}&\mapsto \bigvee_{\imp\in \impsp}\left(\prov(\imp)\ordgeq_{\F{F}}\F{f} \right)\wedge \left( \req(i)\ordleq_{\RR}\R{r}\right)
    \end{aligned}
  \end{equation*}
\end{definition}
