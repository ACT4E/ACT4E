%!TEX root = ../main.tex
\section{Motivation}

\begin{frame}[fragile]{Thinking formally about currency exchangers}
\begin{center}
    \begin{tikzpicture}
    \node[block,rounded corners=0.1cm,ultra thick] (cur) at (0,0) {\textbf{\begin{tabular}{c}Currency\\[-3pt] Exchanger\end{tabular}}};
    
    \visible<3->{\draw[->] ($(cur.west)+(-1,0)$) -- (cur.west);
    \node at (-4.25,0) {$\tup{50,\text{USD}}\in \mathbb{R}\times \{\text{USD}\}$};}
    \visible<4->{
    \node at (4.25,0) {$\tup{?,\text{CHF}}\in \mathbb{R}\times \{\text{CHF}\}$};
     \draw[->] (cur.east) --++ (1,0);}
    \visible<2->{\node at (0,1.5) {$\{ \text{EUR},\text{USD},\text{CHF},\text{SGD},\hdots\}$};}
    %\draw[-] (cur.north) --++ (0,0.5);}
    \end{tikzpicture}
\end{center}
\visible<5->{
A currency exchanger from USD to CHF can be written as:
    \begin{equation*}
        \begin{aligned}
            E_{a,b}\colon \mathbb{R}\times \{\text{USD}\} &\to \mathbb{R}\times \{\text{CHF}\}\\
            \tup{x,\text{USD}}&\mapsto \tup{ax-b,\text{CHF}},
        \end{aligned}
    \end{equation*}
where $a$ is the \emph{exchange rate} and $b$ is the \emph{commission}.}\\
\vspace{0.5cm}
 \visible<6->{Assume you get 0.95 CHF for 1 USD and the commission is 2.0 CHF, i.e. $a=0.95$, $b=2.0$.}
\end{frame}

\begin{frame}[fragile]{Thinking formally about currency exchangers}
\begin{center}
    \begin{tikzpicture}
    \node[block,rounded corners=0.1cm,ultra thick] (cur) at (0,0) {\textbf{\begin{tabular}{c}Currency\\[-3pt] Exchanger\end{tabular}}};
   \draw[->] ($(cur.west)+(-1,0)$) -- (cur.west);
    \node at (-4.25,0) {$\tup{50,\text{USD}}\in \mathbb{R}\times \{\text{USD}\}$};
    
    \node at (4.25,0) {$\tup{\textcolor{red}{45.5},\text{CHF}}\in \mathbb{R}\times \{\text{CHF}\}$};
     \draw[->] (cur.east) --++ (1,0);
    \node at (0,1.5) {$\{ \text{EUR},\text{USD},\text{CHF},\text{SGD},\hdots\}$};
    %\draw[-] (cur.north) --++ (0,0.5);
    \end{tikzpicture}
\end{center}
A currency exchanger from USD to CHF can be written as:
    \begin{equation*}
        \begin{aligned}
            E_{a,b}\colon \mathbb{R}\times \{\text{USD}\} &\to \mathbb{R}\times \{\text{CHF}\}\\
            \tup{x,\text{USD}}&\mapsto \tup{ax-b,\text{CHF}},
        \end{aligned}
    \end{equation*}
where $a$ is the \emph{exchange rate} and $b$ is the \emph{commission}.\\
\vspace{0.5cm}
Assume you get 0.95 CHF for 1 USD and the commission is 2.0 CHF, i.e. $a=0.95$, $b=2.0$.
\end{frame}

\begin{frame}[fragile]{Composing currency exchangers}
\begin{center}
\begin{tikzpicture}
    \node[block,rounded corners=0.1cm,ultra thick] (first) at (0,0) {\textbf{ExchATM}};
    \node[block,rounded corners=0.1cm,ultra thick, right=3.5cm of first] (sec) {\textbf{Frankurrencies}};
    \draw[->] ($(first.west)+(-1,0)$) -- (first.west);
    \draw[->] (first.east) --++ (1,0);
    \draw[->] ($(sec.west)+(-1,0)$) -- (sec.west);
    \node at (-2.75,0) {$\tup{50,\text{USD}}$};
    \node at (2.75,0) {$\tup{?,\text{CHF}}$};
    \node at (8.75,0) {$\tup{?,\text{EUR}}$};
     \draw[->] (sec.east) --++ (1,0);
\end{tikzpicture}
\end{center}
\vspace{0.5cm}
\visible<2->{Given $E_{a,b}\colon \mathbb{R}\times \{ \text{USD}\}\to \mathbb{R}\times \{\text{CHF}\}$, and $E_{a',b'}\colon \mathbb{R}\times \{ \text{CHF}\}\to \mathbb{R}\times \{\text{EUR}\}$, we have:
\begin{equation*}
    \begin{aligned}
    E_{a,b}\then E_{a',b'}\colon \mathbb{R}\times \{\text{USD}\}&\to \mathbb{R}\times \{\text{EUR}\}\\
    \tup{x,\text{USD}}&\mapsto \tup{aa'x-a'b-b',\text{EUR}}
    \end{aligned}
\end{equation*}}
\end{frame}

\begin{frame}{Currency exchangers form a category}
    A currency category has:
    \begin{itemize}
        \item \emph{Objects}: A collection of currencies.
        \item \emph{Morphisms}: Currency exchangers.
        \item \emph{Identity morphism}: Identity currency exchanger (exchange rate 1 and 0 commission).
        \item \emph{Composition of morphisms}: Composition of currency exchangers.
    \end{itemize}
\end{frame}

\begin{frame}[fragile]{We can represent categories with graphs}
    \begin{center}
    \begin{adjustbox}{max width=0.65\textwidth, max height=0.2\textwidth}
    \begin{tabular}{c|c|c|c|c}
         Company name& Exchanger & Direction &exchange rate&fixed commission  \\
         \hline
         \textsf{ExchATM}&$A$&USD to CHF&\unitfrac[0.95]{CHF}{USD}&\unit[2.0]{CHF}\\
         \textsf{ExchATM}&$B$&CHF to USD&\unitfrac[1.05]{USD}{CHF}&\unit[1.5]{USD}\\
         \textsf{ExchATM}&$C$&USD to SGD&\unitfrac[1.40]{SGD}{USD}&\unit[1.0]{SGD}\\
         \textsf{MoneyLah}&$D$&USD to CHF&$\unitfrac[1.00]{CHF}{USD}$&\unit[1.0]{CHF}\\
         \textsf{MoneyLah}&$E$&SGD to USD&\unitfrac[0.72]{USD}{SGD}&\unit[3.0]{USD}  \\
        \textsf{Frankurrencies}&$F$& EUR to CHF&\unitfrac[1.20]{CHF}{EUR}&\unit[0.0]{CHF}\\
        \textsf{Frankurrencies}&$G$& CHF to EUR&\unitfrac[1.00]{EUR}{CHF}&\unit[1.0]{EUR}
    \end{tabular}
    \end{adjustbox}\\
    \pause
    \vspace{0.5cm}
    \begin{tikzcd}[column sep = 4cm, row sep = 1.5cm]
    \text{USD}\arrow[bend left=20, r,"A" description]\arrow[bend right=20, r,"D" description,swap]
    \arrow[d,bend left=20,"C" description]
    &\text{CHF}
    \arrow[d,bend left=20,"G" description]
    \arrow[l,"B" description]\\
    \text{SGD}\arrow[u,bend left=20,"E" description]&
    \text{EUR}
    \arrow[u,bend left=20,"F" description]
    \end{tikzcd}
\end{center}
\end{frame}

\begin{frame}[fragile]{We can represent categories with graphs}
    \begin{center}
    \begin{adjustbox}{max width=0.65\textwidth, max height=0.2\textwidth}
    \begin{tabular}{c|c|c|c|c}
         Company name& Exchanger & Direction &exchange rate&fixed commission  \\
         \hline
         \textsf{ExchATM}&$A$&USD to CHF&\unitfrac[0.95]{CHF}{USD}&\unit[2.0]{CHF}\\
         \textsf{ExchATM}&$B$&CHF to USD&\unitfrac[1.05]{USD}{CHF}&\unit[1.5]{USD}\\
         \textsf{ExchATM}&$C$&USD to SGD&\unitfrac[1.40]{SGD}{USD}&\unit[1.0]{SGD}\\
         \textsf{MoneyLah}&$D$&USD to CHF&$\unitfrac[1.00]{CHF}{USD}$&\unit[1.0]{CHF}\\
         \textsf{MoneyLah}&$E$&SGD to USD&\unitfrac[0.72]{USD}{SGD}&\unit[3.0]{USD}  \\
        \textsf{Frankurrencies}&$F$& EUR to CHF&\unitfrac[1.20]{CHF}{EUR}&\unit[0.0]{CHF}\\
        \textsf{Frankurrencies}&$G$& CHF to EUR&\unitfrac[1.00]{EUR}{CHF}&\unit[1.0]{EUR}
    \end{tabular}
    \end{adjustbox}\\
    \vspace{0.5cm}
    \begin{tikzcd}[column sep = 4cm, row sep = 1.5cm]
    \text{USD}\arrow[bend left=20, r,"A" description]\arrow[bend right=20, r,"D" description,swap]
    \arrow[bend right=20, dr, "A\then G" description, dotted,red]
    \arrow[d,bend left=20,"C" description]
    &\text{CHF}
    \arrow[d,bend left=20,"G" description]
    \arrow[l,"B" description]\\
    \text{SGD}\arrow[u,bend left=20,"E" description]&
    \text{EUR}
    \arrow[u,bend left=20,"F" description]
    \end{tikzcd}
\end{center}
\end{frame}