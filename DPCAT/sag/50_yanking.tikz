\begin{tikzpicture}[DP]
    \node[dp={2}{2},dp min width=1.5cm] (f) {};
    \draw[runconn, runame={$B$}] (f_res2){};
    \draw[funconn, funame={$A$}] (f_fun2){};
    \draw[rconn,rcname={},fcname={},feedback=1,loos=2] (f_res1) -- ($(f)+(0,6)$) |- (f_fun1);
    \node [black, right = 1.5cm of f.east] (equiv) {$\equiv$};
    \draw (f_fun2) to[in=180,out=0] (f_res1){};
    \draw (f_fun1) to[in=180,out=0] (f_res2){};
    \draw[rconn,rcname={$B$}, fcname={$A$}] ($(equiv)+(0.5,0)$) to ($(equiv)+(2,0)$){};
\end{tikzpicture}