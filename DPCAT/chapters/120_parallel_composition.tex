% !TEX root = ../CategoricalCoDesign.tex
\section{Parallel composition}
\todo{Move here the generic stuff from the next section.}
\section{Parallel composition in DP}
\subsection{$\DP$ is a monoidal category}
\begin{example}
After the X101 spontaneously combusted in low Earth orbit, the astronauts at Jeb's Spaceship Parts go on strike. They demand that the engineers take into account safety and living conditions on the future X102. As long as the propulsion and life support systems of the X102 do not interact, we can simply tensor the two design problems representing these systems into one, big co-design problem (\cref{fig:examplemonoidal}).
\begin{figure}[h!]
\begin{center}
\includesag{50_engine_tensor_1_2}
\end{center}
\caption{Example of tensor of design problems. \label{fig:examplemonoidal}}
\end{figure}
\end{example}
In $\DP$, putting two design problems in parallel corresponds to forming their \emph{monoidal product}. 

\begin{definition}[Monoidal product $\otimes$]\label{def:monoidalproduct}
Given two design problems $f \colon \F{A} \tickar \R{B}$ and $g \colon \F{C} \tickar \R{D}$,
the \emph{monoidal product} $f\otimes g \colon \F{A} \times \F{C} \tickar \R{B} \times \R{D}$ is their conjunction:
\begin{equation}
\begin{aligned}
f \otimes g \colon (\F{A} \times \F{C})\op \times (\R{B} \times \R{D}) & \toinPos \Bool, \\
\tup{\tup{\F{a},\F{c}}^*,\tup{\R{b},\R{d}}} &\mapsto f(\F{a}^*,\R{b}) \wedge g(\F{c}^*,\R{d}). 
\end{aligned}
\end{equation}
The diagrammatic representation of the monoidal product is reported in~\cref{fig:dpmonoidal}.
\begin{figure}[h!]
\begin{center}
\includesag{50_monoidal}
\end{center}
\caption{Monoidal product of design problems. \label{fig:dpmonoidal}}
\end{figure}
\end{definition}
\begin{remark}
For $f \colon \F{A} \tickar \R{B}$ and $g \colon \F{C} \tickar \R{D}$, the product $[f \otimes g](\langle \F{a}^*, \F{c}^*\rangle, \langle \F{b},\F{d} \rangle)$ is true if \emph{both} $f(\F{a}^*,\R{b})$ and $g(\F{c}^*,\R{d})$ are true, and false otherwise.
\end{remark}

The notion of monoidal product is formalized in category theory with the definition of monoidal category.
\begin{shaded}
\begin{definition}[Monoidal category]\label{def:monoidal_cat}
Given a category $\CatC$, a \emph{monoidal structure} on $\CatC$ consists of:
\begin{compactenum}
    \item An object $I\in \Ob(\CatC)$ called the \emph{monoidal unit}.
    \item A functor $\otimes \colon \CatC \times \CatC\to \CatC$, called the \emph{monoidal product}.
\end{compactenum}
The two constituents are subject to the natural isomorphisms:
\begin{compactenum}
    \item[a)] $\lambda_c \colon I\otimes c \cong c$ for every $c\in \Ob(\CatC)$,
    \item[b)] $\rho_c \colon c\otimes I \cong c$ for every $c\in \Ob(\CatC)$,
    \item[c)] $\alpha_{c,d,e}\colon (c\otimes d)\otimes e \cong c\otimes (d\otimes e)$ for every for every $c,d,e\in \Ob(\CatC)$.
\end{compactenum}
These isomorphisms are themselves required to satisfy the triangle identity
\begin{equation}
\includesag{30_triangle_identity}
\end{equation}
and the pentagon identity
\begin{equation}
\includesag{30_pentagon_identity}
\end{equation}
for $a,b,c,d\in \Ob(\CatC)$.
\noindent A category equipped with a monoidal structure is called a \emph{monoidal category}.
\end{definition}
\end{shaded}

\begin{lemma}
\label{lemma:monoidal_functorial}
The monoidal product $\otimes$ is functorial in $\DP$.
\end{lemma}
\begin{proof}
First, consider two posets $A,B\in \Ob_\DP$. We need to show that $\id_A\otimes \id_A = \id_{A\times B}$. It holds
\begin{equation}
\begin{aligned}
    \left( \id_{A}\otimes \id_{B}\right)
    \left( \tup{\F{a_1},\F{b_1}}^*,\tup{\R{a_2},\R{b_2}}\right)&=
    \id_A(\F{a_1}^*,\R{a_2})\wedge \id_B(\F{b_1}^*,\R{b_2})\\
    &=\left( \F{a_1}\leq_A \R{a_2}\right)\wedge \left( \F{b_1}\leq_B \R{b_2}\right)\\
    &=\tup{\F{a_1},\F{b_1}}\leq_{A\times B}\tup{\R{a_2},\R{b_2}}\\
    &=\id_{A\times B}\left( \tup{\F{a_1},\F{b_1}}^*,\tup{\R{a_2},\R{b_2}}\right).
\end{aligned}
\end{equation}
Furthermore, consider $f_1\colon \F{A_1} \tickar \R{B_1}$, $f_2\colon \F{A_2}\tickar \R{B_2}$, $g_1\colon \F{B_1}\tickar \R{C_1}$, $g_2\colon \F{B_2}\tickar \R{C_2}$. We need to show that $\underbrace{\left( (f_1\then g_1) \otimes (f_2\then g_2)\right)}_{\star}=\left( (f_1\otimes f_2)\then (g_1\otimes g_2)\right)$. It holds
\begin{equation}
\begin{aligned}
    \star \left( \tup{\F{a_1},\F{a_2}}^*,\tup{\R{c_1},\R{c_2}}\right)&=(f_1\then g_1)(\F{a_1}^*,\R{c_1})\wedge (f_2\then g_2)(\F{a_2}^*,\R{c_2})\\
    &=\left(\bigvee_{b_1\in B_1}\left( f_1(\F{a_1}^*,\R{b_1})\wedge g_1(\F{b_1}^*,\R{c_1})\right)\right) \wedge\left(\bigvee_{b_2\in B_2}\left( f_2(\F{a_2}^*,\R{b_2})\wedge g_2(\F{b_2}^*,\R{c_2})\right)\right)\\
    &=\bigvee_{b_1\in B_1}\bigvee_{b_2\in B_2} \left(f_1(\F{a_1}^*,\R{b_1})\wedge g_1(\F{b_1}^*,\R{c_1})\wedge f_1(\F{a_2}^*,\R{b_2})\wedge f_2(\F{b_2}^*,\R{c_2}) \right)\\
    &=\bigvee_{\tup{b_1,b_2}\in B_1\times B_2} \left(f_1(\F{a_1}^*,\R{b_1})\wedge f_2(\F{a_2}^*,\F{b_2})\wedge g_1(\F{b_1}^*,\R{c_1})\wedge g_2(\F{b_2}^*,\R{c_2}) \right)\\
    &=\left( (f_1\otimes f_2)\then (g_1\otimes g_2)\right)\left(\tup{\F{a_1},\F{a_2}}^*,\tup{\R{c_1},\R{c_2}} \right).
\end{aligned}
\end{equation}
\end{proof}


\begin{lemma}
$\DP$ is a monoidal category with monoidal structure $\left(\otimes, \{1\}\right)$.
\end{lemma}
\begin{proof}
To show that $\DP$ is a monoidal category, we have to first identify the constituents presented in \cref{def:monoidal_cat}. First, recall $\{1\}$ to be the singleton: This is the monoidal unit. In \cref{lemma:monoidal_functorial} we have shown that $\otimes$ is a functor. Furthermore, we identify
\begin{itemize}
    \item $\lambda_A \colon \F{\singleton} \times \F{A} \tickar \R{A}$, for all $A\in \Ob_\DP$, is the left unitor. This is given by
    \begin{equation}
        \lambda_A\left( \tup{1,\F{a_1}}^*,\R{a_2}\right)\coloneqq \F{a_1}\leq_A \R{a_2}.
    \end{equation}
    To prove that this is an isomorphism, we define its inverse $\lambda_A^{-1}\colon \F{A}\tickar \R{\singleton} \times \R{A}$ and show that $\lambda_A\then \lambda_A^{-1}=\id_{\{1\}\times A}$ and $\lambda_A^{-1}\then \lambda_A=\id_{A}$. One has
    \begin{equation}
        \begin{aligned}
           \left( \lambda_A^{-1}\then \lambda_A\right)(\tup{\F{a_1}^*,\R{a_2}})&= \bigvee_{\tup{1,a}\in  \{1\}\times A} \lambda_A^{-1}(\F{a_1}^*,\tup{1,\R{a}})\wedge \lambda_A(\tup{1,\F{a}}^*,\R{a_2})\\
           &= \bigvee_{\tup{1,a}\in  \{1\}\times A}(\F{a_1}\leq \R{a}) \wedge \F{a}\leq \R{a_2}\\
           &=\F{a_1}\leq \R{a_2}\\
           &=\id_A(\tup{\F{a_1}^*,\R{a_2}}).
        \end{aligned}
    \end{equation}
    Similarly, one can show that $\lambda_A\then \lambda_A^{-1}=\id_{\singleton \times A}$.
    \item $\rho_A\colon \F{A} \times \R{\singleton} \tickar \R{A}$, for all $A\in \Ob_\DP$, is the right unitor. This is given by 
    \begin{equation}
        \rho\left( \tup{\F{a_1},1}^*,\R{a_2}\right)\coloneqq \F{a_1}\leq_A \R{a_2}.
    \end{equation}
    The proof that $\rho_A$ is an isomorphism is analogous to the one for $\lambda_A$.
    \item $\alpha_{A,B,C}\colon (\F{A}\times \F{B})\times \F{C} \tickar \R{A} \times (\R{B}\times \R{C})$ for all $A,B,C \in \Ob_\DP$, is the associator. It is given by
    \begin{equation}
        \alpha_{A,B,C}(\tup{\tup{\F{a_1},\F{b_1}},\F{c_1}}^*,\tup{\R{a_2},\tup{\R{b_2},\R{c_2}}})\coloneqq (\F{a_1}\leq_A \R{a_2}) \wedge (\F{b_1} \leq_B \R{b_2})\wedge (\F{c_1}\leq_C \R{c_2}).
    \end{equation}
    To prove that $\alpha_{A,B,C}$ is an isomorphism, we define its inverse $\alpha_{A,B,C}^{-1}\colon \F{A}\times (\F{B}\times \F{C}) \tickar (\R{A}\times \R{B})\times \R{C}$ and show $\alpha_{A,B,C}^{-1}\then \alpha_{A,B,C}=\alpha_{A,B,C}\then \alpha_{A,B,C}^{-1}= \id_{A\times B\times C}$. One has
    \begin{equation}
        \begin{aligned}
           &\left( \alpha_{A,B,C}^{-1}\then \alpha_{A,B,C} \right)(\tup{\F{a_1},\tup{\F{b_1},\F{c_1}}}^*,\tup{\R{a_2},\tup{\R{b_2},\R{c_2}}})\\
           &=\bigvee_{\tup{\tup{a,b},c}\in (A\times B)\times C}
           \alpha_{A,B,C}^{-1}(\tup{\F{a_1},\tup{\F{b_1},\F{c_1}}}^*,\tup{\tup{\R{a},\R{b}},\R{c}})\wedge \alpha_{A,B,C}(\tup{\tup{\F{a},\F{b}},\R{c}}^*,\tup{\R{a_2},\tup{\R{b_2},\R{c_2}}})\\
           &=\bigvee_{\tup{\tup{a,b},c}\in (A\times B)\times C}\left( (\F{a_1}\leq \R{a}) \wedge (\F{b_1}\leq \R{b}) \wedge (\F{c_1}\leq \R{c})\right)\wedge \left((\F{a}\leq \R{a_2})\wedge (\F{b}\leq \R{b_2}) \wedge (\F{c}\leq \R{c_2}\right)\\
           &=(\F{a_1}\leq \R{a_2}) \wedge (\F{b_1}\leq \R{b_2}) \wedge (\F{c_1}\leq \R{c_2})\\
           &=\id_{A\times B\times C}(\tup{\F{a_1},\F{b_1},\F{c_1}}^*,\tup{\R{a_2},\R{b_2},\R{b_3}}).
        \end{aligned}
    \end{equation}
The proof for $\alpha_{A,B,C}\then \alpha_{A,B,C}^{-1}$ is analogous.
\end{itemize}
Therefore, $\DP$ is a monoidal category with monoidal structure $\tup{\otimes, \singleton}$.
\end{proof}

\todo{Add robot example, where the composition of actions is not symmetric, to motivate symmetric monoidal}
\begin{example}
\todo{finish}
Consider $\mathbb{R}^2$, discretized as a two-dimensional grid, representing locations (cells) which a robot can reach. The configuration space of the robot is $\mathbb{R}^2\times \Theta$, where $\Theta=[0,2\pi)$. A specific configuration $\tup{x,y,\theta}$ is represented by the position of the robot $x,y\in \mathbb{R}$ and its orientation $\theta \in \Theta$. The action space of the robot is $\mathcal{A}=\{\mathsf{stay},\leftarrow, \rightarrow, \uparrow, \downarrow\}$. This is a category, where each configuration of the robot is an object, and morphisms are robot actions which change configurations. Each configuration has the identity morphism which does not change it. Composition of morphisms is given by concatenation of actions.
\begin{center}
    \begin{tikzpicture}
    \draw[step=1cm,color=black,thick] (-2,-2) grid (2,2);
    \node at (-1.5,-1.5) {\includegraphics[width=0.08\linewidth,angle=90]{figures/duckiebot}};
    \draw[->, dashed, thick] (-1.5,-1) -- (-1.5,-0.5){};
    \draw[->, dashed, thick] (-1.5,-0.5) -- (-0.5,-0.5){};
    \draw[->, dashed, thick] (-0.5,-0.5) -- (-0.5,0.5){};
    \end{tikzpicture}
\end{center}
\end{example}
\subsection{$\DP$ is a symmetric monoidal category}
\begin{shaded}
\begin{definition}[Symmetric monoidal category]
Let $\tup{\CatC,\otimes,\singleton}$ be a monoidal category (\cref{def:monoidal_cat}). A \emph{symmetric structure} on it consists of one component. For any objects $c,d\in\Ob_\CatC$ an isomorphism $\sigma_{c,d}\colon (c\otimes d)\To{\cong}(d\otimes c)$, called the \emph{braiding}. The braiding must satisfy:
\begin{enumerate}
	\item \emph{Naturality:} Given any morphisms $f_1\colon c_1\to d_1$ and $f_2\colon c_2\to d_2$, the following diagram must commute:
	\begin{equation}
	\includesag{50_sym_1}
	\end{equation}
	\item \emph{Triangles identities:} Given any objects $c,d\in\Ob_\CatC$, the following diagrams must commute:
\begin{equation}
	\includesag{50_sym_2}
\end{equation}
\item \emph{Hexagon identities:} Given any objects $c,d,e\in \Ob_\CatC$, the following diagram must commute:
\begin{equation}
    \includesag{50_sym_3}
\end{equation}
\end{enumerate}
\end{definition}
\end{shaded}

\begin{lemma}
\label{lemma:symmetricmonoidaldp}
For any two posets, $A,B \in\Ob_\DP$, the design problem $\sigma_{A,B}\colon \F{A} \times \F{B} \tickar \R{B} \times \R{A} $ given by
\begin{equation}
        \sigma_{A,B}(\tup{\F{a_1},\F{b_1}}^*,\tup{\R{b_2},\R{a_2}})\coloneqq \left(\F{a_1}\leq_A \R{a_2}\right)\wedge \left(\F{b_1}\leq_B \R{b_2}\right).
\end{equation}
constitutes the braiding for a symmetric structure on $\tup{\DP,\otimes,\singleton}$. In other words, $\tup{\DP, \otimes, \singleton, \sigma}$ is a symmetric monoidal category.
\end{lemma}

\begin{proof}
In this proof, given two elements of a poset $A$, $a_1,a_2$, we denote for brevity $a_1 \leq_A a_2$ by $a_1 \leq a_2$.
To prove that $\sigma_{A,B}$ is an isomorphism, we use \cref{def:monoidal_cat} and show $\sigma_{A,B}\then \sigma_{A,B}=\id_{A\times B}$. One has
    \begin{equation}
        \begin{aligned}
           \left( \sigma_{A,B}\then \sigma_{A,B}\right) \left( \tup{\F{a_1},\F{b_1}}^*,\tup{\R{a_2},\R{b_2}}\right)&=\bigvee_{\tup{b,a}\in B\times A}\sigma_{A,B}(\tup{\F{a_1},\F{b_1}}^*,\tup{\R{b},\R{a}})\wedge \sigma_{A,B}(\tup{\F{b},\F{a}}^*,\tup{\R{a_2},\R{b_2}})\\
           &=\left( (\F{a_1}\leq \R{a}) \wedge (\F{b_1}\leq \R{b})\right)\wedge \left((\F{a}\leq \R{a_2}) \wedge (\F{b}\leq \R{b_2})\right)\\
           &=(\F{a_1}\leq \R{a_2})\wedge (\F{b_1}\leq \R{b_2})\\
           &=\id_{A\times B}(\tup{\F{a_1},\F{b_1}}^*,\tup{\R{a_2},\R{b_2}}).
        \end{aligned}
    \end{equation}
    This also shows the second triangle identity, i.e. that $\sigma_{A,B}$ is its own identity.
    For naturality, let's consider two morphisms (design problems) $f_1\colon \F{A_1}\tickar \R{B_1}$, $f_2\colon \F{A_2}\tickar \R{B_2}$. For brevity, denote $\sigma_{B_1\times B_2,B_2\times B_1}$ by $\sigma_B$ and $\sigma_{A_1\times A_2,A_2\times A_1}$ by $\sigma_A$. One has
    \begin{equation}
        \begin{aligned}
           \left((f_1\otimes f_2)\then \sigma_B \right)&\left( \tup{\F{a_1},\F{a_2}}^*,\tup{\R{b_2},\R{b_1}}\right)\\
           &=\bigvee_{\tup{b',b''}\in B_1\times B_2} \left(f_1\otimes f_2\right) \left( \tup{\F{a_1},\F{a_2}}^*,\tup{\R{b'},\R{b''}}\right)\wedge \sigma_B\left(\tup{\F{b'},\F{b''}},\tup{\R{b_2},\R{b_1}} \right)\\
           &=\bigvee_{\tup{b',b''}\in B_1\times B_2}(f_1(\F{a_1}^*,\R{b'})\wedge f_2(\F{a_2}^*,\R{b''}))\wedge (\left(\F{b'}\leq \R{b_1}\right) \wedge \left(\F{b''}\leq \R{b_2}\right))\\
           &= f_1(\F{a_1}^*,\R{b_1}) \wedge f_2(\F{a_2}^*,\R{b_2}),
        \end{aligned}
    \end{equation}
    where the last step comes from the monotonicity of $f_1$ and $f_2$. Similarly,
    \begin{equation}
        \begin{aligned}
           \left( \sigma_A \then (f_2\otimes f_1)\right)&\left( \tup{\F{a_1},\F{a_2}}^*,\tup{\R{b_2},\R{b_1}}\right)\\
           &=\bigvee_{\tup{a'',a'}\in A_2\times A_1}\sigma_A\left(\tup{\F{a_1},\F{a_2}}^*,\tup{\R{a''},\R{a'}} \right)\wedge \left(f_2\otimes f_1\right) \left( \tup{\F{a''},\F{a'}}^*,\tup{\R{b_2},\R{b_1}}\right)\\
           &=\bigvee_{\tup{a'',a'}\in A_2\times A_1}(\left(\F{a_1}\leq \R{a'}\right)\wedge \left(\F{a_2}\leq \R{a''}\right)) \wedge (f_2(\F{a''}^*,\R{b_2})\wedge f_1(\F{a'}^*,\R{b_1}))\\
           &= f_2(\F{a_1}^*,\R{b_1}) \wedge f_1(\R{a_2}^*,\R{b_2}).
        \end{aligned}
    \end{equation}
    To show the first triangle identity, we write
    \begin{equation}
        \begin{aligned}
           \left(\sigma_{\singleton \times A}\then \rho_A\right)\left( \tup{\F{1},\F{a_1}}^*,\R{a_2}\right)&=\bigvee_{\tup{\F{a'},\R{1}}\in A\times \singleton}\sigma_{\singleton \times A}\left( \tup{\F{1},\F{a_1}}^*,\tup{\R{a'},\R{1}}\right)\wedge \rho_A\left( \tup{\F{a'},\F{1}}^*,\R{a_2}\right)\\
           &=\bigvee_{\tup{a',1}\in A\times \singleton} \left(\F{1}\leq \R{1}\right) \wedge \left(\F{a_1}\leq \R{a'}\right)\wedge \left(\F{a'}\leq \R{a_2}\right)\\
           &=\F{a_1}\leq \R{a_2}\\
           &=\lambda_A\left( \tup{\F{1},\F{a_1}}^*,\R{a_2}\right).
        \end{aligned}
    \end{equation}
    The hexagon identities are more verbose. Consider $A,B,C\in \Ob_\DP$. For brevity, we denote $\alpha_{A,B,C}$ by $\alpha$, $\sigma_{A,B}\otimes \id_C$ by $\sigma'$, $\id_B \otimes \sigma_{A,C}$ by $\sigma''$, $(B\times A)\times C$ as $\Diamond$, and $B\times (A\times C)$ as $\Delta$. Recall that
    \begin{equation}
        \begin{aligned}
            \sigma' \left(\tup{\tup{\F{a_1},\F{b_1}},\F{c_1}}^*,\tup{\R{b_2},\tup{\R{a_2},\R{c_2}}} \right)&=\left( (\F{a_1}\leq \R{a_2})  \wedge (\F{b_1}\leq \R{b_2})\right)\wedge (\F{c_1}\leq \R{c_2})\\
            &= (\F{a_1}\leq \R{a_2})  \wedge (\F{b_1}\leq \R{b_2}) \wedge (\F{c_1}\leq \R{c_2})
        \end{aligned}
    \end{equation}
    One has
    \begin{equation}
        \begin{aligned}
           \left(\sigma' \then \alpha \right)& \left(\tup{\tup{\F{a_1},\F{b_1}},\F{c_1}}^*,\tup{\R{b_2},\tup{\R{a_2},\R{c_2}}} \right)\\
           &=\bigvee_{\tup{\tup{b,a},c}\in \Diamond}\sigma' \left( \tup{\tup{\F{a_1},\F{b_1}},\F{c_1}}^*,\tup{\tup{\R{b},\R{a}},\R{c}}\right)\wedge \alpha \left( \tup{\tup{\F{b},\F{a}},\F{c}}^*,\tup{\R{b_2},\tup{\R{a_2},\R{c_2}}}\right)\\
           &=\bigvee_{\tup{\tup{b,a},c}\in \Diamond} (\left(\F{a_1}\leq \R{a} \right)\wedge \left( \F{b_1}\leq \R{b}\right)\wedge \left(\F{c_1}\leq \R{c}\right)) \wedge  (\left(\F{b}\leq \R{b_2}\right)\wedge \left( \F{a}\leq \R{a_2}\right)\wedge \left(\F{c}\leq \R{c_2}\right))\\
           &=\left(\F{b_1}\leq \R{b_2} \right)\wedge \left(\F{a_1}\leq \R{a_2} \right)\wedge \left( \F{c_1}\leq \R{c_2}\right)\\
           &=\underbrace{\alpha\left(\tup{\tup{\F{b_1},\F{a_1}},\F{c_1}}^*,\tup{\R{b_2},\tup{\R{a_2},\R{c_2}}}\right)}_{\star}.
        \end{aligned}
    \end{equation}
    Furthermore, consider 
    \begin{equation}
        \begin{aligned}
           \left( \star \then \sigma''\right)&\left( \tup{\tup{\F{a_1},\F{b_1}},\F{c_1}}^*,\tup{\R{b_3},\tup{\R{c_3},\R{a_3}}}\right)\\
           &=\bigvee_{\tup{b_2,\tup{a_2,c_2}}\in \Delta} \star \left(\tup{\tup{\F{a_1},\F{b_1}},\F{c_1}}^*, \tup{\R{b_2},\tup{\R{a_2},\R{c_2}}} \right)\wedge \sigma'' \left(\tup{\F{b_2},\tup{\F{a_2},\F{c_2}}}^*,\tup{\R{b_3},\tup{\R{c_3},\R{a_3}}} \right)\\
           &=\bigvee_{\tup{b_2,\tup{a_2,c_2}}\in \Delta}(\left(\F{b_1}\leq \R{b_2} \right)\wedge \left(\F{a_1}\leq \R{a_2} \right)\wedge \left( \F{c_1}\leq \R{c_2}\right)) \wedge ((\F{b_2}\leq \R{b_3})\wedge \left(\F{a_2}\leq \R{a_3}\right) \wedge \left(\F{c_2}\leq \R{c_3}\right))\\
           &=(\F{a_1}\leq \R{a_3}) \wedge (\F{b_1}\leq \R{b_3}) \wedge (\F{c_1}\leq \R{c_3}).
        \end{aligned}
    \end{equation}
    It is easy to see that the other direction in the hexagon commutative diagram commutes. With this we have proved that $\sigma$ is a valid braiding operation and hence that $\tup{\DP, \otimes, \singleton, \sigma}$ is a symmetric monoidal category.
\end{proof}

\subsection{To add somewhere}

\AC{Yes but for now move to the end.}

\begin{shaded}
\begin{definition}[Natural transformation]
Let $\Cat{C}$ and $\Cat{D}$ be categories, and let $F,G\colon \Cat{C}\to \Cat{D}$ be functors. To specify a \emph{natural transformation} $\alpha\colon F\to G$
\begin{equation}
\includesag{120_nat_trans_1}
\end{equation}
one specifies for each obect $c\in \Cat{C}$ a morphism $\alpha_c\colon F(c)\to G(c)$ in $\Cat{D}$, called the $c$\emph{-component} of $\alpha$. For every morphism $f\colon c\to d$ in $\Cat{C}$, these components must satisfy the \emph{naturality condition}:
\begin{equation}
    F(f)\then \alpha_d = \alpha_c\then G(f),
\end{equation}
i.e. the following diagram must commute:
\begin{equation}
\includesag{120_nat_trans_2}
\end{equation}
\end{definition}

\begin{remark}[Natural isomorphism]
A natural transformation $\alpha\colon F\to G$ is called a \emph{natural isomorphism} if each component $\alpha_c$ is an isomorphism in $\Cat{D}$.
\end{remark}

\begin{definition}[Strong monoidal functor]
Let $(\Cat{C},\otimes_\Cat{C},I_\Cat{C})$ and $(\Cat{D},\otimes_\Cat{D},I_\Cat{D})$ be two monoidal categories. A \emph{strong monoidal functor} between $\Cat{C}$ and $\Cat{D}$ is given by:
\begin{enumerate}
    \item A functor 
    \begin{equation}
        F\colon \Cat{C}\to \Cat{D}.
    \end{equation}
    \item An isomorphism 
    \begin{equation}
        \epsilon\colon I_\Cat{D}\to F(I_\Cat{C}).
    \end{equation}
    \item A natural isomorphism
    \begin{equation}
        \mu_{x,y}\colon F(x)\otimes_\Cat{D} F(y) \to F(x\otimes_\Cat{C} y),\quad \forall x,y\in \Cat{C},
    \end{equation}
\end{enumerate}
satisfying the following conditions:
\begin{enumerate}
    \item[a)] \emph{Associativity}: For all objects $x,y,z\in \Cat{C}$, the following diagram commutes.
    \begin{equation}
        \includesag{120_natural_associativity}
    \end{equation}
    where $a^\Cat{C}$ and $a^\Cat{D}$ are called \emph{associators}.
    \item[b)] \emph{Unitality}: For all $x\in \Cat{C}$, the following diagrams commute:
    \begin{equation}
        \includesag{120_natural_unitality}
    \end{equation}
    where $l^\Cat{C}$ and $r^\Cat{C}$ represent the left and right \emph{unitors}.
\end{enumerate}
\end{definition}
\end{shaded}