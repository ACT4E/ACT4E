% !TEX root = ../CategoricalCoDesign.tex
\section{Thinking about resource composition}
\subsection{Products}
Is ``$X \times Y$'' the same as ``$Y \times X$''?
It depends on the context. Intuitively, for our categories of resources, we would not make a distinction
between ``having $X$ and $Y$'' and ``having $Y$ and $X$''.
However, there are contexts in which this is not valid. For example, if we are
using $X \times Y$ to mean that we will have the resource $X$ today, and the
resource $Y$ tomorrow, then $Y \times X$ would not be the same as $X \times Y$.

In the contexts in which this symmetry holds, we call the category ``symmetric''.
\AC{I will make this more precise later.}
The word ``symmetric'' is well suited, because to say that the two objects are equivalent,
or ``isomorphic'', we can postulate that we always have a way to get
``$X \times Y$'' starting from ``$Y \times X$'' and viceversa. In the diagram, this is depicted
by the two arrows that connect them~(\cref{fig:e17}).

\begin{figure}[h!]
    \centering
    \includesag{30_dpcatfig_e17}
    \caption{\label{fig:e17}}
\end{figure}

Consider the following example: To generate motion, one needs \emph{both} an engine \emph{and} some fuel.

We can consider ``motion'', ``fuel'', and ``engine'' as resources and draw them as points (\cref{fig:e11}).

\begin{figure}[h!]
    \centering
    \includesag{30_dpcatfig_e11}
    %\includegraphics[scale=0.33]{dpcatfig_e11}
    \caption{\label{fig:e11}}
\end{figure}

However, it is not clear how to represent the arrow corresponding to
``fuel + engine = motion'', because arrows only have one head and
one tail.

One clean way to formalize this is to expand the objects in the category,
by postulating that,
if two resources~$X$ and~$Y$ exist, then there exists also the
resource ``$X$ \emph{and} $Y$''.


In our example, we can postulate the existence of an object ``engine \emph{and}
fuel'' and then draw the arrow from it to motion (\cref{fig:e13}).

\begin{figure}[h!]
    \centering
    \includesag{30_dpcatfig_e13}
    \caption{\label{fig:e13} 
    \AC{There should be 3 dots: "engine", "fuel", "engine and fuel"}
    }
\end{figure}

We call this construction ``product'' because it is equivalent to
the Cartesian product of sets (\cref{def:cartesian-product}).

\begin{definition}[Cartesian product]
\label{def:cartesian-product}
   Given two sets $A,B$, their \emph{cartesian product} is denoted $A\times  B$
   and defined as 
   \begin{equation}
       A\times  B=\{ \tup{a,b}\mid a\in A\text{ and } b\in B\}.
   \end{equation}
\end{definition}

\begin{figure}[h!]
    \centering
    \includesag{50_cartesian_product}
    \caption{Example of cartesian product of two sets.\label{fig:cartesian-product}}
\end{figure}

Given the Cartesian product of two sets, we can define two \emph{projection maps} $\pi_1$
and $\pi_2$, which, given an element of the product, will return the first or the second
element:
\begin{equation}
\begin{aligned}
    \pi_1(\tup{a,b}) &= a,\\
    \pi_2(\tup{a,b}) &= b.
\end{aligned}
\end{equation}

In our case, we would be able to say that, given both $\mathsf{resource}_1$ and $\mathsf{resource}_2$,
we can recover resource1 and resource2 separately~(\cref{fig:resource-product}).

\begin{figure}[h!]
    \centering
    \includesag{30_recover}
    \caption{Two projection maps \label{fig:resource-product}.}
\end{figure}


Later, we will see other examples of products, such as the products of partially ordered sets.
All these products are an instance of a more generic concept of product that exists in category
theory.  The formal definition is below.
 
\begin{shaded}
\begin{definition}[Categorical Product]
The \emph{product} of two objects $A$ and $B$ is an object $A \times B \in \CatC$ together with canonical morphisms $\pi_A \colon A \times B \to A$ and $\pi_B \colon A \times B \to B$, such that, given any $X \in \CatC$ and morphisms $f \colon X \to A, g \colon X \to B$, there exists a \emph{unique} morphism $(\prodMap{f}{g}) \colon X \to A \times B$ such that $f = (\prodMap{f}{g})\then \pi_A$ and $g=(\prodMap{f}{g})\then \pi_B$.
\end{definition}
\end{shaded}

The formulation, slightly technical, hints at uniqueness properties or ``universality''.
The definition implies that if a product exists, then it is unique, in the sense
that all the admissible products can be derived from each other. Therefore, when
presented with a new category, one can guess what construction might be the product, and check
the definition to make sure that it is indeed \emph{the} product.